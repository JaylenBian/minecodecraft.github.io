<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[iOSÁöÑÂá†ÁßçÂÆöÊó∂Âô®ÂèäÂå∫Âà´]]></title>
    <url>%2F2018%2F01%2F13%2FiOS%E7%9A%84%E5%87%A0%E7%A7%8D%E5%AE%9A%E6%97%B6%E5%99%A8%E5%8F%8A%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[Âú®ÂºÄÂèë‰∏≠Êàë‰ª¨ÁªèÂ∏∏Áî®Âà∞ÂÆöÊó∂Âô®ÔºåiOS‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂ§öÁßçÂÆöÊó∂Âô®ÔºåÂåÖÊã¨NSTimer„ÄÅCADisplayLink„ÄÅGCD„ÄÅNSThread(performSelector:afterDelay:)ÔºåÂÖ∂Êú¨Ë¥®ÈÉΩÊòØÈÄöËøáRunLoopÊù•ÂÆûÁé∞Ôºå‰ΩÜGCDÈÄöËøáÂÖ∂Ë∞ÉÂ∫¶Êú∫Âà∂Â§ßÂ§ßÊèêÈ´ò‰∫ÜÊÄßËÉΩ„ÄÇÂÆöÊó∂Âô®ÁöÑ‰ΩøÁî®‰∏≠ÂÆπÊòìÂ≠òÂú®‰∏Ä‰∫õËØØÂå∫ÔºåÊïÖÂÜôÊú¨ÊñáÊÄªÁªì„ÄÇ Êú¨ÊñáÂ∞Ü‰ªãÁªçiOSÁöÑÂá†ÁßçÂÆöÊó∂Âô®„ÄÅÂÆöÊó∂Âô®ÁöÑÁ´ãÂç≥ÊâßË°åÊñπÊ≥ï„ÄÅÂÜÖÂ≠òÊ≥ÑÈú≤ÈóÆÈ¢ò„ÄÅ‰∏çÂáÜÊó∂ÈóÆÈ¢ò NSTimeriOS‰∏≠ÊúÄÂü∫Êú¨ÁöÑÂÆöÊó∂Âô®ÔºåÂú®Swift‰∏≠Áß∞‰∏∫Timer„ÄÇÂÖ∂ÈÄöËøáRunLoopÊù•ÂÆûÁé∞Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãËæÉ‰∏∫ÂáÜÁ°ÆÔºå‰ΩÜÂΩìÂΩìÂâçÂæ™ÁéØËÄóÊó∂Êìç‰ΩúËæÉÂ§öÊó∂Ôºå‰ºöÂá∫Áé∞Âª∂ËøüÈóÆÈ¢ò„ÄÇÂêåÊó∂Ôºå‰πüÂèóÊâÄÂä†ÂÖ•ÁöÑRunLoopÁöÑRunLoopModeÂΩ±ÂìçÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉRunLoopÁöÑÁâπÊÄß„ÄÇ ÂàõÂª∫ÊûÑÈÄ†ÊñπÊ≥ï‰∏ªË¶ÅÂàÜ‰∏∫Ëá™Âä®ÂêØÂä®ÂíåÊâãÂä®ÂêØÂä®ÔºåÊâãÂä®ÂêØÂä®ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÈúÄË¶ÅÊàë‰ª¨Âú®ÂàõÂª∫NSTimerÂêéÊâãÂä®ÂêØÂä®ÂÆÉ: 1234567/// ÊûÑÈÄ†Âπ∂ÂºÄÂêØ(ÂêØÂä®NSTimerÊú¨Ë¥®‰∏äÊòØÂ∞ÜÂÖ∂Âä†ÂÖ•RunLoop‰∏≠)// &quot;scheduledTimer&quot;ÂâçÁºÄÁöÑ‰∏∫Ëá™Âä®ÂêØÂä®NSTimerÁöÑÔºåÂ¶Ç:+ (NSTimer *)scheduledTimerWithTimeInterval:(NSTimeInterval)interval repeats:(BOOL)repeats block:(void (^)(NSTimer *timer))block/// ÊûÑÈÄ†‰ΩÜ‰∏çÂºÄÂêØ// &quot;timer&quot;ÂâçÁºÄÁöÑ‰∏∫Âè™ÊûÑÈÄ†‰∏çÂêØÁî®ÁöÑÔºåÂ¶Ç:+ (NSTimer *)timerWithTimeInterval:(NSTimeInterval)interval repeats:(BOOL)repeats block:(void (^)(NSTimer *timer))block ÂâçÈù¢ËØ¥Âà∞ÔºåÂÆöÊó∂Âô®ÁöÑÊú¨Ë¥®ÊòØÂä†ÂÖ•Âà∞‰∫ÜRunLoopÁöÑTimerÂàóË°®‰∏≠Ôºå‰ªéËÄåÈöèÁùÄËøêË°åÂæ™ÁéØÊù•ÂÆûÁé∞ÂÆöÊó∂Âô®ÁöÑÂäüËÉΩ„ÄÇÊâÄ‰ª•NSTimerÈô§‰∫ÜÊûÑÈÄ†ÔºåËøòÈúÄË¶ÅÂä†ÂÖ•RunLoop„ÄÇÂÖ≥‰∫éRunLoopÁÆÄÂçïÂÆûÁî®ÂèØ‰ª•ËßÅÊñáÊú´„ÄÇ ÈáäÊîæÂÆöÊó∂Âô®ÁöÑÈáäÊîæ‰∏ÄÂÆöË¶ÅÂÖàÂ∞ÜÂÖ∂ÁªàÊ≠¢ÔºåËÄåÂêéÊâçËÉΩÈîÄÊØÅÂØπË±°„ÄÇÂÖ∑‰ΩìÂéüÂõ†‰∏ãÊñá‰ºöËØ¥„ÄÇ 1- (void)invalidate; Á´ãÂç≥ÊâßË°å(fire)Êàë‰ª¨ÂØπÂÆöÊó∂Âô®ËÆæÁΩÆ‰∫ÜÂª∂Êó∂‰πãÂêéÔºåÊúâÊó∂ÈúÄË¶ÅËÆ©ÂÆÉÁ´ãÂàªÊâßË°åÔºåÂèØ‰ª•‰ΩøÁî®fireÊñπÊ≥ï: 1- (void)fire; ‰ΩÜÊòØËØ•ÊñπÊ≥ïÁöÑ‰ΩøÁî®ÈúÄË¶ÅÊ≥®ÊÑè: fireÊñπÊ≥ï‰∏ç‰ºöÊîπÂèòÈ¢ÑÂÆöÂë®ÊúüÊÄßË∞ÉÂ∫¶„ÄÇ‰ªÄ‰πàÊÑèÊÄùÂë¢ÔºüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÊàë‰ª¨ÊääTimerËÆæÁΩÆ‰∏∫Âæ™ÁéØË∞ÉÁî®ÔºåÈÇ£‰πàÊàë‰ª¨‰ªª‰ΩïÊó∂ÂÄôË∞ÉÁî®fireÊñπÊ≥ïÔºå‰∏ã‰∏ÄÊ¨°Ë∞ÉÂ∫¶ÁöÑÊó∂Èó¥‰ªçÊóßÊòØÊåâÁÖßÈ¢ÑÂÆöÊó∂Èó¥ÔºåËÄåÈùûÂü∫‰∫éÊú¨Ê¨°ÊâßË°åÁöÑÊó∂Èó¥ËÆ°ÁÆóËÄåÂæó„ÄÇËøôÈáåÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÔºåÊàë‰ª¨ÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑüå∞: 12345678910111213141516self.timer1 = [NSTimer timerWithTimeInterval:5.0 target:self selector:@selector(timerMethod1) userInfo:nil repeats:NO];[[NSRunLoop currentRunLoop] addTimer:self.timer forMode:NSRunLoopCommonModes];self.timer2 = [NSTimer timerWithTimeInterval:5.0 target:self selector:@selector(timerMethod2) userInfo:nil repeats:NO];[[NSRunLoop currentRunLoop] addTimer:self.timer forMode:NSRunLoopCommonModes];/* ......... */- (void)timerMethod1 &#123; static int timerIdx1 = 0; NSLog(@&quot;Timer Method1: %d&quot;, timerIdx1++);&#125;- (void)timerMethod2 &#123; static int timerIdx2 = 0; NSLog(@&quot;Timer Method2: %d&quot;, timerIdx2++);&#125; Êàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏§‰∏™NSTimerÂπ∂Âä†ÂÖ•Âà∞RUnLoop‰∏≠ÔºåÂÖ∂ÁõÆÊ†áÊñπÊ≥ïÂíåÂÖ∂‰ªñÂ±ûÊÄßÂùáÁõ∏ÂêåÔºåÂîØ‰∏ÄÂå∫Âà´ÊòØÂâçËÄÖÂè™ËøêË°å‰∏ÄÊ¨°„ÄÇ Êàë‰ª¨Âú®Á¨¨8ÁßíÊó∂Ë∞ÉÁî®fireÊñπÊ≥ïÔºåÁªìÊûúÂ¶Ç‰ΩïÂë¢Ôºü timer1Á´ãÂç≥ÊâßË°åÔºåÂπ∂‰∏îÁî±‰∫é‰ªÖÊâßË°å‰∏ÄÊ¨°ÔºåÂÖ∂‰ªªÂä°ÁªìÊùü„ÄÇËÄåtimer2Âú®Á¨¨8ÁßíÊâßË°åÂêéÔºå‰ªçÊóßÂú®Á¨¨10ÁßíÊâßË°åÔºåËøôÊ†∑ÁöÑÁªìÊûúËØ¥Êòé‰∫ÜfireÊñπÊ≥ï‰∏ç‰ºöÊîπÂèòÈ¢ÑÂÆöÂë®ÊúüÊÄßË∞ÉÂ∫¶„ÄÇ CADisplayLinkCADisplayLinkÊòØÂü∫‰∫éÂ±èÂπïÂà∑Êñ∞ÁöÑÂë®ÊúüÔºåÊâÄ‰ª•ÂÖ∂‰∏ÄËà¨ÂæàÂáÜÊó∂ÔºåÊØèÁßíÂà∑Êñ∞60Ê¨°„ÄÇÂÖ∂Êú¨Ë¥®‰πüÊòØÈÄöËøáRunLoopÔºåÊâÄ‰ª•‰∏çÈöæÁúãÂá∫ÔºåÂΩìRunLoopÈÄâÊã©ÂÖ∂‰ªñÊ®°ÂºèÊàñË¢´ËÄóÊó∂Êìç‰ΩúËøáÂ§öÊó∂Ôºå‰ªçÊóß‰ºöÈÄ†ÊàêÂª∂Ëøü„ÄÇ ÂÖ∂‰ΩøÁî®Ê≠•È™§‰∏∫ ÂàõÂª∫CADisplayLink-&gt;Ê∑ªÂä†Ëá≥RunLoop‰∏≠-&gt;ÁªàÊ≠¢-&gt;ÈîÄÊØÅ„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ã: 12345678// ÂàõÂª∫CADisplayLinkCADisplayLink *disLink = [CADisplayLink displayLinkWithTarget:self selector:@selector(linkMethod)];// Ê∑ªÂä†Ëá≥RunLoop‰∏≠[disLink addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSRunLoopCommonModes];// ÁªàÊ≠¢ÂÆöÊó∂Âô®[disLink invalidate];// ÈîÄÊØÅÂØπË±°disLink = nil; Áî±‰∫éÂÖ∂Âπ∂ÈùûNSTimerÁöÑÂ≠êÁ±ªÔºåÁõ¥Êé•‰ΩøÁî®NSRunLoopÁöÑÊ∑ªÂä†TimerÊñπÊ≥ïÊó†Ê≥ïÂä†ÂÖ•ÔºåÂ∫î‰ΩøÁî®CADisplayLinkËá™Â∑±ÁöÑaddToRunLoop:forMode:ÊñπÊ≥ï„ÄÇ ÂêåÊó∂ÔºåÁî±‰∫éÂÖ∂ÊòØÂü∫‰∫éÂ±èÂπïÂà∑Êñ∞ÁöÑÔºåÊâÄ‰ª•‰πüÂ∫¶ÈáèÂçï‰ΩçÊòØÊØèÂ∏ßÔºåÂÖ∂Êèê‰æõ‰∫ÜÊ†πÊçÆÂ±èÂπïÂà∑Êñ∞Êù•ËÆæÁΩÆÈó¥ÈöîÁöÑframeIntervalÂ±ûÊÄßÔºåÂÖ∂ÂÜ≥ÂÆö‰∫éÂ±èÂπïÂà∑Êñ∞Â§öÂ∞ëÂ∏ßÊó∂Ë∞ÉÁî®‰∏ÄÊ¨°ËØ•ÊñπÊ≥ïÔºåÈªòËÆ§‰∏∫1ÔºåÂç≥1/60ÁßíË∞ÉÁî®‰∏ÄÊ¨°„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶ÅËÆ°ÁÆóÂá∫ÊØèÊ¨°Ë∞ÉÁî®ÁöÑÊó∂Èó¥Èó¥ÈöîÔºåÂèØ‰ª•ÈÄöËøáframeInterval * durationÊ±ÇÂá∫ÔºåÂêéËÄÖ‰∏∫Â±èÂπïÊØèÂ∏ßÈó¥ÈöîÁöÑÂè™ËØªÂ±ûÊÄß„ÄÇ Âú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÔºåÈÄÇÂΩì‰ΩøÁî®CADisplayLinkÁîöËá≥Êúâ‰ºòÂåñ‰ΩúÁî®„ÄÇÊØîÂ¶ÇÂØπ‰∫éÈúÄË¶ÅÂä®ÊÄÅËÆ°ÁÆóËøõÂ∫¶ÁöÑËøõÂ∫¶Êù°ÔºåÁî±‰∫éËµ∑ËøõÂ∫¶ÂèçÈ¶à‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜUIÊõ¥Êñ∞ÔºåÈÇ£‰πàÂΩìËÆ°ÁÆóËøõÂ∫¶ÁöÑÈ¢ëÁéáË∂ÖËøáÂ∏ßÊï∞Êó∂ÔºåÂ∞±ÈÄ†Êàê‰∫ÜÂæàÂ§öÊó†Ë∞ìÁöÑËÆ°ÁÆó„ÄÇÂ¶ÇÊûúÂ∞ÜËÆ°ÁÆóËøõÂ∫¶ÁöÑÊñπÊ≥ïÁªëÂÆöÂà∞CADisplayLink‰∏äÊù•Ë∞ÉÁî®ÔºåÂàôÂè™Âú®ÊØèÊ¨°Â±èÂπïÂà∑Êñ∞Êó∂ËÆ°ÁÆóËøõÂ∫¶Ôºå‰ºòÂåñ‰∫ÜÊÄßËÉΩ„ÄÇMBProcessHUBÂàôÊòØÂà©Áî®‰∫ÜËøô‰∏ÄÁâπÊÄß„ÄÇ GCDGCDÂÆöÊó∂Âô®ÊòØdispatch_source_tÁ±ªÂûãÁöÑÂèòÈáèÔºåÂÖ∂ÂèØ‰ª•ÂÆûÁé∞Êõ¥Âä†Á≤æÂáÜÁöÑÂÆöÊó∂ÊïàÊûú„ÄÇÊàë‰ª¨Êù•ÁúãÁúãÂ¶Ç‰Ωï‰ΩøÁî®: 1234567891011121314151617181920212223242526272829/** ÂàõÂª∫ÂÆöÊó∂Âô®ÂØπË±° * para1: DISPATCH_SOURCE_TYPE_TIMER ‰∏∫ÂÆöÊó∂Âô®Á±ªÂûã * para2-3: ‰∏≠Èó¥‰∏§‰∏™ÂèÇÊï∞ÂØπÂÆöÊó∂Âô®Êó†Áî® * para4: ÊúÄÂêé‰∏∫Âú®‰ªÄ‰πàË∞ÉÂ∫¶ÈòüÂàó‰∏≠‰ΩøÁî® */_gcdTimer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, dispatch_get_global_queue(0, 0));/** ËÆæÁΩÆÂÆöÊó∂Âô® * para2: ‰ªªÂä°ÂºÄÂßãÊó∂Èó¥ * para3: ‰ªªÂä°ÁöÑÈó¥Èöî * para4: ÂèØÊé•ÂèóÁöÑËØØÂ∑ÆÊó∂Èó¥ÔºåËÆæÁΩÆ0Âç≥‰∏çÂÖÅËÆ∏Âá∫Áé∞ËØØÂ∑Æ * Tips: Âçï‰ΩçÂùá‰∏∫Á∫≥Áßí */dispatch_source_set_timer(_gcdTimer, DISPATCH_TIME_NOW, 2.0 * NSEC_PER_SEC, 0.0 * NSEC_PER_SEC);/** ËÆæÁΩÆÂÆöÊó∂Âô®‰ªªÂä° * ÂèØ‰ª•ÈÄöËøáblockÊñπÂºè * ‰πüÂèØ‰ª•ÈÄöËøáCÂáΩÊï∞ÊñπÂºè */dispatch_source_set_event_handler(_gcdTimer, ^&#123; static int gcdIdx = 0; NSLog(@&quot;GCD Method: %d&quot;, gcdIdx++); NSLog(@&quot;%@&quot;, [NSThread currentThread]); if(gcdIdx == 5) &#123; // ÁªàÊ≠¢ÂÆöÊó∂Âô® dispatch_suspend(_gcdTimer); &#125;&#125;);// ÂêØÂä®‰ªªÂä°ÔºåGCDËÆ°Êó∂Âô®ÂàõÂª∫ÂêéÈúÄË¶ÅÊâãÂä®ÂêØÂä®dispatch_resume(_gcdTimer); GCDÊõ¥ÂáÜÊó∂ÁöÑÂéüÂõ†ÈÄöËøáËßÇÂØü‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞GCDÂÆöÊó∂Âô®ÂÆûÈôÖ‰∏äÊòØ‰ΩøÁî®‰∫ÜdispatchÊ∫ê(dispatch source)ÔºådispatchÊ∫êÁõëÂê¨Á≥ªÁªüÂÜÖÊ†∏ÂØπË±°Âπ∂Â§ÑÁêÜ„ÄÇdispatchÁ±ª‰ººÁîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ®°ÂºèÔºåÈÄöËøáÁõëÂê¨Á≥ªÁªüÂÜÖÊ†∏ÂØπË±°ÔºåÂú®Áîü‰∫ßËÄÖÁîü‰∫ßÊï∞ÊçÆÂêéËá™Âä®ÈÄöÁü•Áõ∏Â∫îÁöÑdispatchÈòüÂàóÊâßË°åÔºåÂêéËÄÖÂÖÖÂΩìÊ∂àË¥πËÄÖ„ÄÇÈÄöËøáÁ≥ªÁªüÁ∫ßË∞ÉÁî®ÔºåÊõ¥Âä†Á≤æÂáÜ„ÄÇ ÂÆöÊó∂Âô®‰∏çÂáÜÊó∂ÁöÑÈóÆÈ¢òÂèäËß£ÂÜ≥ÈÄöËøá‰∏äÊñáÁöÑÂèôËø∞ÔºåÊàë‰ª¨Â§ßËá¥‰∫ÜËß£‰∫ÜÂÆöÊó∂Âô®‰∏çÂáÜÊó∂ÁöÑÂéüÂõ†ÔºåÊÄªÁªì‰∏Ä‰∏ã‰∏ªË¶ÅÊòØ ÂΩìÂâçRunLoopËøá‰∫éÁπÅÂøô RunLoopÊ®°Âºè‰∏éÂÆöÊó∂Âô®ÊâÄÂú®Ê®°Âºè‰∏çÂêå ‰∏äÈù¢Ëß£Èáä‰∫ÜGCDÊõ¥Âä†ÂáÜÊó∂ÁöÑÂéüÂõ†ÔºåÊâÄ‰ª•Ëß£ÂÜ≥ÊñπÊ°à‰πü‰∏çÈöæÂæóÂá∫: ÈÅøÂÖçËøáÂ§öËÄóÊó∂Êìç‰ΩúÂπ∂Âèë ÈááÁî®GCDÂÆöÊó∂Âô® ÂàõÂª∫Êñ∞Á∫øÁ®ãÂπ∂ÂºÄÂêØRunLoopÔºåÂ∞ÜÂÆöÊó∂Âô®Âä†ÂÖ•ÂÖ∂‰∏≠(ÈÄÇÂ∫¶‰ΩøÁî®) Â∞ÜÂÆöÊó∂Âô®Ê∑ªÂä†Âà∞NSRunLoopCommonModes(‰ΩøÁî®‰∏çÂΩì‰ºöÈòªÂ°ûUIÂìçÂ∫î) ÂÖ∂‰∏≠Âêé‰∏§ËÄÖÂú®‰ΩøÁî®ÂâçÂ∫îÁ°Æ‰øùÂêàÁêÜ‰ΩøÁî®ÔºåÂê¶Âàô‰ºö‰∫ßÁîüË¥üÈù¢ÂΩ±Âìç„ÄÇ ÂÆöÊó∂Âô®ÁöÑÂÜÖÂ≠òÊ≥ÑÈú≤ÈóÆÈ¢òÂÆöÊó∂Âô®Âú®‰ΩøÁî®Êó∂Â∫îÊ†ºÂ§ñÊ≥®ÊÑèÂÜÖÂ≠òÁÆ°ÁêÜÔºåÂ∏∏ËßÅÊÉÖÂÜµÊó∂ÂÆöÊó∂Âô®ÂØπË±°Êó†Ê≥ïÈáäÊîæÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤ÔºåËÄå‰∏•ÈáçÊÉÖÂÜµ‰ºöÈÄ†ÊàêÊéßÂà∂Âô®‰πüÊó†Ê≥ïÈáäÊîæÔºåÂç±ÂÆ≥Êõ¥Â§ß„ÄÇÂÖ∂ÂÜÖÂ≠òÊ≥ÑÈú≤Êúâ‰∏§ÈÉ®ÂàÜÈóÆÈ¢òÔºåÊàë‰ª¨ÂÖàÊù•ÁúãÁ¨¨‰∏ÄÈÉ®ÂàÜ: ÈóÆÈ¢ò1: NSTimerÊó†Ê≥ïÈáäÊîæÊàë‰ª¨Áü•ÈÅìÔºåNSTimerÂÆûÈôÖ‰∏äÊòØÂä†ÂÖ•Âà∞RunLoop‰∏≠ÁöÑÔºåÈÇ£‰πàÂú®ÂÖ∂ÂêØÂä®Êó∂ÂÖ∂Ë¢´RunLoopÂº∫ÂºïÁî®ÔºåÈÇ£‰πàÂç≥‰ΩøÊàë‰ª¨Âú®ÂêéÈù¢Â∞ÜÂÆöÊó∂Âô®ËÆæ‰∏∫nilÔºå‰πüÂè™ÊòØÂºïÁî®ËÆ°Êï∞ÂáèÂ∞ë‰∫Ü1ÔºåÂÖ∂‰ªçÂõ†‰∏∫Ë¢´RunLoopÂºïÁî®ËÄåÊó†Ê≥ïÈáäÊîæÔºåÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇ ÈóÆÈ¢ò2: ÊéßÂà∂Âô®Êó†Ê≥ïÈáäÊîæËøôÊòØNSTimerÊó†Ê≥ïÈáäÊîæÊâÄÈÄ†ÊàêÁöÑÊõ¥‰∏•ÈáçÈóÆÈ¢òÔºåÁî±‰∫é‰∏∫ÂÆöÊó∂Âô®ËÆæÁΩÆ‰∫ÜtargetÔºåÊéßÂà∂Âô®Â∞±‰ºöÂæóÂà∞‰∏Ä‰∏™Êù•Ëá™ÂÆöÊó∂Âô®ÁöÑÂºïÁî®„ÄÇÊàë‰ª¨Êù•ÂàÜÊûê‰∏Ä‰∏ãËøô‰∏™ÊÉÖÂÜµÔºåÈ¶ñÂÖàÂÆöÊó∂Âô®ÂøÖÈ°ªË¢´Âº∫ÂºïÁî®ÔºåÂê¶ÂàôÂ∞ÜÂú®autoreleasepool‰πãÂêéË¢´ÈáäÊîæÊéâÈÄ†ÊàêÈáéÊåáÈíà„ÄÇËÄåÂÆöÊó∂Âô®ÁöÑtargetÂèàÂØπÊéßÂà∂Âô®Êúâ‰∏Ä‰∏™Âº∫ÂºïÁî®ÔºåËøôÂ∞±ÊòØÂÖ∏ÂûãÁöÑÂº∫ÂºïÁî®Âæ™ÁéØ(Âæ™ÁéØÂºïÁî®)„ÄÇ ÈÇ£‰πàÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏§‰∏™ÈóÆÈ¢òÂë¢ÔºüÁ≠îÊ°àÂ∞±ÊòØ‰ΩøÁî®invalidateÊñπÊ≥ï„ÄÇ ËãπÊûúÊñáÊ°£‰ªãÁªçÂ¶Ç‰∏ã: This method is the only way to remove a timer from an NSRunLoop object. The NSRunLoop object removes its strong reference to the timer, either just before the invalidate method returns or at some later point.If it was configured with target and user info objects, the receiver removes its strong references to those objects as well. Âç≥ÔºåinvalidateÊñπÊ≥ï‰ºöÂ∞ÜÂÆöÊó∂Âô®‰ªéRunLoop‰∏≠ÁßªÈô§ÔºåÂêåÊó∂Ëß£Èô§ÂØπtargetÁ≠âÂØπË±°ÁöÑÂº∫ÂºïÁî®„ÄÇ CADisplayLinkÂêåÁêÜÔºåËÄåGCDÂÆöÊó∂Âô®Âàô‰ΩøÁî®dispatch_suspend() Êõ¥Â§öÊäÄÊúØÊñáÁ´†ÔºåÊ¨¢ËøéËÆøÈóÆÊú¨‰∫∫ÂçöÂÆ¢ - Minecode‚Äôs BlogGithub - Minecodecraft]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Â∫ïÂ±Ç</tag>
        <tag>GCD</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
        <tag>ÊÄßËÉΩ‰ºòÂåñ</tag>
        <tag>Cocoa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÜçÊé¢OCÂØπË±°Ê®°Âûã(isa/superclass)--‰ªéNSObjectÁöÑÂÆûÁé∞Âá∫Âèë]]></title>
    <url>%2F2018%2F01%2F09%2F%E5%86%8D%E6%8E%A2OC%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B(isa%3Asuperclass)--%E4%BB%8ENSObject%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%87%BA%E5%8F%91%2F</url>
    <content type="text"><![CDATA[‰∫ÜËß£Objective-C‰∏≠Á±ªÂûãÁªìÊûÑÂêéÔºåÊàë‰ª¨Áü•ÈÅì‰∫ÜOCÁöÑÂØπË±°Ê®°ÂûãÊûÑÊàê„ÄÇÂú®Ê≠§ËÆ®ËÆ∫ÊèêÂá∫‰∏Ä‰∏™ÈóÆÈ¢òÔºöobject_getClass(obj)‰∏é[obj class]Êúâ‰ΩïÂå∫Âà´Ôºü ‰∏ãÈù¢ÔºåÊàë‰ª¨Â∞Ü‰ªéisKindOfClassÂíåisMemberOfClass‰∏§‰∏™ÊñπÊ≥ïÂÖ•ÊâãËøõË°åÊé¢Á©∂„ÄÇ ËÉåÊôØObjective-C‰∏≠ÂØπ‰∫éÁ±ªÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂàÜ‰∏∫‰∫ÜÂÆû‰æã(object)„ÄÅÁ±ª(class)„ÄÅÂÖÉÁ±ª(meta class)„ÄÅÊ†πÂÖÉÁ±ª(root meta class)Âá†Áßç(‰πüÂèØÂä†‰∏äÊ†πÁ±ª(root class))„ÄÇÂú®‰ªñ‰ª¨ÁöÑÂ±ÇÊ¨°ÁªìÊûÑ‰∏≠ÔºåisaÊâÆÊºîËÄÖÊåáÂêëÂÖ∂Áà∂Á±ªÂûãÁöÑËÅåË¥£„ÄÇÂÖ∑‰ΩìËßÅËøôÂº†ÁªèÂÖ∏ÁöÑÂõæ: Runtime‰∏≠‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Üobject_getClass()ÂáΩÊï∞ÔºåËÄåNSObject‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü+/- (Class)class‰∏§ÁßçÊñπÊ≥ï„ÄÇÈÇ£‰πàÔºåËøô‰∏§ÁßçÂáΩÊï∞ÊòØÂê¶Áõ∏ÂêåÂë¢ÔºüÊàë‰ª¨Êù•‰ΩøÁî®isKindOfClassÂíåisMemberOfClassÈ™åËØÅ: 12345NSObject *obj = [[NSObject alloc] init];NSLog(@&quot;%p&quot;, obj);NSLog(@&quot;%p&quot;, object_getClass(obj));NSLog(@&quot;%p&quot;, object_getClass([NSObject class]));NSLog(@&quot;%p&quot;, [NSObject class]); ÊâìÂç∞Â¶Ç‰∏ã 12340x10053a440 // [[NSObject alloc] init]0x7fffaa313140 // object_getClass(obj)0x7fffaa3130f0 // object_getClass([NSObject class])0x7fffaa313140 // [NSObject class] ÂèØ‰ª•ÁúãÂà∞Ôºåobject_getClass(obj)‰∏é[NSObject class]ÊòØÂêå‰∏ÄÂú∞ÂùÄÔºåËØ¥ÊòéÂØπÂÆû‰æãË∞ÉÁî®object_getClassËé∑Âèñ‰∫ÜÂÖ∂Á±ª()ÔºåËÄåÂØπÂÖ∂Á±ªË∞ÉÁî®classÁ±ªÊñπÊ≥ï‰πüÊòØËé∑ÂèñÂÖ∂Á±ª(Ëøô‰∏™‚ÄùÁ±ª‚ÄùÊòØÊåáRuntimeÂØπË±°Ê®°Âûã‰∏≠ÁöÑ‚ÄùÁ±ª‚Äù)„ÄÇ Â∞±ËøôÊ†∑Â∞±ÁªìÊùüÊé¢Á©∂‰∫ÜÂêóÔºåÂΩìÁÑ∂‰∏ç‰ºöÔºå‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÁªìÊûúÂ¶Ç‰ΩïÂë¢Ôºü 12345BOOL test1 = [[NSObject class] isKindOfClass:[NSObject class]];BOOL test2 = [[NSObject class] isMemberOfClass:[NSObject class]];BOOL test3 = [[SubClass class] isKindOfClass:[SubClass class]];BOOL test4 = [[SubClass class] isMemberOfClass:[SubClass class]];BOOL test5 = [[SubClass class] isSubclassOfClass:object_getClass([NSObject class])]; Â¶ÇÊûúËÆ§‰∏∫ÂÖ®‰∏∫YESÔºåÈÇ£‰πàËøôÁØáÊñáÁ´†Â∞±ÊúâÂøÖË¶Å‰∏ÄÁúã‰∫Ü„ÄÇ(‰∏çËÆ§‰∏∫ÁöÑËØù‰πüÊúâÂøÖË¶ÅÁúãÁúã;P)ÂÆûÈôÖÁªìÊûú‰∏∫: ‰ªÖÁ¨¨‰∏Ä‰∏™‰∏∫YESÔºåÂÖ∂‰ΩôÂÖ®‰∏∫NO„ÄÇ‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑Âë¢ÔºüNSObjectÈöæÈÅì‰∏çÊòØNSObjectÂêó?SubClassÊòéÊòéÁªßÊâø‰∫ÜNSObject‰∏∫‰ªÄ‰πàÂèà‰∏çÊòØÂÆÉÁöÑÂ≠êÁ±ªÂë¢? Êé¢Á©∂NSObjectÁöÑÂÆûÁé∞Êé¢Á©∂Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨È¶ñÂÖà‰ªéÊñπÊ≥ïÁöÑÂÆûÁé∞ÂÖ•ÊâãÔºåËãπÊûúÂºÄÊ∫ê‰∫ÜRuntimeÊ∫êÁ†ÅÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Êü•ÁúãNSObjectÁöÑÂÆûÁé∞: 12345678910111213141516171819202122232425262728293031323334353637// classÊñπÊ≥ï+ (Class)class &#123; return self;&#125;- (Class)class &#123; return object_getClass(self);&#125;// isMemberOfClassÊñπÊ≥ï+ (BOOL)isMemberOfClass:(Class)cls &#123; return object_getClass((id)self) == cls;&#125;- (BOOL)isMemberOfClass:(Class)cls &#123; return [self class] == cls;&#125;// isKindOfClassÊñπÊ≥ï+ (BOOL)isKindOfClass:(Class)cls &#123; for (Class tcls = object_getClass((id)self); tcls; tcls = class_getSuperclass(tcls)) &#123; if (tcls == cls) return YES; &#125; return NO;&#125;- (BOOL)isKindOfClass:(Class)cls &#123; for (Class tcls = [self class]; tcls; tcls = class_getSuperclass(tcls)) &#123; if (tcls == cls) return YES; &#125; return NO;&#125;// isSubclassOfClassÊñπÊ≥ï+ (BOOL)isSubclassOfClass:(Class)cls &#123; for (Class tcls = self; tcls; tcls = class_getSuperclass(tcls)) &#123; if (tcls == cls) return YES; &#125; return NO;&#125; Êàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÔºåNSObjectÁöÑclassÊñπÊ≥ïÂÆûÈôÖÊèê‰æõ‰∫ÜÁ±ªÊñπÊ≥ïÂíåÂÆû‰æãÊñπÊ≥ï‰∏§ÁßçÔºåËÄåÂâçËÄÖÁõ¥Êé•ËøîÂõûÁ±ªÔºåÂêéËÄÖË∞ÉÁî®‰∫Üobject_getClassÔºå‰πüÂ∞±ÊòØËØ¥classÂè™‰ºöËøîÂõûÂÆû‰æãÊàñÂØπË±°ÂØπÂ∫îÁöÑÁ±ª(Ëøô‰∏™‚ÄùÁ±ª‚ÄùÊòØÊåáRuntimeÂØπË±°Ê®°Âûã‰∏≠ÁöÑ‚ÄùÁ±ª‚Äù)„ÄÇÈÇ£‰πàÔºå‰ªé‰∏äÈù¢Áî®‰ª£Á†ÅÁªìÊûú‰∏çÂÖ®‰∏∫YESÔºåÂàôÂèØ‰ª•Âà§Êñ≠Âá∫object_getClass‰∏çÊòØ‰ªÖ‰ªÖÂêëclassÊñπÊ≥ï‰∏ÄÊ†∑ËøîÂõûÂΩìÂâçÁ±ªËøô‰πàÁÆÄÂçï(Âç≥‰ΩøÊñáÊ°£Âè™ÂÜô‰∫ÜËøô‰∏ÄÁâπÊÄß)„ÄÇ Êé¢Á©∂object_getClass()Áé∞Âú®Êàë‰ª¨Êù•Êé¢Á©∂object_getClassÁöÑÂÖ∑‰ΩìËøáÁ®ãÔºåÂú®RuntimeÁöÑÁ±ªÊ®°Âûã‰∏≠ÔºåisaËøûÊé•‰∫ÜÂá†ÁßçÁ±ªÁöÑÁªìÊûÑÔºåÊâÄ‰ª•Êé®Êñ≠object_getClassÊòØÈÄöËøáËé∑Âèñisa‰∏çÊñ≠Âêë‰∏äÂØªÊâæÁöÑÔºåÊâÄ‰ª•Âá∫Áé∞‰∫Ü‰∏äÈù¢classÊñπÊ≥ï‰∏éobject_getClassÊñπÊ≥ïÁöÑÁªìÊûú‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇÊàë‰ª¨Êù•ÁºñÂÜô‰∏Ä‰∏ã‰ª£Á†ÅÊµãËØï: 1234BOOL getObj1 = object_getClass([NSObject class]) == object_getClass(object_getClass([NSObject class]));BOOL getObj2 = object_getClass([SubClass class]) == object_getClass(object_getClass(object_getClass([SubClass class])));BOOL getObj3 = object_getClass([NSObject class]) == class_getSuperclass(object_getClass([NSObject class]));BOOL getObj4 = object_getClass([NSObject class]) == object_getClass(class_getSuperclass(object_getClass([NSObject class]))); ÂØπ‰∫é‰ª•‰∏ä‰ª£Á†ÅÔºåÂ¶ÇÊûúÊàë‰ª¨ÁöÑÊé®ÊµãÊòØÊ≠£Á°ÆÁöÑ: object_getClass‰∏∫ÊåâÁÖßisaÈÅçÂéÜÔºåclass_getSuperclass‰∏∫ÊåâÁÖßsuperclassÈÅçÂéÜ„ÄÇÈÇ£‰πàÊåâÁÖß‰∏äÈù¢ÊâÄÁ§∫ÁöÑÊ®°ÂûãÂõæÔºåÁªìÊûúÂ∫îËØ•ÊòØ(YES,NO,NO,YES)„ÄÇ ÁªìÊûúÊûúÁÑ∂Â¶ÇÊ≠§ÔºåËøôËØ¥Êòé: object_getClass‰∏∫ÊåâÁÖßisaÈÅçÂéÜÔºåclass_getSuperclass‰∏∫ÊåâÁÖßsuperclassÈÅçÂéÜ„ÄÇ ÈÇ£‰πàÊàë‰ª¨ÂàöÊâçÁöÑ‰ª£Á†ÅÂú®Á≠âÂè∑Âè≥‰æßÊòæÁÑ∂ÊòØËøõË°å‰∫ÜÂ¶Ç‰∏ãËøáÁ®ã:getObj1: Root Class -&gt; Meta Root Class -&gt; Meta Root ClassgetObj2: Class -&gt; Meta Class -&gt; Meta Root Class -&gt; Meta Root ClassgetObj3: Root Class -&gt; Meta Root Class -&gt; Root ClassgetObj4: Root Class -&gt; Meta Root Class -&gt; Root Class -&gt; Meta Root Class ËøôËØ¥Êòé‰∫ÜËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑÈÅçÂéÜÈ°∫Â∫èÔºå‰πüÂä†Ê∑±‰∫ÜÊàë‰ª¨ÂØπ‰∫éisa„ÄÅsuperclassÊåáÈíàÂú®OCÂØπË±°Ê®°ÂûãÁöÑÁêÜËß£:ÊØîÂ¶ÇÂ≠êÁ±ªÈÄöËøáisa‰ºöËé∑ÂèñÂÖ∂ÂÖÉÁ±ªÔºåËÄåÈÄöËøáÂÖÉÁ±ªisaÁõ¥Êé•Ëé∑ÂèñÂà∞Ê†πÂÖÉÁ±ªÔºåËÄåÈùûÂ±ÇÂ±ÇÂêë‰∏äÈÅçÂéÜ„ÄÇ ÈóÆÈ¢òËß£ÊûêÁé∞Âú®Êàë‰ª¨Âú®ÂõûËøáÂ§¥ÁúãÂàöÊâçisKindOfClassÂíåisMemberOfClassÊñπÊ≥ïÔºåÂ∞±‰∏çÈöæÊòéÁôΩÁ¨¨‰∏Ä‰∏™ËØïÈ™å‰∏≠‰ªÖÁ¨¨‰∏Ä‰∏™‰∏∫YESÁöÑÂéüÂõ†‰∫Ü: Á±ªÊàñÂÆû‰æãË∞ÉÁî®classÊñπÊ≥ïÂè™‰ºöËé∑ÂèñËØ•‚ÄùÁ±ª‚Äù,object_getClass‰ºöÊ≤øÁùÄisaÈìæÊåÅÁª≠ÈÅçÂéÜÔºåËÄåisKindOfClassÂíåisMemberOfClassÁöÑÁ±ªÊñπÊ≥ïÊ≠£ÊòØÈááÁî®‰∫ÜÂêéËÄÖÊù•ÈÅçÂéÜÔºåÊâÄ‰ª•ËøîÂõûÁöÑÂÄº„ÄÇ ÂÖ∂ÂÆûËØ¥ÁôΩ‰∫ÜÔºåÊñáÊ°£Ê≤°ÊúâÂëäËØâÊàë‰ª¨isKindOfClassÂíåisMemberOfClassËøòÊúâÁ±ªÊñπÊ≥ïÔºåËÄåÂÆÉÁöÑÁ±ªÊñπÊ≥ïÊòØÊåÅÁª≠Âêë‰∏äÁ∫ßÈÅçÂéÜÁöÑÔºåÂÆû‰æãÊñπÊ≥ïÂàôÂè™ÊòØÂà§Êñ≠ÂÖ∂‚ÄùÁ±ª‚ÄùÁöÑ„ÄÇÂ¶Ç‰∏ã‰ª£Á†ÅÔºå‰ΩøÁî®ÂÆû‰æãÊñπÊ≥ïÁªìÊûúÊòØÊ≠£Á°Æ„ÄÇ 12345// Á±ªÊñπÊ≥ï ÁªìÊûú‰∏∫NOBOOL testOfCls = [[NSObject class] isMemberOfClass:[NSObject class]];// ÂÆû‰æãÊñπÊ≥ï ÁªìÊûú‰∏∫YESNSObject *obj = [[NSObject alloc] init];BOOL testOfObj = [obj isMemberOfClass:[NSObject class]]; ÊÄªÁªìÈÄöËøáËøô‰∏ÄËøáÁ®ãÔºåÊàë‰ª¨Âä†Ê∑±‰∫ÜÂØπRuntimeÂØπË±°Ê®°ÂûãÂ±ÇÁ∫ßÁöÑÁêÜËß£„ÄÇÂêåÊó∂Ôºå‰πüÊÄªÁªì‰∏Ä‰∏ãclass„ÄÅisKindOfClassÂíåisMemberOfClassÊñπÊ≥ïÂêÑËá™ÁöÑÂ§ÑÁêÜÊú∫Âà∂(‰ª•‰∏ãÂä†ÂèåÂºïÂè∑ÁöÑÁ±ªÊåáRuntimeÂØπË±°ÁªìÊûÑ‰∏≠ÁöÑ‚ÄùÁ±ª‚ÄùÊ¶ÇÂøµ): classÊñπÊ≥ï Á±ªÊñπÊ≥ï: ËøîÂõûËØ•‚ÄùÁ±ª‚Äù„ÄÇ ÂÆû‰æãÊñπÊ≥ï: ËøîÂõûÂØπË±°ÂØπÂ∫îÁöÑ‚ÄùÁ±ª‚Äù„ÄÇ isKindOfClassÊñπÊ≥ï Á±ªÊñπÊ≥ï: Ê≤øisaÈìæÂêë‰∏äÈÅçÂéÜÔºåÂà§Êñ≠ÊòØÂê¶‰∏éÂèÇÊï∞ÁöÑisaÈìæ‰∏ä‰ªªÊÑèÂ±ÇÁ∫ßÁöÑ‰∏™‰ΩìÁõ∏Âêå„ÄÇ ÂÆû‰æãÊñπÊ≥ï: Âà§Êñ≠ÊòØÂê¶‰∏éÂèÇÊï∞ÂØπÂ∫îÁöÑ‚ÄùÁ±ª‚ÄùÁõ∏Âêå„ÄÇ isMemberOfClass Á±ªÊñπÊ≥ï: Âà§Êñ≠ËØ•Á±ªÁöÑ‚ÄùÂÖÉÁ±ª‚ÄùÊòØÂê¶‰∏éÂèÇÊï∞Áõ∏Âêå„ÄÇ ÂÆû‰æãÊñπÊ≥ï: Âà§Êñ≠ËØ•ÂÆû‰æãÁöÑ‚ÄùÁ±ª‚ÄùÊòØÂê¶‰∏éÂèÇÊï∞Áõ∏Âêå„ÄÇ ÂèØ‰ª•ÁúãÂá∫ÔºåÁ±ªÊñπÊ≥ïÁöÑÂ§ÑÁêÜÊú∫Âà∂Âπ∂ÈùûÂ≠óÈù¢ÁêÜËß£ÁöÑÂêåÁ∫ßÊØîËæÉÔºå‰πüËá™ÁÑ∂‰ºöÂá∫Áé∞[NSObject class] isMemberOfClass:[NSObject class]‰∏çÂØπÁöÑÈóÆÈ¢ò„ÄÇÂú®‰ΩøÁî®Êó∂Ë¶ÅÁâπÂà´Ê≥®ÊÑèÔºåÂú®ÁêÜËß£OCÂØπË±°Ê®°ÂûãÁöÑÂü∫Á°Ä‰∏ä‰ΩøÁî®„ÄÇ Áõ∏ÂÖ≥ËµÑÊñô Apple OpenSource - NSObject.mm]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
        <tag>Objective-C</tag>
        <tag>Â∫ïÂ±Ç</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªüÁöÑËøõÁ®ã/Á∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F01%2F06%2F%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%9B%E7%A8%8B%3A%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ÂæàÂ§öÊìç‰ΩúÁ≥ªÁªüÈÉΩÊèê‰æõ‰∫ÜËøõÁ®ãÂíåÁ∫øÁ®ãÁöÑÂπ∂ÂèëÊìç‰ΩúÔºå‰ªñ‰ª¨ÂèØËÉΩÂú®ÂºÇÊ≠•ÊâßË°åÊó∂ËÆøÈóÆÂÖ±‰∫´Êï∞ÊçÆÔºåËÄåÂπ∂ÂèëËÆøÈóÆÂÖ±‰∫´Êï∞ÊçÆÂèØËÉΩÂ∏¶Êù•Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÂêåÊ≠•ÈóÆÈ¢òÔºåÂú®Ê≠§ÊÄªÁªì‰∏Ä‰∏ãÊìç‰ΩúÁ≥ªÁªüÁöÑËøõÁ®ã/Á∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢òÔºå‰ª•Á∫øÁ®ãÁöÑÂπ∂Âèë‰∏∫‰æã„ÄÇ ÈóÆÈ¢òÁÆÄ‰ªã ‰∏äÂõæÊòØÂ§öÁ∫øÁ®ãÁöÑÁä∂ÊÄÅ(‰ª•iOSÁ≥ªÁªü‰∏∫‰æã)„ÄÇÊìç‰ΩúÁ≥ªÁªüÊòØÈÄöËøáCPUÁöÑÊó∂Èó¥ÁâáËΩÆËΩ¨Êù•ÂÆûÁé∞Â§öÁ∫øÁ®ãÁöÑÔºåÊØè‰∏™Á∫øÁ®ãÊúâÁùÄÂØπÂ∫îÁöÑÊó∂Èó¥ÁâáÔºåÂΩìÂÖ∂Êó∂Èó¥ÁâáÂà∞Êù•Êó∂CPU‰ºöÂàáÊç¢Âà∞ËØ•Á∫øÁ®ã‰∏ä‰∏ãÊñáÂπ∂ÊâßË°åÔºåÂæÖÊó∂Èó¥ÁâáÁªìÊùüÂêéÂàáÊç¢Ëá≥‰∏ã‰∏ÄÁ∫øÁ®ãÔºå‰øùÂ≠òÂéüÁ∫øÁ®ãÁöÑ‰∏ä‰∏ãÊñáÂπ∂Âä†ËΩΩ‰∏ã‰∏ÄÁ∫øÁ®ãÁöÑ‰∏ä‰∏ãÊñáÔºå‰æùÊ¨°Âæ™ÁéØ„ÄÇ ‰ΩÜÊòØÔºåCPU‰ΩïÊó∂ÂàáÊç¢Âπ∂‰∏çÊòØÁî±Áî®Êà∑ÂÜ≥ÂÆöÔºåÂΩìÊó∂Èó¥ÁâáÂà∞ËææÂêé‰ºöÁ´ãÂç≥ËøõË°åÁ∫øÁ®ãÁöÑÂàáÊç¢ÔºåÈÇ£‰πàÂΩìÂ§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëËøõË°åËØªÂÜôÊìç‰ΩúÊó∂ÔºåÂ∞±ÂèØËÉΩÂá∫Áé∞Á∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢ò„ÄÇ Êàë‰ª¨ÂÖàÈáçÁé∞‰∏Ä‰∏ãËøô‰∏™ÈóÆÈ¢òÔºå‰ª•‰∏ãÂáΩÊï∞Ê®°Êãü‰∫Ü‰π∞Á•®ÁöÑÊìç‰ΩúÔºåÊåÅÁª≠‰π∞Á•®Áõ¥Âà∞ÂçñÂÆåÔºåÊï¥ÂûãsumË°®Á§∫ÂΩìÂâçÁöÑÁ•®Êï∞ÔºåÂáΩÊï∞Â¶Ç‰∏ã:1234567891011- (void)buyFunction &#123; // Êúâ‰ΩôÁ•®ÂàôÁªßÁª≠Ë¥≠‰π∞ while (sum &gt; 0) &#123; // Ë¥≠‰π∞ÂâçÊâìÂç∞ÂΩìÂâçÁ•®Êï∞ NSLog(@&quot;Á∫øÁ®ã%@ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:%dÂº†Á•®&quot;, [NSThread currentThread].name, sum); // Ê®°ÊãüË¥≠‰π∞Êìç‰Ωú,Á•®Êï∞-1 sum--; &#125; // Á•®ÂçñÂÆåÂàôÊâìÂç∞ÂΩìÂâçÁ•®Êï∞ NSLog(@&quot;Á∫øÁ®ã%@: Á•®Â∑≤ÂçñÂÆå Ââ©‰Ωô:%dÂº†Á•®&quot;, [NSThread currentThread].name, sum);&#125; Áé∞Âú®Êàë‰ª¨ÂºÄ‰∏§‰∏™Á∫øÁ®ãÂêåÊó∂ÊâßË°åÊ≠§Êìç‰ΩúÔºåÂàùÂßã‰∏∫10Âº†Á•®(sum = 10)ÔºåÊü•ÁúãÊéßÂà∂Âè∞ËæìÂá∫:12345678910111213Á∫øÁ®ã2ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:10Âº†Á•®Á∫øÁ®ã1ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:10Âº†Á•®Á∫øÁ®ã1ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:9Âº†Á•®Á∫øÁ®ã2ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:8Âº†Á•®Á∫øÁ®ã1ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:7Âº†Á•®Á∫øÁ®ã2ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:6Âº†Á•®Á∫øÁ®ã1ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:5Âº†Á•®Á∫øÁ®ã2ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:4Âº†Á•®Á∫øÁ®ã1ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:3Âº†Á•®Á∫øÁ®ã2ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:2Âº†Á•®Á∫øÁ®ã1ÂáÜÂ§á‰π∞Á•® Ââ©‰Ωô:1Âº†Á•®Á∫øÁ®ã2: Á•®Â∑≤ÂçñÂÆå Ââ©‰Ωô:0Âº†Á•®Á∫øÁ®ã1: Á•®Â∑≤ÂçñÂÆå Ââ©‰Ωô:-1Âº†Á•® ËßÇÂØüÁªìÊûúÔºåÊàë‰ª¨ÂèëÁé∞‰∫Ü‰∏Ä‰∫õÈóÆÈ¢ò:(1) ‰∏§Ê¨°‰π∞Á•®ËøáÁ®ã‰ΩôÁ•®Êï∞Áõ∏Âêå(2) Âêå‰∏ÄÂº†Á•®‰π∞‰∫Ü‰∏§Ê¨°(3) Ê≤°Êúâ‰ΩôÁ•®‰πãÂêé‰ªçÁÑ∂Ë¢´‰π∞‰∫Ü‰∏ÄÊ¨° ËøôÊ†∑ÁöÑÁªìÊûúÂ∑≤Áªè‰ΩìÁé∞Âá∫‰∫ÜÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÂç±ÂÆ≥Ôºå‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞ËøôÁßçÊÉÖÂÜµÂë¢ÔºüÂâçÈù¢ËÆ≤Âà∞ÔºåCPU‰ºöÂú®Êó∂Èó¥ÁâáÁªìÊùüÂêé‰øùÂ≠òÂΩìÂâçÁ∫øÁ®ã‰∏ä‰∏ãÊñáÔºåÂπ∂ÂàáÊç¢Ëá≥‰∏ã‰∏ÄÁ∫øÁ®ã„ÄÇÈÇ£‰πàÂΩìÂâçÁ∫øÁ®ãÂæàÂèØËÉΩÂú®Ëé∑Âèñ‰∫ÜÊï∞ÊçÆËøòÊ≤°Êù•ÂæóÂèäÂ§ÑÁêÜÔºåÊó∂Èó¥ÁâáÂ∞±Â∑≤ÁªìÊùüÔºåËÄåÂΩìËØ•Á∫øÁ®ãÁöÑ‰∏ã‰∏ÄÊó∂Èó¥ÁâáÂà∞Êù•Êó∂ÔºåÊï∞ÊçÆÂèØËÉΩÂ∑≤ÁªèÂèòÂåñ‰∫Ü„ÄÇ‰∏ÄÁßçÂèØËÉΩÁöÑËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ Ëøô‰æøÊòØËøõÁ®ã/Á∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÊó∂‰ºöÂ≠òÂú®ÁöÑÂêåÊ≠•ÈóÆÈ¢òÔºåÊé•‰∏ãÊù•Êàë‰ª¨ËÆ®ËÆ∫Â¶Ç‰ΩïËß£ÂÜ≥ËØ•ÈóÆÈ¢ò„ÄÇ ‰∏¥ÁïåÂå∫ÈóÆÈ¢ò‰∏∫‰∫ÜÂπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÁöÑÂêåÊ≠•ÈóÆÈ¢òÔºåÊàë‰ª¨‰ªãÁªç‰∏¥ÁïåÂå∫ÁöÑÊ¶ÇÂøµ„ÄÇ ‰∏¥ÁïåÂå∫: ‰∏ÄÁßç‰ª£Á†ÅÊÆµÔºåÂú®ÂÖ∂‰∏≠ÂèØËÉΩÂèëÁîüÂ§ö‰∏™Á∫øÁ®ãÂÖ±ÂêåÊîπÂèòÂèòÈáè„ÄÅËØªÂÜôÊñá‰ª∂Á≠âÊìç‰ΩúÔºåÂÖ∂Ë¶ÅÊ±ÇÂΩì‰∏Ä‰∏™Á∫øÁ®ãËøõÂÖ•‰∏¥ÁïåÂå∫Êó∂ÔºåÂÖ∂‰ªñÁ∫øÁ®ã‰∏çËÉΩËøõÂÖ•„ÄÇ‰ªéËÄåÈÅøÂÖçÂá∫Áé∞ÂêåÊó∂ËØªÂÜôÁöÑÈóÆÈ¢ò„ÄÇ(ÂÆûÈôÖ‰∏äÔºå‰∏¥ÁïåÂå∫Âè™ÈúÄ‰øùËØÅÂèØ‰ª•ÊúâÂ§ö‰∏™ËØªËÄÖÂêåÊó∂ÊâßË°åËØªÂèñÊìç‰ΩúÔºåÊàñÂîØ‰∏ÄÂÜôËÄÖÊâßË°åÂÜôÂÖ•Êìç‰Ωú)ËøõÂÖ•Âå∫: Âà§Êñ≠Á∫øÁ®ãËÉΩÂê¶ËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑ‰ª£Á†ÅÊÆµ„ÄÇÈÄÄÂá∫Âå∫: Á∫øÁ®ãÁ¶ªÂºÄ‰∏¥ÁïåÂå∫ÂêéÂèØËÉΩÂØπÂÖ∂ÊâßË°åÁöÑÊüê‰∫õÊìç‰Ωú„ÄÇÂâ©‰ΩôÂå∫: Á∫øÁ®ãÂÆåÂÖ®ÈÄÄÂá∫‰∏¥ÁïåÂå∫ÂíåÈÄÄÂá∫Âå∫ÂêéÁöÑÂâ©‰∏ãÂÖ®ÈÉ®‰ª£Á†Å„ÄÇ ÂØπ‰∫é‰∏äËø∞ÁöÑ‰π∞Á•®Á§∫‰æãÔºå‰π∞Á•®ÁöÑÊï¥‰∏™ËøáÁ®ãÂç≥‰∏∫‰∏¥ÁïåÂå∫‰ª£Á†ÅÔºå‰ΩÜÊàë‰ª¨Áº∫Â§±‰∫ÜËøõÂÖ•Âå∫ÔºåÊó†Ê≥ï‰øùËØÅ‰∏¥ÁïåÂå∫ÂÜÖÁ∫øÁ®ãÁöÑÂîØ‰∏ÄÔºåÊâÄ‰ª•Âá∫Áé∞‰∫ÜÂêåÊ≠•ÈóÆÈ¢ò„ÄÇ ‰∏¥ÁïåÂå∫Ë∞ÉÂ∫¶ÂéüÂàôÊâÄÊúâ‰∏¥ÁïåÂå∫Ë∞ÉÂ∫¶Â∫îÂΩìÁ¨¶Âêà‰ª•‰∏ãÂéüÂàô: Âêå‰∏ÄÊó∂Èó¥‰∏¥ÁïåÂå∫ÂÜÖ‰ªÖÂèØÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÔºåÂ¶ÇÊûúÊúâËã•Âπ≤Á∫øÁ®ãËØ∑Ê±ÇËøõÂÖ•Á©∫Èó≤‰∏¥ÁïåÂå∫Ôºå‰∏ÄÊ¨°ËøõÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãËøõÂÖ•ÔºåÂ¶ÇÊûú‰∏¥ÁïåÂå∫Â∑≤ÊúâÁ∫øÁ®ãÔºåÂàôË¶ÅÊ±ÇÂÖ∂‰ªñËßÜÂõæËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑÁ∫øÁ®ãÁ≠âÂæÖ„ÄÇ ËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑÁ∫øÁ®ãÂøÖÈ°ªÂú®ÊúâÈôêÊó∂Èó¥ÂÜÖÈÄÄÂá∫Ôºå‰ª•‰øùËØÅÂÖ∂‰ªñÁ∫øÁ®ãËÉΩËøõÂÖ•ËØ•‰∏¥ÁïåÂå∫„ÄÇ Â¶ÇÊûúÁ∫øÁ®ã‰∏çËÉΩËøõÂÖ•‰∏¥ÁïåÂå∫ÔºåÂ∫îËÆ©Âá∫CPUÔºåÈÅøÂÖçÂá∫Áé∞ÂøôÁ≠âÁé∞Ë±°„ÄÇ ‰ªéÁ∫øÁ®ãËØ∑Ê±ÇËøõÂÖ•‰∏¥ÁïåÂå∫Âà∞ÂÖÅËÆ∏ÔºåÊúâÊ¨°Êï∞ÈôêÂà∂ÔºåÈÅøÂÖçËÆ©Á∫øÁ®ãÊó†ÈôêÁ≠âÂæÖ„ÄÇ ÊÄªÁªì‰∏∫‰∏âÁÇπ: ‰∫íÊñ•„ÄÅÂâçËøõ„ÄÅÊúâÈôêÁ≠âÂæÖ„ÄÇ Tips: Âú®ÈùûÊä¢Âç†ÂÜÖÊ†∏Á≥ªÁªü‰∏≠ËøõÁ®ã‰ºö‰∏ÄÁõ¥ËøêË°åÁõ¥Âà∞‰∏≠Êñ≠ÊàñÈÄÄÂá∫ÔºåÊïÖ‰∏çÊ∂âÂèäËøõÁ®ãÂêåÊ≠•ÈóÆÈ¢ò„ÄÇ ‰∏¥ÁïåÂå∫ÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ≥ïËß£ÂÜ≥‰∏¥ÁïåÂå∫ÈóÆÈ¢òÔºåÈúÄË¶ÅÈÄöËøáÂä†ÈîÅÁöÑÊñπÂºèÔºåÁ±ª‰ºº‰∫éÂΩì‰∏Ä‰∏™Á∫øÁ®ãËøõÂÖ•‰∏¥ÁïåÂå∫ÂêéÂç≥‰∏äÈîÅÔºåÈòªÊ≠¢ÂÖ∂‰ªñÁ∫øÁ®ãËøõÂÖ•ÔºåÂæÖËøêË°åÂÆåÊàêÂêéÊâìÂºÄÈîÅÂÖÅËÆ∏ÂÖ∂‰ªñÁ∫øÁ®ãËøõÂÖ•„ÄÇ ËΩØ‰ª∂ÂÆûÁé∞ÊñπÊ≥ïËß£ÂÜ≥‰∏¥ÁïåÂå∫ÈóÆÈ¢òÔºå‰∏ªË¶ÅÂú®‰∫é‰øùËØÅËµÑÊ∫êÁöÑ‰∫íÊñ•ËÆøÈóÆÔºå‰ª•ÂèäÈÅøÂÖçÂá∫Áé∞È••È•øÁé∞Ë±°„ÄÇ PetersonÁÆóÊ≥ïÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂêàÁêÜÁöÑÊÄùË∑Ø: ËÆæÁΩÆÊóóÊ†áÊï∞ÁªÑflagÊ†áËÆ∞ËØ∑Ê±ÇËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑÁ∫øÁ®ãÔºåËÆæÁΩÆturnË°®Á§∫ÂèØ‰ª•ËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑÁ∫øÁ®ãÔºåÂú®ËøõÂÖ•Âå∫ËøõË°åÂèåÈáçÂà§Êñ≠Ôºå‰∏§‰∏™Á∫øÁ®ãÂêåÊó∂ÂØπturnËµãÂÄºÂè™‰ºöÊúâ‰∏Ä‰∏™‰øùÁïô‰∏ãÊù•Ôºå‰ªéËÄåÁ°Æ‰øùËµÑÊ∫êËÆøÈóÆÁöÑ‰∫íÊñ•„ÄÇËÄåÂú®ÈÄÄÂá∫Âå∫ÔºåÂØπflagÊóóÊ†áËøõË°å‰∫ÜfalseÂ§ÑÁêÜÔºå‰ªéËÄå‰øùËØÅ‰∫Ü‚ÄùÂâçËøõ‚ÄùÂéüÂàôÔºåÈÅøÂÖç‰∫ÜÂâ©‰ΩôÂå∫‰∏≠ÁöÑÁ∫øÁ®ãÊåÅÁª≠Êä¢Âç†ÈÄ†ÊàêÂÖ∂‰ªñÁ∫øÁ®ãÈ••È•ø„ÄÇ Á°¨‰ª∂ÂÆûÁé∞ÊñπÊ≥ïPetersonÁÆóÊ≥ïÊòØÂü∫‰∫éËΩØ‰ª∂ÁöÑÂÆûÁé∞ÔºåËÄå‰ªéÁ°¨‰ª∂Â±ÇÈù¢‰πüÂèØ‰ª•Ëß£ÂÜ≥Ê≠§ÈóÆÈ¢òÔºåÁ°¨‰ª∂ÊñπÈù¢ÁöÑÂ§ÑÁêÜ‰∏ªË¶ÅÂú®‰∫éÁ∫øÁ®ã‰øÆÊîπÂÖ±‰∫´ËµÑÊ∫êÊó∂ÊòØÂéüÂ≠êÂú∞ÔºåÂç≥‰∏çÂèØË¢´‰∏≠Êñ≠„ÄÇÊØîÂ¶ÇÊú∫Âô®Êèê‰æõ‰∫ÜËÉΩÂ§üÂéüÂ≠êÊâßË°åÁöÑÊåá‰ª§ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁÆÄÂçïÁöÑ‰øÆÊîπÂ∏ÉÂ∞îÂèòÈáèÊù•ÂÆûÁé∞‰∫íÊñ•ÔºåÂõ†‰∏∫Âä†ÈîÅÁöÑËøáÁ®ãÊòØÂéüÂ≠êÁöÑ„ÄÇËÄåÂØπ‰∫éÂèØËÉΩÈÄ†ÊàêÈ••È•øÁöÑÈóÆÈ¢òÔºåÂè™ÈúÄÂú®ÈÄÄÂá∫Âå∫ÂØπÁ≠âÂæÖÂàóË°®ËøõË°å‰∏ÄÂÆöÂ§ÑÁêÜÔºå‰øùËØÅ‚ÄùÂâçËøõ‚ÄùÂéüÂàôÂç≥ÂèØ„ÄÇ ÁÆÄÂçïÊù•ËØ¥ÔºåÊó†ËÆ∫Á°¨‰ª∂ËøòÊòØËΩØ‰ª∂ÁöÑÂÆûÁé∞ÔºåÊú¨Ë¥®ÈÉΩÊòØÈÄöËøáÂä†ÈîÅ„ÄÇÂè™ÊòØÈÄöËøáÁ°¨‰ª∂ÁöÑÁâπÊÄßÔºåÂèØ‰ª•ÊèêÈ´òÊïàÁéáÔºåÂêåÊó∂‰πüÁÆÄÂåñ‰∫Ü‰∏¥ÁïåÂå∫ÁöÑÂÆûÁé∞ÈöæÂ∫¶„ÄÇ ‰ø°Âè∑Èáè‰∏¥ÁïåÂå∫ÈóÆÈ¢ò‰∏∫Êàë‰ª¨Ëß£ÂÜ≥Á∫øÁ®ãÂêåÊ≠•Êèê‰æõ‰∫Ü‰∏ÄÁßçÊÄùË∑ØÔºåËÄåÂú®ÂÆûÈôÖ‰ΩøÁî®‰∏≠ÔºåË¶ÅÂ§ÑÁêÜÂêå‰∏Ä‰∏™ÂÆû‰æãÊúâÂ§ö‰∏™ËµÑÊ∫êÁöÑÊÉÖÂÜµÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÁî®‰∏ÄÁßçËæÉ‰∏∫ÁÆÄÂçïÁöÑÊñπÂºè‚Äî‚Äî‰ø°Âè∑ÈáèÔºåÂ§ßÂ§öÊìç‰ΩúÁ≥ªÁªüÈÉΩÊèê‰æõ‰∫Ü‰ø°Âè∑ÈáèÁöÑÂêåÊ≠•Â∑•ÂÖ∑„ÄÇ ÂéüÁêÜÁÆÄÂçïÊù•ËØ¥Ôºå‰ø°Âè∑ÈáèÊòØÊüê‰∏™ÂÆû‰æãÂèØÁî®ËµÑÊ∫êÁöÑËÆ°Êï∞ÔºåÂàùÂßã‰∏∫ËØ•ÂÆû‰æãÂèØÁî®ËµÑÊ∫êÁöÑÊï∞ÈáèÔºåËÄåÊØèÂΩìÁ∫øÁ®ãÈúÄË¶Å‰ΩøÁî®ÔºåÂàôË∞ÉÁî®wait()ÊñπÊ≥ïÂáèÂ∞ë‰ø°Âè∑ÈáèÔºåÈáäÊîæËµÑÊ∫êÊó∂Ë∞ÉÁî®signal()ÊñπÊ≥ïÂ¢ûÂä†‰ø°Âè∑ÈáèÔºåÊïÖ‰ø°Âè∑Èáè‰∏∫0Ë°®Á§∫ÊâÄÊúâËµÑÊ∫êÈÉΩÂú®Ë¢´‰ΩøÁî®ÔºåÁ∫øÁ®ã‰ΩøÁî®ËµÑÊ∫êÁöÑËØ∑Ê±Ç‰∏çË¢´ÂÖÅËÆ∏„ÄÇ ‰ø°Âè∑Èáè‰∏ªË¶ÅÂàÜ‰∏∫ËÆ°Êï∞‰ø°Âè∑ÈáèÂíå‰∫åËøõÂà∂‰ø°Âè∑ÈáèÔºåÂâçËÄÖ‰∏ªË¶ÅÈíàÂØπ‰∏Ä‰∏™ÂÆû‰æãÊúâÂ§ö‰∏™ËµÑÊ∫êÁöÑÊÉÖÂÜµÔºåÂÄºÂüü‰∏çÂèóÈôêÂà∂ÔºåËÄåÂêéËÄÖ‰ø°Âè∑Èáè‰ªÖ‰∏∫0Êàñ1Ôºå‰πüÂ∞±ÊòØËØ¥Á∫øÁ®ã‰πãÈó¥ËÆøÈóÆËØ•ËµÑÊ∫êÊòØ‰∫íÊñ•ÁöÑÔºå‰πüÂèØÁß∞‰Ωú‰∫íÊñ•ÈîÅ„ÄÇ Âêå‰∏¥ÁïåÂå∫ÈóÆÈ¢òÁöÑÂâçÊèê: ÂøÖÈ°ª‰øùËØÅÊâßË°å‰ø°Âè∑ÈáèÊìç‰Ωúwait(),signal()ÊòØÂéüÂ≠êÂú∞„ÄÇ ‰ª•‰∏ãÊòØ‰ø°Âè∑ÈáèÁöÑ‰º™‰ª£Á†ÅÂÆûÁé∞:123456while (true) &#123; waiting(mutex); // ÂáèÂ∞ë‰ø°Âè∑Èáè(ËøõÂÖ•Âå∫) // ‰∏¥ÁïåÂå∫ signal(mutex); // Â¢ûÂä†‰ø°Âè∑Èáè(ÈÄÄÂá∫Âå∫) // Ââ©‰ΩôÂå∫&#125; ÂÖ∑‰ΩìÂÆûÁé∞Áî±‰∫éÂü∫‰∫é‰∏¥ÁïåÂå∫ÈóÆÈ¢òÔºåÈÇ£‰πà‰ø°Âè∑ÈáèÂú®ÂÖ∑‰ΩìÂÆûÁé∞‰∏≠‰πüË¶ÅÂ§ÑÁêÜÂÖ∂Áº∫ÁÇπ: È••È•øÈóÆÈ¢ò„ÄÇÂêåÊó∂ÂÖ∂ÈúÄË¶ÅÈÅøÂÖçÂøôÁ≠âÈóÆÈ¢òÂíåÊ≠ªÈîÅÈóÆÈ¢ò„ÄÇ Âú®Ê≠§‰πãÂâçÊàë‰ª¨ÂÖàÁúã‰∏Ä‰∏ãÂÖ∂Âü∫Êú¨ÂäüËÉΩÂÆûÁé∞„ÄÇ ÂÆûÁé∞‰ø°Âè∑ÈáèÈúÄË¶ÅÁª¥Êä§‰∏Ä‰∏™‰ø°Âè∑ÈáèÂÄºÂíå‰∏Ä‰∏™Á≠âÂæÖËøõÁ®ãÈìæË°®„ÄÇÂΩì‰ø°Âè∑Èáè‰∏∫0Êó∂ÔºåÂ∞ÜËØ∑Ê±ÇËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑËøõÁ®ãÊîæÂÖ•Á≠âÂæÖÂàóË°®‰∏≠ÔºåÂπ∂ÈòªÂ°ûËá™Â∑±(ÈÅøÂÖçÂá∫Áé∞È¢ëÁπÅÂæ™ÁéØËØ∑Ê±ÇÁöÑÂøôÁ≠âÈóÆÈ¢ò)„ÄÇÂæÖÂÖ∂‰ªñ‰∏¥ÁïåÂå∫ÈÄÄÂá∫Êó∂Ôºå‰ªéÁ≠âÂæÖÂàóË°®‰∏≠ÂèñÂá∫Âπ∂Âî§ÈÜí„ÄÇ‰ª•‰∏ã‰∏∫ÂÆûÁé∞ÁöÑ‰º™‰ª£Á†Å: 1234567891011121314151617181920212223// ‰ø°Âè∑ÈáèÂÆö‰πâtypedef struct &#123; int value; struct process *list;&#125; semaphore;// ÂáèÂ∞ë‰ø°Âè∑Èáèvoid wait(semaphore *mutex) &#123; mutex-&gt;value--; // ÂáèÂ∞ë‰ø°Âè∑ÈáèÂÄº if (mutex-&gt;value &lt; 0) &#123; addToList(list, mutex); // Â∞ÜËØ•ËøõÁ®ãÊ∑ªÂä†Ëá≥Á≠âÂæÖËøõÁ®ãÈìæË°® block(); // ÈòªÂ°ûËá™Â∑±Á≠âÂæÖÂî§ÈÜí &#125;&#125;// Â¢ûÂä†‰ø°Âè∑Èáèvoid signal(semaphore *mutex) &#123; mutex-&gt;value++; // Â¢ûÂä†‰ø°Âè∑Èáè if (mutex-&gt;value &lt;= 0) &#123; process *p = removeFromList(list ,mutex); // ÂêåÁ≠âÂæÖÈìæË°®‰∏≠ÂèñÂá∫‰∏Ä‰∏™ËøõÁ®ã wakeup(P); // Âî§ÈÜíÁ≠âÂæÖ‰∏≠ÁöÑËøõÁ®ã &#125;&#125; È••È•øÈóÆÈ¢òÂú®‰ø°Âè∑ÈáèÂ§ß‰∫é0Êó∂‰ªéÈòüÂàó‰∏≠ÂèñÂá∫Âì™‰∏™ËøõÁ®ãÊòØÈúÄË¶ÅËÆ®ËÆ∫ÁöÑÈóÆÈ¢òÔºåÈÄâÊã©ÂêàÈÄÇÁöÑË∞ÉÂ∫¶ÊñπÂºèÂæàÈáçË¶Å„ÄÇFIFO(ÂÖàËøõÂÖàÂá∫)ÂèØ‰ª•Ëß£ÂÜ≥Ôºå‰ΩÜÂ¶ÇÊûúLIFO(ÂêéËøõÂÖàÂá∫)Ë∞ÉÂ∫¶ÂàôÂèØËÉΩ‰ºöÈÄ†ÊàêÈÉ®ÂàÜËøõÁ®ãÊó†ÈôêÊúüÈòªÂ°ûÔºå‰πüÂ∞±ÊòØÈ••È•øÈóÆÈ¢ò„ÄÇ ÂøôÁ≠âÈóÆÈ¢òÂΩìËøõÁ®ãËØ∑Ê±ÇËøõÂÖ•‰∏¥ÁïåÂå∫ËÄåÊ≤°ÊúâË¢´ÂÖÅËÆ∏Êó∂ÔºåÂ¶ÇÊûúÊ≠§ËøõÁ®ãÂºÄÂßãÂú®ËøõÂÖ•Âå∫ËøûÁª≠Âæ™ÁéØËØ∑Ê±ÇÔºåÂàô‰ºöÊ∂àËÄóÂ§ßÈáèÊÄßËÉΩÔºåÊµ™Ë¥π‰∫ÜÈÉ®ÂàÜCPUÊó∂Èó¥Áâá„ÄÇËøôÁßçÂä†ÈîÅÊñπÂºèÁß∞‰∏∫Ëá™ÊóãÈîÅÔºåÂç≥ËøõÁ®ãÂú®Á≠âÂæÖÈîÅÊó∂‰ªçÁÑ∂Âú®ËøêË°åÔºåÊ≠§ÊñπÊ≥ï‰ºöÈÄ†ÊàêÂøôÁ≠âÁöÑÊÄßËÉΩÊµ™Ë¥πÔºå‰ΩÜÂêåÊó∂‰πüÊØîÈòªÂ°û-Âî§ÈÜíÊú∫Âà∂ÊïàÁéáÊõ¥È´òÔºåÈÅøÂÖç‰∫ÜÈòªÂ°ûÂà∞Âî§ÈÜíÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢„ÄÇ Â¶ÇÊûúË¶ÅÂÖãÊúçÂøôÁ≠âÈóÆÈ¢òÔºåÂèØ‰ª•Âú®ËøõÂÖ•Âå∫Â¢ûÂä†ÂΩì‰ø°Âè∑ÈáèÂ∞è‰∫é0Êó∂ÔºåËøõÁ®ãÈòªÂ°ûËá™Â∑±ÔºåËøõÂÖ•Á≠âÂæÖÈòüÂàóÔºõÂΩì‰∏¥ÁïåÂå∫ÂÜÖÁöÑÁ∫øÁ®ãÊâßË°åÂÆåÊØïÂêéÔºåÂî§ÈÜíÁ≠âÂæÖÈòüÂàó‰∏≠ÁöÑËøõÁ®ã„ÄÇÂêåÊó∂Ë¶Å‰øùËØÅÁ≠âÂæÖÈòüÂàóË∞ÉÂ∫¶ÁöÑÁÆóÊ≥ïÂêàÁêÜÊÄßÔºåÈÅøÂÖçÊüêËøõÁ®ãÊó†ÈôêÊúüÁ≠âÂæÖ„ÄÇ Ê≠ªÈîÅÈóÆÈ¢òÊ≠ªÈîÅÈóÆÈ¢òÂ∞±ÊòØÂ§ö‰∏™ËøõÁ®ãÊó†ÈôêÁ≠âÂæÖÊüê‰∏™‰∫ã‰ª∂ÔºåËÄåËØ•‰∫ã‰ª∂ÊòØÁî±Ëøô‰∫õËøõÁ®ãÊù•‰∫ßÁîüÁöÑÔºåËøôÊ†∑Â∞±‰ºöÈÄ†Êàê‚ÄùÁ¨¨‰∫åÂçÅ‰∫åÊù°ÂÜõËßÑ‚Äù‰∏≠ÁöÑÈóÆÈ¢òÔºåËøõÁ®ã‰πãÈó¥‰∫íÁõ∏Á≠âÂæÖÔºåÊó†Ê≥ïÂâçËøõ„ÄÇÂú®Ê≠§‰∏çËÆ®ËÆ∫Ê≠ªÈîÅÈóÆÈ¢òÔºåÂè™‰ªãÁªçÂèØËÉΩÂá∫Áé∞ÁöÑÊ≠ªÈîÅÊÉÖÂÜµ„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫: Ëß£ÂÜ≥Ê≠ªÈîÅÈóÆÈ¢ò‰∏ªË¶ÅÂèØ‰ª•‰ªéÊ≠ªÈîÅÈ¢ÑÈò≤„ÄÅÊ≠ªÈîÅÈÅøÂÖç„ÄÅÊ≠ªÈîÅÊ£ÄÊµã„ÄÅÊ≠ªÈîÅÊÅ¢Â§çÂõõ‰∏™ÊñπÈù¢ÂÖ•ÊâãÔºåÂêéÈù¢‰ºö‰∏ìÈó®ÂÜôÊñáÁ´†ËÆ≤Ëß£„ÄÇ ‰∏çÂêåÂ§ÑÁêÜÂô®ÁöÑËß£ÂÜ≥ÊñπÊ°àÂçï‰∏™Â§ÑÁêÜÂô®: ÂçïÂ§ÑÁêÜÂô®Êó∂Êó†È°ªÊãÖÂøÉÂπ∂Ë°åËøêÁÆóÈÄ†ÊàêÁöÑÂêåÊ≠•ÈóÆÈ¢òÔºåÊâÄ‰ª•ÁÆÄÂçïÂú®wait()Âíåsignal()‰∏≠Á¶ÅÊ≠¢‰∏¥ÁïåÂå∫‰∏≠ËøõÁ®ãÁöÑ‰∏≠Êñ≠Âç≥ÂèØ„ÄÇ Â§öÂ§ÑÁêÜÂô®: Êìç‰ΩúÁ≥ªÁªüÂØπ‰∫éÂ§öÂ§ÑÁêÜÂô®Ë∞ÉÂ∫¶ÂàÜ‰∏∫SMPÂíåÈùûSMPÁöÑÊÉÖÂÜµ(SMP‰∏∫ÂØπÁß∞Â§öÂ§ÑÁêÜÔºåÂ§ÑÁêÜÂô®ÂêÑËá™ÊéßÂà∂ÂêÑËá™ÁöÑË∞ÉÂ∫¶ÔºåËÄåÈùûSMP‰∏∫Êüê‰∏Ä‰∏™Â§ÑÁêÜÂô®‰Ωú‰∏∫‰∏≠ÊéßÔºåÁÆ°ÁêÜÂÖ∂‰ªñÂ§ÑÁêÜÂô®ÁöÑË∞ÉÂ∫¶)„ÄÇ ÈùûÂØπÁß∞Â§öÂ§ÑÁêÜ: ÂØπ‰∫éÈùûÂØπÁß∞Â§öÂ§ÑÁêÜÔºåÁî±‰∫éÊúâ‰∏≠Â§ÆÂ§ÑÁêÜÂô®Êù•Ë∞ÉÂ∫¶ÔºåÂèØ‰ª•ÁÆÄÂçï‰ΩøÁî®Ëá™ÊóãÈîÅÊù•ËøõË°åÂøôÁ≠âÔºåÁ≥ªÁªüÊù•ÂÜ≥Á≠ñÁ≠âÂæÖÈîÅÁöÑËøõÁ®ãÁöÑË∞ÉÂ∫¶ÈóÆÈ¢ò„ÄÇÂØπÁß∞Â§öÂ§ÑÁêÜ: ÂØπ‰∫éÂØπÁß∞Â§öÂ§ÑÁêÜÁ≥ªÁªüÔºåÂ∞±Ë¶ÅËá™Ë°åÂÆûÁé∞‰∏äËø∞ÁöÑ‰ø°Âè∑ÈáèÁ≠âÂæÖÂàóË°®Ôºå‰ª•ÂèäÁ≠âÂæÖÈîÅÊó∂ÁöÑÈòªÂ°û‚Äî‚ÄîÂî§ÈÜíÊú∫Âà∂„ÄÇ ÁªèÂÖ∏ÂêåÊ≠•ÈóÆÈ¢òÊ∂âÂèäÂà∞ÂêåÊ≠•ÈóÆÈ¢òÔºåÊúâÂá†ÁßçÁªèÂÖ∏ÁöÑÈóÆÈ¢òÔºå‰∏ªË¶ÅÁöÑÊúâËØªËÄÖ‚Äî‚ÄîÂÜôËÄÖÈóÆÈ¢òÂíåÂì≤Â≠¶ÂÆ∂ËøõÈ§êÈóÆÈ¢òÔºåÂâçËÄÖÂÖ≥Ê≥®‰∫íÊñ•ÈóÆÈ¢òÔºåÂêéËÄÖÂÖ≥Ê≥®Ê≠ªÈîÅÈóÆÈ¢ò„ÄÇ ËØªËÄÖ‚Äî‚ÄîÂÜôËÄÖÈóÆÈ¢ò‰ªÖËøõË°åËØªÂèñÊìç‰ΩúÁöÑ‰∏∫ËØªËÄÖÔºåËÄåËØªÂÜôÊìç‰ΩúÂùáÈúÄË¶ÅÁöÑ‰∏∫ÂÜôËÄÖ„ÄÇ‰ªçÁÑ∂‰ª•ÂàöÊâçÁöÑ‰π∞Á•®ÈóÆÈ¢ò‰∏∫‰æãÔºåÊàë‰ª¨‰∏çÈöæÂèëÁé∞ÔºåÂΩìÂêåÊó∂ËØªÂèñÊó∂Ôºå‰∏ç‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºåÂΩìÂîØ‰∏ÄÂÜôÂÖ•Êó∂Ôºå‰πü‰∏ç‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºå‰ΩÜÊòØÂΩìÂêåÊó∂ËøõË°åËØªÂÜôÊó∂ÔºåÂàôÂèëÁîü‰∫ÜÊï∞ÊçÆÈîôËØØÈóÆÈ¢ò„ÄÇ ÊâÄ‰ª•ËØªËÄÖ‚Äî‚ÄîÂÜôËÄÖÈóÆÈ¢òÂ∫îÂΩì‰øùËØÅÂêå‰∏ÄÊó∂Èó¥ÂÜôËÄÖÁöÑÂîØ‰∏ÄÊÄßÂèäËØªËÄÖË¶ÅÁ≠âÂæÖÂÜôËÄÖÂÆåÊàêÂêéÂÜçÊâßË°å„ÄÇ ÂêåÊó∂ÔºåÂú®ÂÆûÈôÖÂÆûÁé∞‰∏≠ÔºåË¶ÅÁùÄÈáçÂ§ÑÁêÜËØªËÄÖÊàñÂÜôËÄÖÁöÑÈ••È•øÈóÆÈ¢òÔºåËØªËÄÖ/ÂÜôËÄÖ‰ºòÂÖàÁöÑÊñπÊ°àÂæàÂèØËÉΩÈÄ†ÊàêÂØπÊñπÁöÑÈ••È•ø„ÄÇ Âì≤Â≠¶ÂÆ∂ËøõÈ§êÈóÆÈ¢òÂì≤Â≠¶ÂÆ∂ÈóÆÈ¢òÊòØ‰∏Ä‰∏™ÁªèÂÖ∏ÁöÑÊ≠ªÈîÅÈóÆÈ¢òÔºån‰∏™Âì≤Â≠¶ÂÆ∂Âõ¥ÂùêÂú®ÂúÜÊ°å‰∏äÔºåÂúÜÊ°å‰∏äÊîæÁùÄnÊîØÁ≠∑Â≠êÔºå‰πüÂ∞±ÊòØÊ≤°‰∫∫Â∑¶Âè≥ÈÉΩÊúâ1ÊîØÁ≠∑Â≠ê„ÄÇÂè™ÊúâÂêåÊó∂Êã•Êúâ‰∏§ÊîØÁ≠∑Â≠êÊâçËÉΩÂêÉÈ•≠ÔºåÂêÉÂÆåÈ•≠Âêé‰ºöÊîæ‰∏ãÁ≠∑Â≠ê„ÄÇËã•Âêå‰∏ÄÊó∂Èó¥ÊØè‰∏™Âì≤Â≠¶ÂÆ∂ÈÉΩÂÖàÊãøËµ∑Âè≥ÊâãËæπÁöÑÁ≠∑Â≠êÂÜçÊãøËµ∑Â∑¶ÊâãÁöÑÔºåÈÇ£‰πàÂ∞±ÈÄ†Êàê‰∫ÜÊ≠ªÈîÅÈóÆÈ¢òÔºåÊØè‰∏™‰∫∫ÈÉΩÂú®Á≠âÂæÖÂ∑¶ÊâãÁöÑÁ≠∑Â≠ê„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÂ§öÁßçÂ§öÊ†∑ÔºåÂèØ‰ª•ÈôêÂà∂Âì≤Â≠¶ÂÆ∂ÁöÑÊï∞Èáè‰∏∫n-1Ôºå‰πüÂèØ‰ª•Ë¶ÅÊ±ÇÊãøËµ∑Á≠∑Â≠êÂâçÂà§Êñ≠ÊòØÂê¶Â∑¶Âè≥ÊâãÁöÑÁ≠∑Â≠êÂùáÁ©∫Èó≤„ÄÇËÄåÊú¨Ë¥®‰∏äÔºåËß£ÂÜ≥ÊñπÊ≥ïÂ∞±ÊòØÊ≠ªÈîÅÁöÑÂõõÁßçËß£ÂÜ≥ÊñπÊ≥ï: Ê≠ªÈîÅÈ¢ÑÈò≤„ÄÅÊ≠ªÈîÅÈÅøÂÖç„ÄÅÊ≠ªÈîÅÊ£ÄÊµã„ÄÅÊ≠ªÈîÅÊÅ¢Â§ç„ÄÇ ÊÄªÁªìËøõÁ®ã/Á∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢òÊòØÊìç‰ΩúÁ≥ªÁªüÂú®Êï∞ÊçÆÂÖ±‰∫´ÊñπÈù¢ÁöÑ‰∏ÄÂ§ßÈóÆÈ¢òÔºåÂÖ∂‰∏ç‰ªÖÈúÄË¶ÅÁ°¨‰ª∂ÂèäÁ≥ªÁªüÁ∫ßÁöÑÂÆûÁé∞ÔºåÂêåÊó∂ËøòÈúÄË¶ÅÁ®ãÂ∫èÂëòÂú®ÂºÄÂèëÊó∂ÈÅøÂÖçÊ≠ªÈîÅÔºåÂêåÊ≠•ÈóÆÈ¢ò‰∏éÊ≠ªÈîÅÈóÆÈ¢òÂØÜ‰∏çÂèØÂàÜÔºåÂêéÈù¢Â∞Ü‰ºöËÆ®ËÆ∫Ê≠ªÈîÅÈóÆÈ¢ò„ÄÇ]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Â∫ïÂ±Ç</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàõÂª∫Ëá™Â∑±ÁöÑCocoaPodsÂ∫ìÂπ∂Êèê‰∫§ÊåáÂçó]]></title>
    <url>%2F2017%2F12%2F30%2F%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84CocoaPods%E5%BA%93%E5%B9%B6%E6%8F%90%E4%BA%A4%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄCocoaPodsÊòØ‰∏ÄÊ¨æÂæàÊ£íÁöÑ‰æùËµñÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂú®ÂºÄÂèë‰∏≠‰πüÁªèÂ∏∏Áî®ÂÆÉÊù•ÂØºÂÖ•ÂºÄÊ∫êÁ¨¨‰∏âÊñπÂ∫ì„ÄÇÊúÄËøë‰πüÊÉ≥ÊääËá™Â∑±ÁöÑ‰∏Ä‰∫õÂ∫ìÂºÄÊ∫êÂπ∂Âä†ÂÖ•CocoaPods‰∏≠ÔºåÁâπÊÄªÁªì‰∏Ä‰∏ãËá™Â∑±Âà∂‰ΩúCocoaPodsÂ∫ìÁöÑËøáÁ®ã„ÄÇ ÂâçÊèêÂú®Âà∂‰Ωú‰πãÂâçÔºå‰Ω†ÈúÄË¶ÅÔºö ÊéåÊè°CocoaPodsÁöÑÂü∫Êú¨‰ΩøÁî® ÊéåÊè°GitÁöÑÁÆÄÂçï‰ΩøÁî® ÂáÜÂ§áÂ•ΩËá™Â∑±Ë¶ÅÂºÄÊ∫êÁöÑÊàêÂìÅ ÂºÄÂßãÂà∂‰Ωú‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßãÂà∂‰ΩúËá™Â∑±ÁöÑÂºÄÊ∫êÂ∫ìÔºå‰ª•‰∏™‰∫∫ÁöÑMCScratchImageView‰∏∫‰æã„ÄÇ Êé®ÈÄÅËá≥Git‰ªìÂ∫ì(Github)È¶ñÂÖàÈúÄË¶ÅÂ∞Ü‰Ω†ÁöÑÂºÄÊ∫êÊ°ÜÊû∂‰∏ä‰º†Ëá≥ËøúÁ®ã‰ªìÂ∫ìÔºåÊØîÂ¶ÇGithubÔºå‰ΩøÁî®ÊñπÂºè‰∏çÂÜçËµòËø∞„ÄÇËÆ∞ÂΩï‰∏ã‰Ω†Ë¶Å‰ΩøÁî®ÁöÑcommitÁâàÊú¨ÂØπÂ∫îÁöÑSHAÂÄº„ÄÇÂ¶Ç‰∏ãÂõæÔºö ‰∏∫ÊâÄÈÄâÁâàÊú¨ÊâìtagÂú®GithubËá™Â∏¶tagÂäüËÉΩÂú®Github‰∏ä‰∏∫È°πÁõÆÊâìtagÂèØÂú®releaseÈ°µÈù¢ÔºåÈÄâÊã©ÂàõÂª∫Êñ∞tagÂπ∂Êåâ‰∏ãÂõæÊâÄÁ§∫Â°´ÂÜôÂç≥ÂèØ„ÄÇÂà†Èô§tag‰πüÂêåÁêÜ„ÄÇÁî±‰∫éCocoaPodsÁöÑÁâàÊú¨‰ø°ÊÅØ‰ªÖÊîØÊåÅÊï∞Â≠óÁöÑÊ†ºÂºè(Â¶Ç1.0.0)ÔºåÊâÄ‰ª•ÁâàÊú¨Âè∑ËØ∑ÂãøÂ∏¶ÊúâÂÖ∂‰ªñÁâπÊÆäÁ¨¶Âè∑ÂíåÂ≠óÊØç„ÄÇ ‰ΩøÁî®ÂëΩ‰ª§Ë°å‰ΩøÁî®ÂëΩ‰ª§Ë°åËøõË°åÁâàÊú¨ÁÆ°ÁêÜËæÉ‰∏∫Êñπ‰æøÔºåÁÆÄÂçïÊ≠•È™§‰∏∫: ÂàõÂª∫Êú¨Âú∞tag -&gt; Â∞ÜtagÊé®Ëá≥ËøúÁ®ã‰ªìÂ∫ì„ÄÇ ÂèÇËÄÉÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234// ÂàõÂª∫Êú¨Âú∞taggit tag -a 1.0.0 0c3b62d -m "Release Edition v1.0.0"// ÂêåÊ≠•Âà∞ËøúÁ®ã‰ªìÂ∫ìgit push origin 1.0.0 ÂÖ∑‰ΩìTagÁöÑ‰ΩøÁî®ÊñπÂºèÔºåÂèØ‰ª•ÂèÇËÄÉ‰ΩøÁî®GitÊ∑ªÂä†tagÁöÑÊñπÊ≥ï Âà∂‰ΩúPodspecÊèèËø∞Êñá‰ª∂ÁîüÊàêPodspecÈ¶ñÂÖàÂú®È°πÁõÆ‰∏ªÁõÆÂΩïËæìÂÖ•‰∏Ä‰∏ãÂëΩ‰ª§pod spec create &lt;‰Ω†ÁöÑÈ°πÁõÆÂêç&gt; ËØ•ÂëΩ‰ª§‰ºöÂú®ÁõÆÂΩï‰∏≠ÁîüÊàê‰∏Ä‰∏™.podspecÊ†ºÂºèÁöÑÊñá‰ª∂ÔºåÂåÖÂê´‰∫ÜËØ•Ê°ÜÊû∂ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÊàë‰ª¨ÂàõÂª∫CocoaPodsÂ∫ìÁöÑÊâÄÊúâÈÖçÁΩÆÈÉΩÂõ¥ÁªïÂÆÉÊù•ÂÆåÊàê„ÄÇ ÈÖçÁΩÆPodspecÊñá‰ª∂‰ΩøÁî®ÁºñËæëÂ∑•ÂÖ∑(Â¶ÇSublimeText)ÊâìÂºÄËØ•podspecÊñá‰ª∂ÔºåÊñáÊ°£‰∏≠Â∑≤ÁªèÊúâËØ¶ÁªÜÊèèËø∞ÔºåÂú®Ê≠§ÁÆÄÂçïËØ¥Êòé‰∏Ä‰∏ãÂêÑÂ±ûÊÄß‰ΩúÁî®Ôºö s.name: Ê°ÜÊû∂ÂêçÁß∞ s.version: Ê°ÜÊû∂ÊúÄÊñ∞ÁâàÊú¨Âè∑„ÄÇËøô‰∏™ÁâàÊú¨Âè∑ÂØπÂ∫î‰∫Ü‰Ω†Git‰ªìÂ∫ì‰∏≠Êüê‰∏™Êèê‰∫§ÁöÑtagÔºåÂ¶ÇÊûú‰ªìÂ∫ì‰∏≠ÂØπÂ∫îÁöÑtag‰∏çÂ≠òÂú®Âàô‰ºöÊèê‰∫§Â§±Ë¥•„ÄÇ s.summary: Ê°ÜÊû∂ÁöÑÊ¶ÇËø∞„ÄÇs.description: Ê°ÜÊû∂ÁöÑËØ¶ÁªÜ‰ªãÁªç„ÄÇs.homepage: Ê°ÜÊû∂ÂØπÂ∫îÈ°µÈù¢ÔºåÈöè‰æøÂÜôs.license: Ê°ÜÊû∂ÁöÑÂºÄÊ∫êÂçèËÆÆs.author: Ê°ÜÊû∂‰ΩúËÄÖÂèäÈÇÆÁÆ±ÔºåËÆæÁΩÆÊñπÂºèËßÅÊ≥®Èáä s.platform: Ëøô‰∏™Ë¶ÅÊåâÊ≥®ÈáäÂÜôÊ∏ÖÊîØÊåÅÁöÑÁ≥ªÁªüÂíåÁâàÊú¨ÔºåÂêåÊó∂‰πüË¶Å‰øùËØÅÂÆûÈôÖÊÉÖÂÜµÔºåÊØîÂ¶ÇSwift3.0ÊúÄ‰ΩéÊîØÊåÅÂà∞iOS 8.0Ôºå‰Ω†Â∞±‰∏çËÉΩÂÜôÊúÄ‰ΩéÊîØÊåÅiOS 7.0 s.source: ÂØπÂ∫îÁöÑgitÊ∫êÔºåÂú®Github-&gt;Clone or download-&gt;Clone with HTTPS‰∏≠ s.source_files: Â∫ìÁöÑÊ∫ê‰ª£Á†ÅÊñá‰ª∂„ÄÇËøô‰∏™ÊòØÈáçÁÇπÔºåÂ∫îËØ•ÂåÖÂê´ÂÖ®ÈÉ®‰Ω†ÁöÑÂ∫ìÊâÄÈúÄÁöÑÊñá‰ª∂„ÄÇÂ¶Ç&quot;s.source_files = MCScratchImageView/*.swift&quot;‰∏∫MCScratchImageViewÊñá‰ª∂Â§πÂÜÖÁöÑÂÖ®ÈÉ®swift‰ª£Á†ÅÊñá‰ª∂„ÄÇÊ≥®ÊÑèÈªòËÆ§‰∏∫.hÂíå.mÊñá‰ª∂ÔºåÈúÄË¶ÅËÆæÁΩÆ‰∏∫swiftÁöÑÊ†ºÂºè„ÄÇÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™Êñá‰ª∂ÂèÇÊï∞„ÄÇ s.framework: È°πÁõÆÊâÄÁî®Âà∞ÁöÑÂéüÁîüÊ°ÜÊû∂ÔºåÂ¶ÇUIKit Framework s.dependency: È°πÁõÆÈúÄË¶ÅÁöÑÂÖ∂‰ªñCocoaPodsÂ∫ìÔºåÂ¶Çs.dependency &quot;JSONKit&quot;, &quot;~&gt; 1.4&quot; È™åËØÅPodspecÊñá‰ª∂ÈÖçÁΩÆÂÆåPodspecÊñá‰ª∂‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•È¢ÑÂÖàÈ™åËØÅ‰∏Ä‰∏ãÊñá‰ª∂ÊòØÂê¶ÂèØÁî®„ÄÇ 1pod spec lint &lt;Êñá‰ª∂ÂêçÁß∞&gt;.podspec Ëã•ÊèêÁ§∫&lt;Êñá‰ª∂Âêç&gt; passed validation.ÔºåÂàôÈ™åËØÅÈÄöËøá„ÄÇ ÂèëÂ∏ÉÂà∞CocoaPods(TrunkÊñπÂºè)ÂÆåÊàê‰∫ÜÊâÄÊúâÁöÑÂà∂‰Ωú‰πãÂêéÔºåÊàë‰ª¨Áé∞Âú®Â∞ÜÂ∫ìÂèëÂ∏ÉÂà∞CocoaPods„ÄÇ‰ΩøÁî®‰∫ÜÂÖ∂Ëá™Â∏¶ÁöÑTrunkÂ∑•ÂÖ∑ËøõË°åÊèê‰∫§„ÄÇ Ê≥®ÂÜåTrunkÈ¶ñÂÖàÈúÄË¶ÅÂ∞ÜÊú¨Êú∫Ê≥®ÂÜåÂà∞trunk1pod trunk register &lt;E-mail&gt; '&lt;Áî®Êà∑Âêç&gt;' --description='&lt;ËÆæÂ§áÂà´Âêç&gt;' Êèê‰∫§Ê≥®ÂÜåÂêéÔºåÊâÄÂ°´ÂÜôÁöÑÈÇÆÁÆ±Â∞Ü‰ºöÊî∂Âà∞‰∏Ä‰∏™È™åËØÅÈÇÆ‰ª∂ÔºåÁ°ÆËÆ§È™åËØÅÂç≥ÂèØ„ÄÇ ÂêåÊó∂‰πüÂèØ‰ª•‰∏∫È°πÁõÆÊ∑ªÂä†ÂÖ∂‰ªñÁª¥Êä§ËÄÖ:1pod trunk add-owner &lt;Â∫ìÂêç&gt; &lt;ÂÖ∂‰ªñÁª¥Êä§ËÄÖÈÇÆÁÆ±&gt; ÂèØ‰ª•‰ΩøÁî®pod trunk meÊù•Êü•ÁúãÂΩìÂâçË¥¶Êà∑‰ø°ÊÅØ„ÄÇ ‰ΩøÁî®TrunkÊèê‰∫§ÈÄöËøáÈÖçÁΩÆÂ•ΩÁöÑPodspecÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂ∫ìÊèê‰∫§Âà∞CocoaPods‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§:1pod trunk push &lt;Êñá‰ª∂Âêç&gt;.podspec Êèê‰∫§ËøáÁ®ã‰ºöÊ£ÄÊü•‰Ω†ÁöÑ‰ª£Á†ÅËÉΩÂê¶Ê≠£Á°ÆÁºñËØë„ÄÅ‰ª•ÂèäPodspecÊòØÂê¶Ê≠£Á°ÆÈÖçÁΩÆ„ÄÇËã•ÊàêÂäüÂ∞Ü‰ºöÊòæÁ§∫Á•ùË¥∫‰ø°ÊÅØ„ÄÇ Êü•ÁúãÊèê‰∫§Â∫ì‰ø°ÊÅØÊàë‰ª¨ÂèØ‰ª•Âú®Êèê‰∫§ÊàêÂäüÂêéÊü•ÁúãÊòØÂ∫ìÊòØÂê¶Â∑≤ÁªèÂú®CocoaPods‰∏äÔºåÂëΩ‰ª§Â¶Ç‰∏ã:123pod search &lt;Â∫ìÂêç&gt;// Â¶ÇÊûúÊü•Êâæ‰∏çÂà∞ÔºåÂèØ‰ª•Â∞ùËØïpod search &lt;Â∫ìÂêç&gt; --simple Â¶ÇÊûúÊâæ‰∏çÂà∞ÔºåÂèØ‰ª•Â∞ùËØï12pod setuprm ~/Library/Caches/CocoaPods/search_index.json Â¶ÇÊûúËÉΩÊü•ÁúãÂà∞Â∫ì‰ø°ÊÅØÔºåÂàôËØ¥Êòé‰∏ä‰º†ÊàêÂäü„ÄÇÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â∫ìÁöÑ‰ªãÁªç‰ª•ÂèäÊâÄÊúâÁâàÊú¨Á≠â‰ø°ÊÅØ„ÄÇ Âà†Èô§Â∫ìÁöÑÊåáÂÆöÁâàÊú¨ÂΩì‰∏ä‰º†ÁöÑÂ∫ìÁâàÊú¨Âè∑Â∑≤Â≠òÂú®Êó∂‰ºöÂèëÁîüÂÜ≤Á™ÅÔºå‰∏çËÉΩË¶ÜÁõñ„ÄÇÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩÂÖàÂà†Èô§ÊåáÂÆöÁâàÊú¨ÂÜçÈáçÊñ∞Êèê‰∫§„ÄÇ1pod trunk delete &lt;Â∫ìÂêç&gt; &lt;ÁâàÊú¨Âè∑&gt; Á§∫‰æãËá≥Ê≠§ÔºåÊàë‰ª¨Â∑≤ÁªèÊàêÂäüÊääËá™Â∑±ÁöÑÂ∫ìÊèê‰∫§Ëá≥CocoaPodsÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáPodfileÊù•‰ΩøÁî®„ÄÇ‰∏ãÈù¢ÈôÑ‰∏Ä‰ªΩÊú¨‰∫∫CocoaPodsÂ∫ìÁöÑPodspecÊñá‰ª∂‰ª•‰æõÂèÇËÄÉ, MCScratchImageView 123456789101112131415Pod::Spec.new do |s|s.name = "MCScratchImageView"s.version = "1.0.0"s.summary = "Custom ImageView like scratch card"s.description = &lt;&lt;-DESCA custom ImageView that is used to cover the surface of other view like a scratch card, user can swipe the mulch to see the view below.DESCs.homepage = "https://github.com/Minecodecraft/MCScratchImageView"s.license = "MIT"s.author = &#123; "Minecode" =&gt; "Minecoder@163.com" &#125;s.platform = :ios, "8.0"s.source = &#123; :git =&gt; "https://github.com/Minecodecraft/MCScratchImageView.git", :tag =&gt; "#&#123;s.version&#125;" &#125;s.source_files = "MCScratchImageView/MCScratchImageView.swift"s.framework = "UIKit"end Â¶ÇÊúâÈóÆÈ¢òÔºåÂèØ‰ª•ÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ minecoder@163.comÊ¨¢ËøéÂÖ±ÂêåÊé¢ËÆ®iOSÂºÄÂèëÈóÆÈ¢ò]]></content>
      <categories>
        <category>ÂºÄÊ∫êÊ°ÜÊû∂</category>
      </categories>
      <tags>
        <tag>Github</tag>
        <tag>CocoaPods</tag>
        <tag>OpenSource</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objective-CÂºÄÂèë‰∏≠ClangÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2017%2F12%2F21%2FObjective-C%E5%BC%80%E5%8F%91%E4%B8%ADClang%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®Objective-CÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÂ∞§ÂÖ∂Âú®‰∫ÜËß£Êüê‰∫õÂäüËÉΩÁöÑÂ∫ïÂ±ÇÂÆûÁé∞Êó∂ÔºåÂ∏∏Áî®Âà∞ClangÁºñËØëÂô®ÁöÑÂëΩ‰ª§„ÄÇÂú®Ê≠§ÂØπÂ∏∏Áî®ÂëΩ‰ª§ÂÅö‰∏™ÁÆÄÂçïÊÄªÁªì„ÄÇ ClangÁöÑÁÆÄ‰ªãClangÊòØ‰∏Ä‰∏™C„ÄÅC++„ÄÅObjective-CÂíåObjective-C++ÁºñÁ®ãËØ≠Ë®ÄÁöÑÁºñËØëÂô®ÂâçÁ´ØÔºåÂÖ∂ÂêéÁ´Ø‰∏∫Â∫ïÂ±ÇËôöÊãüÊú∫(LLVM)„ÄÇÊòØ‰∏Ä‰∏™GCCÁöÑÊõø‰ª£ÂìÅÔºå‰πüÊòØXcodeÁöÑÈ¶ñÈÄâÁºñËØëÂô®„ÄÇ ÈÄöËøáClangÔºåÊàë‰ª¨ÂèØ‰ª•ÂÅö‰ªÄ‰πàÔºü ÁºñËØëOC‰ª£Á†ÅÔºåËøô‰πüÊòØÂÆÉÁöÑÊú¨ËÅåÂ∑•‰Ωú„ÄÇ ÂèØ‰ª•Â∞ÜOC‰ª£Á†ÅËΩ¨ÂåñËá≥C++ÊàñÊ±áÁºñ‰ª£Á†ÅÔºå‰ªéËÄåÁ™•Êé¢OCÊüê‰∫õÁâπÊÄßÁöÑÂ∫ïÂ±ÇÂÆûÁé∞„ÄÇ Âú®ÁªàÁ´ØÂø´ÈÄüÁºñËØëÔºåÂç†Áî®ËæÉÂ∞ëÂÜÖÂ≠òÔºåÂêåÊó∂ÂÖ∑ÊúâËØäÊñ≠ÂäüËÉΩ„ÄÇ ÁºñËØëOC‰ª£Á†ÅÈô§‰∫Ü‰ΩøÁî®XcodeÁºñËØëÂ∑•Á®ãÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáClangÊù•ÊâãÂä®ÁºñËØë„ÄÇ Âú®Xcode‰∏≠ÂºÄÂèëÈ°πÁõÆÊó∂ÔºåÊàë‰ª¨Áü•ÈÅìÔºåProject-&gt;Targets-&gt;Build Phases-&gt;Compile Sources‰∏≠ÂØπÂ∫îÁöÑÊñá‰ª∂Ê†áËÆ∞Â∞±ÊòØÊåáÂÆöËØ•Êñá‰ª∂‰∏∫ARC/Non-ARC(MRC)„ÄÇÂÖ∂‰∏≠ARCÂØπÂ∫î-fobjc-arcÔºåMRCÂØπÂ∫î-fno-objc-arc„ÄÇËÄåÂàöÊâçËØ¥Âà∞ClangÂÆûÈôÖÂ∞±ÊòØLLVMÁöÑÂâçÁ´ØÔºåÊâÄ‰ª•Êàë‰ª¨Âú®clang‰∏≠‰ΩøÁî®ÂêåÊ†∑Êåá‰ª§ÊåáÂÆöÁºñËØëÊñπÂºè„ÄÇÂ¶Ç‰∏ãÊåá‰ª§Ôºö ARC‰∏ãÁºñËØëÊåá‰ª§clang -fobjc-arc -framework Foundation main.m -o mainMRC‰∏ãÁºñËØëÊåá‰ª§clang -fno-objc-arc -framework Foundation main.m -o main -framwork [Ê°ÜÊû∂Âêç] ÂØπÂ∫îÊâÄ‰ΩøÁî®ÁöÑÊ°ÜÊû∂ -o [Êñá‰ª∂Âêç] ‰∏∫ËæìÂá∫ÁöÑÂèØÊâßË°åÊñá‰ª∂Âêç Êàë‰ª¨Âú®.mÊñá‰ª∂‰∏≠ËæìÂá∫ ‚ÄúHello,World‚Äù1234int main(int argc, const char * argv[]) &#123;NSLog(@&quot;Hello, World!&quot;);return 0;&#125; ÁºñËØëOC‰ª£Á†ÅÔºåÁîüÊàêÁöÑÂèØÊâßË°åÊñá‰ª∂‰ª•ÂèäÁªàÁ´ØÊâßË°åÁªìÊûúÂ¶Ç‰∏ãÔºö ËΩ¨Êç¢‰∏∫C++‰ª£Á†ÅOCÂ∫ïÂ±ÇÂÆûÁé∞‰∏∫CÔºåÊâÄ‰ª•Ë¶ÅÁ†îÁ©∂ÂÖ∂Â±ûÊÄß„ÄÅÊ∂àÊÅØÊú∫Âà∂„ÄÅRuntimeÁ≠âÁâπÊÄßÔºåÂ∞±Ë¶ÅÁî®Âà∞ClangÁöÑ‰ª£Á†ÅËΩ¨Âåñ„ÄÇ Â∞ÜOCÁöÑ.mÊñá‰ª∂ËΩ¨Âåñ‰∏∫C++Ê∫ê‰ª£Á†Åclang -rewrite-objc main.m ÁîüÊàêÁöÑcppÂç≥‰∏∫OCÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÔºåÊé•‰∏ãÊù•Â∞±ÊòØÁ†îÁ©∂ÂÖ∂Â∫ïÂ±ÇÂÆûÁé∞ÁöÑÂ∑•‰Ωú‰∫Ü„ÄÇ ËΩ¨Êç¢‰∏∫Ê±áÁºñ‰ª£Á†ÅÈ´òÁ∫ßËØ≠Ë®ÄÊúÄÁªàÊòØË¶ÅËΩ¨Âåñ‰∏∫Ê±áÁºñÁÑ∂ÂêéËΩ¨Âåñ‰∏∫01‰∏≤ÁöÑÔºåClang‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜËΩ¨Âåñ‰∏∫Ê±áÁºñÁöÑÂäüËÉΩ„ÄÇ Â∞ÜOCÁöÑ.mÊñá‰ª∂ËΩ¨Âåñ‰∏∫Ê±áÁºñÊ∫ê‰ª£Á†Åclang -S main.m ÁîüÊàêÁöÑ.sÂç≥‰∏∫ÂØπÂ∫îÁöÑÊ±áÁºñÂÆûÁé∞„ÄÇ ÂÖ∂‰ªñÊåá‰ª§Áî±‰∫éÂÖ∂‰ªñÊåá‰ª§Âπ∂‰∏çÂ∏∏ËßÅÔºå‰∏çÂÜçËµòËø∞ÔºåÂàó‰∏æÈÉ®ÂàÜ‰ª•‰æõÊü•ÈòÖ„ÄÇ Êåá‰ª§ ËØ¥Êòé -E È¢ÑÁºñËØë‰ª£Á†Å(Âç≥Â§ÑÁêÜÂÆèÂÆö‰πâ) -C ‰ªÖÁºñËØë‰ΩÜ‰∏çÈìæÊé•(ÁîüÊàê.oÈìæÊé•Êñá‰ª∂) -S ‰ªÖÁºñËØë‰∏çÊ±áÁºñ(ÁîüÊàê.sÊ±áÁºñ‰ª£Á†ÅÊñá‰ª∂) -o Êñá‰ª∂Âêç ÈìæÊé•ÔºåËæìÂá∫ÂèØÊâßË°åÊñá‰ª∂ -g Âú®ÂèØÊâßË°åÁ®ãÂ∫è‰∏≠ÂåÖÂê´Ê†áÂáÜË∞ÉËØï‰ø°ÊÅØ -I Ë∑ØÂæÑ Âú®Â§¥Êñá‰ª∂ÁöÑÊêúÁ¥¢Ë∑ØÂæÑÂàóË°®‰∏≠Ê∑ªÂä†dirÁõÆÂΩï -L Ë∑ØÂæÑ Âú®Â∫ìÊñá‰ª∂ÁöÑÊêúÁ¥¢Ë∑ØÂæÑÂàóË°®‰∏≠Ê∑ªÂä†dirÁõÆÂΩï Áõ∏ÂÖ≥ËµÑÊñô Clang documentation]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Clang</tag>
        <tag>Runtime</tag>
        <tag>Objective-C</tag>
        <tag>Â∫ïÂ±Ç</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êé¢Á©∂Objective-CÂ±ûÊÄßÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2F2017%2F12%2F19%2F%E6%8E%A2%E7%A9%B6Objective-C%E5%B1%9E%E6%80%A7%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®Objective-CÊó∂ÔºåÈ¢ëÁπÅÁî®Âà∞Â±ûÊÄßÂÖ≥ÈîÆÂ≠ó„ÄÇÊàë‰ª¨Â∫îËØ•ÁêÜËß£ÊØèÁßçÂ±ûÊÄßÁöÑÊÑè‰πâÔºåÂπ∂‰∫ÜËß£‰∏Ä‰∫õÂÅèÂ∫ïÂ±ÇÁöÑÂÆûÁé∞ÔºåÊïÖÂú®Ê≠§ÂØπOCÁöÑÂ±ûÊÄßÂÖ≥ÈîÆÂ≠óÂÅö‰∏™ÊµÖÊûê„ÄÇ Âü∫Á°ÄÊ¶ÇÂøµÔºöivar„ÄÅgetter„ÄÅsetterÂú®CËØ≠Ë®Ä‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏ÊòØÁõ¥Êé•Êìç‰ΩúÊàêÂëòÂèòÈáè„ÄÇËÄåÂú®Objective-C‰∏≠Ôºå‰ΩøÁî®‰∫Ü‚ÄúÂ±ûÊÄß‚ÄùËøô‰∏ÄÊ¶ÇÂøµÊù•Â∞ÅË£ÖÂØπË±°‰∏≠ÁöÑÊï∞ÊçÆÔºåOCÂØπË±°‰ºöÊääÈúÄË¶ÅÁöÑÊï∞ÊçÆ‰øùÂ≠ò‰∏∫ÂêÑÁßçÂÆû‰æãÂèòÈáèÔºåÂêåÊó∂ÈÄöËøá‚ÄúÂ≠òÂèñÊñπÊ≥ï‚Äù(Access Method)Êù•ËøõË°åËÆøÈóÆÔºå‰πüÂ∞±ÊòØÂ∏∏ËØ¥ÁöÑgetterÂíåsetter„ÄÇ ÊâÄ‰ª•ÔºåivarÊòØÂØπË±°ÁöÑÂêÑÁßçÂÆû‰æãÂèòÈáèÔºågetterÁî®‰∫éËé∑ÂèñÂèòÈáèÁöÑÂÄºÔºåsetterÁî®‰∫éÂÜôÂÖ•ÂèòÈáèÁöÑÂÄº„ÄÇ Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™Ê†áÂáÜÁöÑivar+getter+setterÊ†∑Êùø‰ª£Á†ÅÔºö1234567891011121314@interface Person: NSObject&#123; // ivarÂ£∞Êòé @private NSString *_myName;&#125;// getterÊñπÊ≥ï- (NSString *)myName &#123; return _myName;&#125;// setterÊñπÊ≥ï- (void)setMyName:(NSString *)newName &#123; _myName = newName;&#125; ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÊ†∑ÁöÑÁªÑÂêàÊñπÂºèÈÄ†Êàê‰∫Ü‰ª£Á†ÅÁöÑËáÉËÇøÔºåÂ§ßÂ§ßÈôç‰Ωé‰∫ÜÂºÄÂèëÊïàÁéáÂíåÂèØËØªÊÄßÔºåÂÆûÈôÖÂºÄÂèë‰∏≠‰ΩøÁî®ivar+getter+setterÁöÑÊÉÖÂÜµÂπ∂‰∏çÂ∏∏ËßÅÔºåËøôÂ∞±Ë¶ÅÂºïÂÖ•@synthesizeÂíå@propertyËøô‰∏™ÂÖ≥ÈîÆÂ≠ó„ÄÇ @synthesizeËøô‰∏™Â±ûÊÄßÂ∑≤ÁªèÂæàÂ∞ëËßÅÂà∞‰∫ÜÔºåÂÆÉÊòØÂ±û‰∫éMRCÂíå32bitÊó∂‰ª£ÁöÑ‰∫ßÁâ©„ÄÇ@synthesizeÂ±ûÊÄßÁî®Êù•ÂêàÊàê‰∏Ä‰∏™Â±ûÊÄßÔºåÂèòÈáèÂêçÂ¶ÇÊûúÊ≤°ÊúâÊòæÂºèÂ£∞ÊòéÂàôÈªòËÆ§Ê∑ªÂä†‰∏Ä‰∏™‰∏ãÂàíÁ∫øÁöÑÂâçÁºÄ(_ÂèòÈáèÂêç)„ÄÇÂΩìÁÑ∂‰πüÂèØ‰ª•ÊâãÂä®Â£∞ÊòéÂèòÈáèÂêçÂπ∂Âª∫Á´ã‰∏é@propertyÁöÑÂÖ≥Á≥ª„ÄÇ ‰∏∫‰∫ÜÂä†Ê∑±ÁêÜËß£ÔºåÊàë‰ª¨Áúã‰∏Ä‰∏ã‰ª•‰∏ã‰ª£Á†ÅÔºåÂÆÉÁöÑÈÄªËæë‰∏∫ÔºöÊâãÂä®Â£∞ÊòéivarÔºå‰ΩøÁî®propertyÂ£∞ÊòéÂ≠òÂèñÊñπÊ≥ïÔºå‰ΩøÁî®@synthesizeÂª∫Á´ãivarÂíåpropertyÁöÑÂÖ≥Á≥ª„ÄÇ12345678910111213@interface SubClass ()&#123; // Â£∞Êòéivar NSString *_myName;&#125;// Â£∞ÊòéÂ±ûÊÄß(Âπ∂ÂêàÊàêgetter+setter)@property (nonatomic, copy) NSString* myName;@end@implementation SubClass// Âª∫Á´ãmyNameÂ±ûÊÄß‰∏é_myNameÊàêÂëòÂèòÈáèÁöÑÂÖ≥Á≥ª@synthesize myName = _myName;@end ÂèØ‰ª•ÁúãÂá∫@synthesizeÂíå@propertyÂêÑËá™Ë¥üË¥£ÁöÑÂ∑•‰ΩúÔºåËôΩÁÑ∂Ëøô‰∫õÂ∑•‰ΩúÂ∑≤ÁªèÁî±ÁºñËØëÂô®Â∏ÆÊàë‰ª¨ÂÅö‰∫ÜÔºå‰ΩÜÊòØÁêÜËß£Ëøô‰∏ÄÊ¶ÇÂøµËøòÊòØÂæàÈáçË¶ÅÁöÑ„ÄÇ Áé∞Âú®Êàë‰ª¨Áü•ÈÅì‰∫ÜÁúÅÁï•@synthesizeÂ£∞ÊòéÂÆûÈôÖ‰∏äÊòØÂõ†‰∏∫LLVMÁöÑClang‰∏∫Âú®ARCÊ®°Âºè‰∏ã‰ºöËá™Âä®ÁîüÊàê@synthesizeÂ£∞ÊòéÔºå‰ΩÜÊòØËøô‰ªÖÈôê‰∫é64‰ΩçOCËøêË°åÊó∂‰∏≠ÔºåÂΩì‰ΩøÁî®32‰ΩçÁ≥ªÁªüÊó∂ÔºåÊàë‰ª¨ÂøÖÈ°ªË¶ÅÊâãÂä®Â£∞ÊòéÔºåÂê¶Âàô‰ºöÊä•Èîô„ÄÇÊàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆNS_BUILD_32_LIKE_64ÂÆèÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ @dynamicÁõ∏ÂØπ‰∫é@synthesizeÔºå@dynamicÂëäËØâÁºñËØëÂô®ËØ•Â±ûÊÄßÁöÑgetterÂíåsetterÁî±Á®ãÂ∫èÂëòËá™Ë°åÂÆûÁé∞ÔºåÁºñËØëÂô®‰∏çÂÜçËá™Âä®ÁîüÊàê„ÄÇÂú®ËøêË°åÊó∂ÊâßË°åËøáÁ®ã‰∏≠Â¶ÇÊûúÊâæ‰∏çÂà∞ÂØπÂ∫îÂ≠òÂèñÊñπÊ≥ïÔºåÂàô‰ºöÊä•Èîô„ÄÇËøô‰æøÊòØRuntime‰∏≠ÁöÑÂä®ÊÄÅÁªëÂÆö„ÄÇ ÂêåÊó∂Ôºå‰ΩøÁî®‰∫Ü@dynamic‰øÆÈ•∞ÂàôÂøÖÈ°ªÂä®ÊÄÅÁîüÊàêÊñπÊ≥ïÂÆûÁé∞ÔºåÊ≤°Êúâ@dynamic myName = _myName;ÁöÑËØ≠Ê≥ïÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨Ê≤°ÊúâÂäûÊ≥ïÈùôÊÄÅÁöÑÂª∫Á´ãgetter/setterÂπ∂ËÆøÈóÆ‰∏ãÂàíÁ∫øÂâçÁºÄÁöÑivar„ÄÇÂØπÂ∫îÁöÑËß£ÂÜ≥ÊñπÊ≥ïÊòØÊ∂àÊÅØËΩ¨ÂèëÂíåÂä®ÊÄÅÊñπÊ≥ïËß£ÊûêÔºåÊú¨Êñá‰∏çËøáÂ§öËÆ®ËÆ∫„ÄÇ @propertyÊú¨Ë¥®‰∏äÊù•ËØ¥Ôºå@propertyÂÆûÈôÖ‰∏äÊòØÂëäÁü•ÁºñËØëÂô®‰∏∫‰Ω†ÁöÑivarÁîüÊàêgetterÂíåsetterÔºåÂπ∂‰∏çÁîüÊàêivarÔºåË¶ÅÁêÜËß£Ëøô‰∏ÄÁÇπ„ÄÇ‰ΩÜÊòØÁî±‰∫é@synthesizeÊó†È°ªÂÜçÊâãÂä®Â£∞ÊòéÔºåÊâÄ‰ª•Êàë‰ª¨‰ΩøÁî®@propertyÂêéÂÆûÈôÖ‰∏äÊòØÂ£∞Êòé‰∫Üivar+getter+setterÁöÑÊ†áÂáÜÊ®°Êùø„ÄÇ Runtime‰∏ãÁöÑÂÆö‰πâÊàë‰ª¨È¶ñÂÖàÂèçÁºñËØë‰∏∫cpp‰ª£Á†ÅÔºåÊúâÂÖ≥ÂèçÁºñËØëÁöÑÂÜÖÂÆπËØ∑ËßÅObjective-CÂºÄÂèë‰∏≠ClangÁöÑ‰ΩøÁî®„ÄÇ ÂèØ‰ª•ÂèëÁé∞propertyÂú®OCËøêË°åÊó∂‰∏≠ÊòØobjc_property_tÁ±ªÂûãÁöÑÔºåÂÆö‰πâÂ¶Ç‰∏ãÔºö123456typedef struct objc_property *objc_property_t;struct property_t &#123; const char *name; const char *attributes;&#125;; propertyÁªìÊûÑ‰ΩìÊúânameÂíåattributes‰∏§‰∏™ÊàêÂëòÂèòÈáèÔºåËÄåattributesÂàôÊòØpropertyÁöÑÂ±ûÊÄßÂÆö‰πâÔºåÊàë‰ª¨Áúã‰∏Ä‰∏ãÂÆÉÁöÑÂÆö‰πâÔºö12345/// Defines a property attributetypedef struct &#123; const char *name; /**&lt; The name of the attribute */ const char *value; /**&lt; The value of the attribute (usually empty) */&#125; objc_property_attribute_t; Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÊ≥ïËé∑ÂèñÂØπÂ∫îÂèòÈáèÔºö12345678// Ëé∑ÂèñÊâÄÊúâÂ±ûÊÄßÂàóË°®class_copyPropertyList// Ëé∑ÂèñÂ±ûÊÄßÂêçproperty_getName// Ëé∑ÂèñÂ±ûÊÄßÊèèËø∞Â≠óÁ¨¶‰∏≤property_getAttributes// Ëé∑ÂèñÊâÄÊúâÂ±ûÊÄßÂàóË°®property_copyAttributeList ÂèØ‰ª•ÁúãÂà∞ÔºåÊØè‰∏Ä‰∏™attributeÂØπÂ∫î‰∏ÄÁßçÂ±ûÊÄß‰øÆÈ•∞Á¨¶ÔºåpropertyÊâÄÂÆö‰πâÁöÑÂ±ûÊÄßÂ∞±ÂåÖÂê´ÂÖ∂‰∏≠„ÄÇÂØπÂ∫îÂÖ≥Á≥ªÂ¶Ç‰∏ã Â±ûÊÄß‰øÆÈ•∞Á¨¶Á±ªÂûã name value Â±ûÊÄßÁ±ªÂûã T Â±ûÊÄßÁ±ªÂûãÂêç ÂÜÖÂ≠òÁÆ°ÁêÜ C(copy) &amp;(strong/retain) W(weak) R(readonly) Á©∫ Ëá™ÂÆö‰πâgetter/setter G(getter) S(setter) ÊñπÊ≥ïÂêç ÂéüÂ≠ê/ÈùûÂéüÂ≠êÁ±ªÂûã N(nonatomic) Á©∫(atomic) Á©∫ ivarÂêçÁß∞ V ÂèòÈáèÂêçÁß∞ ÊØîÂ¶ÇÊàë‰ª¨ÂàÜÂà´ÂÆö‰πâ‰∏Ä‰∏™ÂØπË±°Á±ªÂûã„ÄÅÊ†áÈáè„ÄÅ‰ª•ÂèäidÁ±ªÂûãÁöÑÂ±ûÊÄßÊù•Áúã‰∏Ä‰∏ã Â±ûÊÄßÂÆö‰πâ attributesÊèèËø∞ @property char charDefault; Tc,V_charDefault @property (nonatomic, copy) NSString *myString; T@‚ÄùNSString‚Äù,C,N,V_myString @property(nonatomic, readonly, retain) id idVar; T@,R,&amp;,V_idVar Ê≥®ÊÑèÔºöÊ≥®ÊÑèÊèèËø∞Á¨¶‰∏≠ÁöÑV_ivarÂêçÁß∞ÔºåÊ≠§ÊèèËø∞Á¨¶ÊòØÂü∫‰∫é64bitÁ≥ªÁªüÁöÑÔºåÂõ†‰∏∫‰ºöËá™Âä®ÂêàÊàêivarÔºåÂ¶ÇÊûúÊòØ32bitÁ≥ªÁªüÂàô‰∏ç‰ºöÊúâ‰∏ãÂàíÁ∫øÔºåÂâçÊñáÂ∑≤ÂÅöËß£Èáä„ÄÇ Runtime‰∏ãÁöÑÂÆûÁé∞‰∫ÜËß£‰∫ÜÂ±ûÊÄßÂú®ËøêË°åÊó∂Á≥ªÁªü‰∏ãÁöÑÂÆö‰πâÔºåÊàë‰ª¨Áé∞Âú®Êé¢Á©∂‰∏Ä‰∏ãÂÖ∂ÁöÑÂÆûÁé∞„ÄÇËøêË°åÊó∂‰∏≠Êúâivar„ÄÅmethod„ÄÅclass„ÄÅobjectÁ≠âÊ¶ÇÂøµÔºåÂÖ∂‰∏≠@propertyÂ∞±Ê∂âÂèäÂà∞‰∫ÜivarÂíåmethod(getÊñπÊ≥ïÂíåsetÊñπÊ≥ï)ÔºåÂÖ∑‰ΩìÂ¶Ç‰ΩïÂÆûÁé∞Âë¢ÔºåÊàë‰ª¨ÈÄöËøáÂèçÁºñËØëÊù•‰∏ÄÊé¢Á©∂Á´ü„ÄÇ Âú®OC‰∏≠ÔºåÊâÄÊúâÂØπË±°ÈÉΩÂèØ‰ª•ËÆ§‰∏∫ÊòØidÁ±ªÂûãÔºåidÁ±ªÂûãÂÆö‰πâ‰∏∫‰∏ãÔºö123typedef struct objc_object &#123; Class isa;&#125; *id; ËÄåidÁ±ªÂûãÂ∞±ÊòØÊåáÂêëClassÁ±ªÂûãÁöÑÊåáÈíàÔºåÈÇ£‰πàClassÂèàÊòØ‰ªÄ‰πàÂë¢Ôºü12345678910111213141516struct objc_class &#123; Class isa OBJC_ISA_AVAILABILITY; #if !__OBJC2__ Class super_class OBJC2_UNAVAILABLE; const char *name OBJC2_UNAVAILABLE; long version OBJC2_UNAVAILABLE; long info OBJC2_UNAVAILABLE; long instance_size OBJC2_UNAVAILABLE; struct objc_ivar_list *ivars OBJC2_UNAVAILABLE; struct objc_method_list **methodLists OBJC2_UNAVAILABLE; struct objc_cache *cache OBJC2_UNAVAILABLE; struct objc_protocol_list *protocols OBJC2_UNAVAILABLE; #endif&#125; OBJC2_UNAVAILABLE; Áé∞Âú®Êàë‰ª¨Â§ßËá¥‰∫ÜËß£‰∫ÜOC‰∏≠ÂØπË±°ÁöÑÂÆûÁé∞ÂéüÁêÜ„ÄÇOC‰∏≠ÊâÄÊúâÂØπË±°ÈÉΩÂèØ‰ª•ËÆ§‰∏∫ÊòØidÁ±ªÂûãÔºåËÄåidÂèàÊòØÊåáÂêëClassÁöÑÊåáÈíàÔºåClassÁ±ªÂûãÂÆûÈôÖÊòØobjc_classÁªìÊûÑ‰ΩìÔºåÂÖ∂ÂÆö‰πâ‰∫ÜOCÂØπË±°ÁöÑÂü∫Êú¨‰ø°ÊÅØ„ÄÇ Êõ¥Â§öRuntimeÁöÑÂÜÖÂÆπÂú®Ê≠§‰∏çÂÜçËµòËø∞ÔºåÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÂ±ûÊÄßÊ∂âÂèäÂà∞ÁöÑÁ±ªÂûãÔºöobjc_ivar_listÂíåobjc_method_listÔºö1234567891011struct objc_ivar &#123; char *ivar_name; char *ivar_type; int ivar_offset; int space;&#125;;struct objc_ivar_list &#123; int ivar_count; int space; struct objc_ivar ivar_list[1];&#125; Âú®Ê≠§Êàë‰ª¨ÁúãÂà∞‰∫ÜivarÁöÑÁúüÈù¢ÁõÆÔºåÂÆÉÂåÖÂê´‰∫ÜÂêçÁß∞„ÄÅÁ±ªÂûã„ÄÅÂü∫Âú∞ÂùÄÂÅèÁßª„ÄÅÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÂêåÊ†∑Ôºåobjc_method_listÂÆö‰πâÂ¶Ç‰∏ãÔºö1234567891011121314struct objc_method_list &#123; struct objc_method_list *obsolete; int method_count; #ifdef __LP64__ int space; #endif /* variable length structure */ struct objc_method method_list[1];&#125;;struct objc_method &#123; SEL method_name; char *method_types; /* a string representing argument/return types */ IMP method_imp;&#125;; ÊâÄ‰ª•ÔºåÂΩìÂú®Á±ª‰∏≠ÂàõÂª∫‰∏Ä‰∏™Â±ûÊÄßÊó∂„ÄÇRuntimeÂÅö‰∫Ü‰ª•‰∏ã‰∫ãÊÉÖÔºö ÂàõÂª∫ËØ•Â±ûÊÄßÔºåËÆæÁΩÆÂÖ∂objc_ivarÔºåÈÄöËøáÂÅèÁßªÈáèÂíåÂÜÖÂ≠òÂç†Áî®Â∞±ÂèØ‰ª•Êñπ‰æøËé∑Âèñ„ÄÇ ÁîüÊàêÂÖ∂getterÂíåsetter„ÄÇËØ¶ÊÉÖËØ∑Êü•ÈòÖobjc‰∏≠ÊñπÊ≥ïÁöÑÂÆûÁé∞(SEL,IMP)„ÄÇ Â∞ÜÂ±ûÊÄßÁöÑivarÊ∑ªÂä†Âà∞Á±ªÁöÑivar_list‰∏≠Ôºå‰Ωú‰∏∫Á±ªÁöÑÊàêÂëòÂèòÈáèÂ≠òÂú®„ÄÇ Â∞ÜgetterÂíåsetterÂä†ÂÖ•Á±ªÁöÑmethod_list‰∏≠„ÄÇ‰πãÂêéÂèØ‰ª•ÈÄöËøáÁõ¥Êé•Ë∞ÉÁî®ÊàñËÄÖÁÇπËØ≠Ê≥ïÊù•‰ΩøÁî®„ÄÇ Â∞ÜÂ±ûÊÄßÁöÑÊèèËø∞Ê∑ªÂä†Âà∞Á±ªÁöÑÂ±ûÊÄßÊèèËø∞ÂàóË°®‰∏≠„ÄÇ Â±ûÊÄßÁöÑËé∑Âèñ‰∏∫‰∫ÜËÆ∞ÂΩïÂ±ûÊÄßÔºåÊúâ‰ª•‰∏ãÂá†‰∏™ÂèòÈáèÔºöivar_list: ËÆ∞ÂΩïÊàêÂëòÂèòÈáèÁöÑÊèèËø∞method_list: ËÆ∞ÂΩïËØ•ÂèòÈáègetterÂíåsetterÁöÑÊèèËø∞prop_list: ËÆ∞ÂΩïÂ±ûÊÄßÁöÑÊèèËø∞OBJC_IVAR_$Á±ªÂêç_$Â±ûÊÄßÂêçÁß∞: ËÆ∞ÂΩïÂ±ûÊÄßÁõ∏ÂØπÂØπË±°Âú∞ÂùÄÁöÑÂÅèÁßªÂú∞ÂùÄ(ÈáçË¶Å) ÂÖ∂‰∏≠ÔºåËÆ∞ÂΩïÂèòÈáèÁöÑÂÅèÁßªÂú∞ÂùÄÂæàÈáçË¶Å„ÄÇÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÂÆûÁé∞Ôºö12345678910// ÁîüÊàê‰∏Ä‰∏™SubClassÁ±ªÂûãÔºåÂåÖÂê´‰∏Ä‰∏™Â±ûÊÄß@interface SubClass ()@property (nonatomic, strong) NSMutableArray* array;@end// Âú®ËØ•Á±ªÁöÑÂÆûÁé∞‰∏≠ÂàõÂª∫‰∏Ä‰∏™ÊñπÊ≥ï@implementation SubClass- (void)testArrayMethod &#123; self.array = [NSMutableArray array];&#125;@end ÂèçÁºñËØë‰ª£Á†ÅÔºåÊàë‰ª¨Êü•Áúã‰∏Ä‰∏ãÂÆÉÊòØÂ¶Ç‰ΩïËµãÂÄºÁöÑÔºö1234567891011121314// Â±ûÊÄßÁöÑÂÆö‰πâextern "C" unsigned long OBJC_IVAR_$_SubClass$_array;struct SubClass_IMPL &#123; struct NSObject_IMPL NSObject_IVARS; NSMutableArray *_array;&#125;;// ËµãÂÄº(Â∑≤ÁªèÂéªÊéâ‰∫ÜÂ§çÊùÇÁöÑÁ±ªÂûãËΩ¨Êç¢‰ª£Á†Å)static void _I_SubClass_testArrayMethod(SubClass * self, SEL _cmd) &#123; (objc_msgSend)(self, sel_registerName("setArray:"), (objc_getClass("NSMutableArray"), sel_registerName("array")));&#125;// Â±ûÊÄßÁöÑsetterÊñπÊ≥ïstatic void _I_SubClass_setArray_(SubClass * self, SEL _cmd, NSMutableArray *array) &#123; *(self + OBJC_IVAR_$_SubClass$_array) = array;&#125; Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÂ±ûÊÄßÁöÑÂÅèÁßªÂú∞ÂùÄÂëΩÂêç‰∏∫OBJC_IVAR_$Á±ªÂêç_$Â±ûÊÄßÂêçÁß∞ÔºåÁÇπËØ≠Ê≥ïÊú¨Ë¥®‰∏äÊòØË∞ÉÁî®‰∫ÜsetterÔºåËÄåsetter‰∏≠Á°ÆÂÆöÂ±ûÊÄßÂØπÂ∫îivarÁöÑÂÜÖÂ≠òÂú∞ÂùÄÂàôÊòØÈÄöËøá ÂØπË±°Âú∞ÂùÄ+ÂÅèÁßªÈáè Êù•ÂØªÂùÄÔºåÂç≥*(self + OBJC_IVAR_$_SubClass$_array)„ÄÇ @PropertyÁöÑÂ±ûÊÄß‰øÆÈ•∞Á¨¶Ë∞àÂÆå@propertyÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÔºåÂÜçÁúã‰∏Ä‰∏ãÂ±ûÊÄß‰øÆÈ•∞Á¨¶„ÄÇÊ≠§Â§Ñ‰ªÖËÆ®ËÆ∫@propertyÁöÑÂ±ûÊÄß‰øÆÈ•∞Á¨¶ÔºåÂØπ‰∫éARCÁöÑÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶(__strong,__weak,__unsafe_unretained,__autorealesing)‰ºö‰∏ìÈó®ÂÜô‰∏ÄÁØáÊñáÁ´†ËÆ®ËÆ∫„ÄÇ Â±ûÊÄßÁ¨¶‰ΩúÁî®ÂèäÂå∫Âà´ Â±ûÊÄß ÂÜÖÂÆπ readwrite Â±ûÊÄßÂèØËØªÂèØÂÜôÔºåÁîüÊàêgetter+setterÔºåÈªòËÆ§Â±ûÊÄß readonly Â±ûÊÄßÂè™ËØªÔºåÂè™ÁîüÊàêgetter nonatomic ÈùûÂéüÂ≠êÂ±ûÊÄßÔºåÊèêÈ´òÊÄßËÉΩ‰ΩÜÁ∫øÁ®ã‰∏çÂÆâÂÖ® atomic ÂéüÂ≠êÂ±ûÊÄßÔºåÁ∫øÁ®ãÂÆâÂÖ®‰ΩÜÂèØËÉΩÈôç‰ΩéÊÄßËÉΩ MRCÊ®°Âºè‰∏ã assign Áõ¥Êé•ËµãÂÄºÔºå‰∏çÂ¢ûÂä†ÂºïÁî®ËÆ°Êï∞ retain ÊåÅÊúâÂØπË±°ÔºåÂºïÁî®ËÆ°Êï∞+1 copy ÁîüÊàêÂπ∂ÊåÅÊúâ‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÂπ∂Ê∑±Êã∑Ë¥ùÂØπË±°ÁöÑÂÄº ARCÊ®°Âºè‰∏ã strong Âº∫ÂºïÁî®ÔºåÊåÅÊúâÂØπË±°ÔºåÂºïÁî®ËÆ°Êï∞+1ÔºåÁõ∏ÂΩì‰∫éMRCÁöÑretain weak Âº±ÂºïÁî®Ôºå‰∏çÊåÅÊúâÂØπË±°Ôºå‰∏çÂ¢ûÂä†ÂºïÁî®ËÆ°Êï∞ÔºåÁõ∏ÂΩì‰∫éMRCÁöÑassignÔºå‰ΩÜÂú®ÂØπË±°ÈîÄÊØÅÂêé‰ºöÁΩÆ‰∏∫nil copy Ê∑±Êã∑Ë¥ùÔºåÂêåMRCÁöÑcopy unsafe_unretained Êó†È°ªÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÂØπË±°ÔºåÁõ∏ÂΩì‰∫éMRCÁöÑassignÔºåÂØπË±°ÈîÄÊØÅÂêé‰∏ç‰ºöÁΩÆnilÔºåÂèØËÉΩÈÄ†ÊàêÈáéÊåáÈíà„ÄÇ(iOS 4‰πãÂêéÂü∫Êú¨Â∫üÂºÉÔºå‰ΩøÁî®assignÊõø‰ª£) ÂêåÊó∂ÔºåÊ†πÊçÆLLVMÊñáÊ°£ÊâÄËø∞ÔºåARCÊ®°Âºè‰∏ã‰æùÊóßÂèØ‰ª•‰ΩøÁî®MRC‰øÆÈ•∞Á¨¶ÔºåÁºñËØëÂô®‰ºöËá™Âä®ËΩ¨Êç¢„ÄÇassignÂØπÂ∫îunsafe_unretainedÔºåretainÂØπÂ∫îstrong„ÄÇ ÂéüÂ≠êÂ±ûÊÄßatomicÂéüÂ≠êÂ±ûÊÄß(atomic)ÈÄöËøáÂä†ÈîÅÊù•ÂÆûÁé∞ËÆøÈóÆ/ËµãÂÄºÁöÑÁ∫øÁ®ãÂÆâÂÖ®Ôºå‰ΩÜatomicÂè™ÊòØ‰øùËØÅ‰∫ÜgetterÂíåsetterÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂπ∂Ê≤°Êúâ‰øùËØÅÊï¥‰∏™ÂØπË±°ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÊØîÂ¶ÇÁ∫øÁ®ãAÂú®ËØªÊï∞ÊçÆÔºåËÄåÁ∫øÁ®ãBCDÂú®ÂÜôÊï∞ÊçÆÔºåËôΩÁÑ∂BCDÂπ∂‰∏çËÉΩÂêåÊó∂ÂÜôÔºå‰ΩÜAËØªÂà∞ÁöÑÊï∞ÊçÆÂç¥ÊòØBCDÊüê‰∏™Êó∂Èó¥ÂÜôÂÖ•ÁöÑÔºåÊó†Ê≥ï‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®„ÄÇÂêåÊ†∑ÁöÑÔºåÂØπ‰∫éobjectAtIndex:Á≠âÈùûgetter/setterÊñπÊ≥ïÔºåÂàô‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ weakÁöÑ‰ΩøÁî®Âú∫ÊôØÂèä‰∏éassignÁöÑÂå∫Âà´È¶ñÂÖàÔºåweak‰∏éassignÈÉΩË°®Á§∫‰∫Ü‰∏ÄÁßç‚ÄúÈùûÊåÅÊúâÂÖ≥Á≥ª‚Äù(nonowning relationship)Ôºå‰πüÊàêÂº±ÂºïÁî®ÔºåÂú®‰ΩøÁî®Êó∂‰∏ç‰ºöÂ¢ûÂä†Ë¢´ÂºïÁî®ÂèòÈáèÁöÑÂºïÁî®ËÆ°Êï∞„ÄÇËÄåweakÂú®ÂºïÁî®ÁöÑÂØπË±°Ë¢´ÈîÄÊØÅÂêé‰ºöË¢´ÊåáÂêënilÔºå‰øùËØÅ‰∫ÜÂÆâÂÖ®ÔºåÁõ∏Âèçassign‰∏ç‰ºöË¢´ÁΩÆnilÔºåÊàê‰∏∫ÈáéÊåáÈíà„ÄÇÂÖ∂Ê¨°ÔºåÂØπ‰∫éÊ†áÈáè(Âü∫Á°ÄÊï∞ÊçÆÁ±ªÂûã:int,doubleÔºå‰ª•ÂèäOC‰∏≠‰ΩøÁî®ÂÆèÂÆö‰πâÁöÑÊï∞ÊçÆÁ±ªÂûã:CGFloat,NSInteger)ÔºåÂè™ËÉΩ‰ΩøÁî®assign„ÄÇweakÂè™ËÉΩÁî®‰∫éÂØπË±°ÔºåassignÂèØÁî®‰∫éÂØπË±°ÂíåÊ†áÈáè„ÄÇ copyÁöÑ‰ΩøÁî®Âú∫ÊôØÂèäÊ≥®ÊÑè‰∫ãÈ°π‰ΩøÁî®copy‰øÆÈ•∞ÁöÑÂØπË±°Âú®ËµãÂÄºÁöÑÊó∂ÂÄôÂàõÂª∫ÂØπË±°ÁöÑÂâØÊú¨Ôºå‰πüÊàêÊ∑±Êã∑Ë¥ù„ÄÇÂÆûÈôÖÂàôÊòØË∞ÉÁî®‰∫ÜcopyÊñπÊ≥ï„ÄÇÊîØÊåÅcopyÊñπÊ≥ïË¶ÅÈÅµÂÆàNSCopyingÂçèËÆÆÔºåÂÆûÁé∞copyWithZone:ÊñπÊ≥ïÊù•ÁîüÊàêÂπ∂ÊåÅÊúâÂØπË±°ÁöÑÂâØÊú¨„ÄÇÂêåÊó∂ÔºåËøòÊúâmutableCopyÁî®‰∫éÂÆûÁé∞ÂØπ‰∫éÂèØÂèòÂØπË±°ÁöÑÊ∑±Êã∑Ë¥ùÔºåÂ¶ÇNSMutableArray„ÄÇÂΩìÊàë‰ª¨ÊÉ≥Â§çÂà∂Â≠óÁ¨¶‰∏≤ÁöÑÂÄºËÄåÈùûÁõ¥Êé•ÂºïÁî®ËØ•Â≠óÁ¨¶‰∏≤Êó∂ÔºåÊàë‰ª¨Â∞±Â∫îËØ•Ê∑±Êã∑Ë¥ù‰∏Ä‰ªΩÔºåÂê¶Âàô‰ºöÂá∫Áé∞‰øÆÊîπÂéüÂØπË±°ÂÄºÁöÑÊÉÖÂÜµ„ÄÇNSArray„ÄÅNSDictionaryÔºå‰ª•ÂèäÊàë‰ª¨Ëá™Â∑±ÁöÑÁ±ªÂêåÁêÜ„ÄÇ‰ΩÜÊòØÔºåÂØπ‰∫é@propertyÁöÑcopy‰øÆÈ•∞Á¨¶ÔºåÂè™ÊòØË∞ÉÁî®‰∫ÜcopyÊñπÊ≥ïÔºåÊâÄ‰ª•Âè™ËÉΩÁîüÊàê‰∏çÂèØÂèòÂØπË±°„ÄÇÂØπ‰∫éÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345@property (nonatomic, copy) NSMutableArray *mutableArray;/* ... */NSMutableArray *anotherMutableArray = [NSMutableArray arrayWithObjects:@1,@2,nil];self.mutableArray = anotherMutableArray;[self.mutableArray removeObjectAtIndex:0]; ‰ºöÂèëÁîüÂ¥©Ê∫É„ÄÇÂéüÂõ†Âú®‰∫écopyÁîüÊàê‰∫Ü‰∏çÂèØÂèòÂØπË±°ÔºåÂØºËá¥removeObjectAtIndex:ÊñπÊ≥ïÊä•Èîô„ÄÇÊâÄ‰ª•ÔºåÂØπ‰∫éÂèØÂèòÂØπË±°Ôºå‰∏çË¶Å‰ΩøÁî®copyÂ±ûÊÄß‰øÆÈ•∞Á¨¶ÔºåËÄåÊòØË∞ÉÁî®mutableCopyÊñπÊ≥ï„ÄÇ Áõ∏ÂÖ≥ËµÑÊñô Objective-C Runtime Programming Guide - Declared Properties]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
        <tag>Objective-C</tag>
        <tag>Â∫ïÂ±Ç</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS/OS XÁöÑTagged Pointer]]></title>
    <url>%2F2017%2F12%2F15%2FiOS%3AOS%20X%E7%9A%84Tagged%20Pointer%2F</url>
    <content type="text"><![CDATA[Tagged PointerÊòØÂ≠òÂú®‰∫éÂ≠óÁ¨¶‰∏≤„ÄÅNSNumber„ÄÅNSDateÁ≠âÈáçÂ§çÊÄßÈ´ò‰∏îËæÉÂ∞èÁöÑÂØπË±°‰∏≠ÁöÑ‰∏ÄÁßç‰ºòÂåñÊñπÂºèÔºåÁî®‰∫éËß£ÂÜ≥ÈáçÂ§çÊÄßËæÉÈ´òÁöÑÁ±ªÂûãÂú®64‰ΩçÊìç‰ΩúÁ≥ªÁªüÂÜÖÂ≠òÁöÑÂÜÖÈÉ®Á¢éÁâáÈóÆÈ¢ò„ÄÇ ËÉåÊôØÂú®ÂàõÂª∫ËÆ®ËÆ∫Tagged Pointer‰πãÂâçÔºåÊàë‰ª¨ÂÖàËÆ§ËØÜ‰∏Ä‰∏ãÂÆÉÊâßË°å‰ª•‰∏ã‰ª£Á†Å: 1234567891011121314__weak NSNumber *weakNumber;__weak NSString *weakString;__weak NSDate *weakDate;int num = 123;@autoreleasepool &#123; weakNumber = [NSNumber numberWithInt:num]; weakString = [NSString stringWithFormat:@&quot;string%d&quot;, num]; weakDate = [NSDate dateWithTimeIntervalSince1970:0];&#125;NSLog(@&quot;WeakNumber is %@&quot;, weakNumber);NSLog(@&quot;WeakString is %@&quot;, weakString);NSLog(@&quot;WeakDate is %@&quot;, weakDate); ËøêË°åÁªìÊûú‰∏∫: 123WeakNumber is 123WeakString is string123WeakDate is Thu Jan 1 08:00:00 1970 ËøôÊ†∑ÁöÑÁªìÊûú‰∏éÊÉ≥Ë±°‰∏≠ÂèØËÉΩ‰∏çÂêåÔºåÊàë‰ª¨ËÆæÁΩÆweakNumber/weakString/weakDateÂèòÈáè‰∏∫Âº±ÂºïÁî®ÔºåËÄåÂú®NSNumber/NSString/NSDateÂàõÂª∫ÁöÑ‰ª£Á†ÅÈÉ®ÂàÜËÆæÁΩÆ‰∫ÜËá™Âä®ÈáäÊîæÔºåÈÇ£‰πàÂΩìËøêË°åÂà∞ËæìÂá∫ÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÊó∂ÔºåÊï∞Â≠óÂíåÂ≠óÁ¨¶‰∏≤ÂèòÈáèÁêÜÂ∫îÂ∑≤ÁªèÈáäÊîæÊéâ‰∫ÜÔºåÈÇ£‰πàÁªìÊûúËá™ÁÑ∂Â∫îËØ•ËæìÂá∫nilÔºåÁÑ∂ËÄå‰∫ãÂÆûÊòØ‰ªñ‰ª¨Âπ∂Ê≤°Êúâ„ÄÇ‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑Ôºü‰∏ãÈù¢Êàë‰ª¨Êù•‰ªãÁªçËãπÊûúÂú®Êé®Âá∫64‰ΩçÁ≥ªÁªüÂêé‰∏∫‰∫ÜËäÇÁúÅÂÜÖÂ≠òÂíåÊèêÈ´òÊïàÁéáËÄåÂºïÂÖ•ÁöÑTagged Pointer„ÄÇ ÁÆÄ‰ªãÂú®iPhone 5sÊé®Âá∫ÂêéÔºåÂ§ÑÁêÜÂô®Ê≠•ÂÖ•‰∫Ü64‰ΩçÊû∂ÊûÑÊó∂‰ª£ÔºåËÄåÊàë‰ª¨Áü•ÈÅìÔºå64‰ΩçÁ≥ªÁªü‰∏≠ÂèòÈáèÊâÄÂç†Â≠óËäÇ‰πü‰ºöÈöè‰πãÂèòÂ§ßÔºåÂ¶Ç32‰ΩçÁ≥ªÁªü‰∏≠ÁöÑint‰∏∫4Â≠óËäÇÔºåËÄå64‰ΩçÁ≥ªÁªü‰∏ãÊòØ8Â≠óËäÇ„ÄÇËôΩÁÑ∂ÂÄºÂüü‰πüÈöè‰πãÂèòÂ§ßÔºå‰ΩÜÊòØÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåÂ¢ûÂä†ÁöÑÂÄºÂüüÂØπ‰∫éÊï∞Â≠ó„ÄÅÊó•Êúü„ÄÅÁü≠Â≠óÁ¨¶‰∏≤Êù•ËØ¥Âπ∂‰∏çÈúÄË¶Å„ÄÇÈÄ†ÊàêÁöÑÂÜÖÈÉ®Á¢éÁâáÈóÆÈ¢òÂ¶Ç‰∏ãÂõæÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã64‰ΩçÁ≥ªÁªüÂ¢ûÂä†‰∫Ü32‰ΩçÁöÑÂÜÖÂ≠òÊµ™Ë¥π: ÈÇ£‰πàËÉΩÂê¶‰ºòÂåñËøô‰∏ÄÂÜÖÂ≠òÊµ™Ë¥πÈóÆÈ¢òÂë¢ÔºüÂèØ‰ª•Ê≥®ÊÑèÂà∞ÔºåËôΩÁÑ∂Êàë‰ª¨ÊØè‰∏™Êï∞Â≠óÂØπË±°ÈÉΩÂç†Áî®8Â≠óËäÇÔºå‰ΩÜÂ§ßÂÆ∂ÂÆûÈôÖËÉΩÁî®Âà∞ÁöÑÊï∞Â≠óÂèØËÉΩ‰ªÖ‰ªÖÂá†‰ΩçÔºåÂ§ßÊï∞ËÆ°ÁÆóÁöÑÊÉÖÂÜµÂæàÂ∞ë„ÄÇÈÇ£‰πàÔºå‰ª•ËæÉ‰ΩéÁöÑÂÜÖÂ≠òÊ∂àËÄóÈ¢ÑÂÖà‰øùÂ≠ò‰∏Ä‰∫õÂ∏∏ËßÅÊï∞Â≠óÔºåËÄåÂØπ‰∫é‰∏çÂ∏∏ËßÅÁöÑÂÜçÂä®ÊÄÅÂàõÂª∫8Â≠óËäÇÁöÑÂèòÈáèÁöÑÊñπÊ°àÔºåÂ∞±‰ºöÊõ¥Âä†ËäÇÁúÅÂÜÖÂ≠òÔºå‰ª•ÂèäÂàõÂª∫ÂØπË±°ÁöÑÊÄßËÉΩÊ∂àËÄó„ÄÇ Tagged PointerÁü•ÈÅì‰∫ÜÂ≠òÂú®ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨Áé∞Âú®Âàô‰ªãÁªç‰∏Ä‰∏ãTagged Pointer„ÄÇÂÆÉÂ∞±ÊòØÂ∞ÜÂ§ßÈÉ®ÂàÜÂ∏∏Áî®ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÅÊï∞Â≠óÂØπË±°„ÄÅÊó•ÊúüÈ¢ÑÂÖà‰øùÂ≠òÔºåËÄåÂÖ∂‰∏çÂÜçÊåâÁÖß64‰ΩçÁ≥ªÁªüÁöÑ8Â≠óËäÇÂ§ßÂ∞èÔºåÂΩìÊàë‰ª¨ÂàõÂª∫ÁöÑÂØπË±°ÂÜÖÂÆπÂëΩ‰∏≠‰∫ÜTagged PointerÈ¢ÑÂÖàÂ≠òÂÇ®ÁöÑÂÜÖÂÆπÊó∂ÔºåÊàë‰ª¨ÁöÑÂØπË±°ÊåáÈíà‰ºöÂèòÊàêTagged PointerÔºåÊåáÂêëÊåáÂÆöÁöÑÂÜÖÂ≠ò„ÄÇÊàë‰ª¨ÂèØ‰ª•ÁúãÂ¶Ç‰∏ãÁöÑ‰æãÂ≠ê: 123456int num = 123;NSString *str1 = [NSString stringWithUTF8String:&quot;String123&quot;];NSString *str2 = [NSString stringWithFormat:@&quot;String%d&quot;, num];NSLog(@&quot;%p&quot;, str1);NSLog(@&quot;%p&quot;, str2); ÊâìÂç∞ÁöÑÂú∞ÂùÄÁõ∏ÂêåÔºåËØÅÊòé‰∏§ËÄÖÊåáÂêë‰∫ÜÂêå‰∏ÄÂú∞ÂùÄ„ÄÇ ÈÇ£‰πàÂ¶Ç‰ΩïÂÆûÁé∞Â∞ÜËøô‰∫õÂØπË±°‰∏çÊåâÁÖß8Â≠óËäÇÂ≠òÂÇ®ÁöÑÂë¢ÔºüTagged PointerÂ∞Ü‰∏Ä‰∏™ÂØπË±°Êåâ32‰Ωç‰øùÂ≠ò(4Â≠óËäÇ)ÔºåËÄåÂêéÂØπÂÖ∂ÁªëÂÆö‰∏Ä‰∏™ÂêåÊ†∑ÊòØ4Â≠óËäÇÁöÑTagÔºå‰ªéËÄåÂèØ‰ª•Êñπ‰æøÂÆö‰ΩçÂÆÉ„ÄÇËøôÊ†∑‰∏Ä‰∏™Tag+ÂØπË±°ÊÄªÂÖ±‰∏∫8Â≠óËäÇÔºå‰∏é32‰ΩçÁ≥ªÁªü‰∏≠ÂØπË±°ÊåáÈíà+ÂØπË±°ÂÜÖÂÆπÂ§ßÂ∞èÁõ∏ÂΩì„ÄÇËá≥‰∫é‰∏∫‰ªÄ‰πàÂØπË±°Ë¶ÅÊåâ4Â≠óËäÇ‰øùÂ≠òËÄå‰∏çÊòØÁî±Êï∞ÊçÆÂ§ßÂ∞èËÄåÂÆöÔºåÂàôÊòØ‰∏∫‰∫ÜÈÅøÂÖç‰∫ßÁîüÂ§ñÈÉ®Á¢éÁâá„ÄÇÂÜÖÂ≠òÂõæÂ¶Ç‰∏ãÊâÄÁ§∫: isaÂíåÂºïÁî®ËÆ°Êï∞Áé∞Âú®ÂÜçË∞à‰∏Ä‰∫õ‰∏éTagged PointerÊúâÂÖ≥ÁöÑÈóÆÈ¢ò„ÄÇÁúã‰∫ÜÂÖ∂ÂÜÖÂ≠òÂõæÂêéÔºåÊàë‰ª¨Áü•ÈÅìÂÆÉ‰∏çÊòØÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑOCÂØπË±°ÔºåÈÇ£‰πàÂÖ∂isaÊåáÈíà‰πüÂ∞±Êó†Ê≥ïÊ≠£Â∏∏‰ΩøÁî®‰∫Ü„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáobject_getClass()ÊñπÊ≥ïÊù•Ëé∑ÂèñÁúüÂÆûÂØπË±°ÔºåËØ•ÂØπË±°ÊâìÂç∞ÁªìÊûú‰∏∫NSTaggedPointerString„ÄÅ__NSTaggedDate„ÄÅ__NSCFNumber„ÄÇ ÂêåÊó∂ÔºåTagged PointerÁöÑÂºïÁî®ËÆ°Êï∞ÊòØÊó†Á©∑Â§ßÁöÑÔºåÂèØ‰ª•Â∞ùËØïÂ¶Ç‰∏ã‰ª£Á†ÅÊâìÂç∞: 12// ARCÊ®°Âºè‰∏ãÂèØ‰ª•‰ΩøÁî®CFGetRetainCountÂáΩÊï∞Ëé∑ÂèñÂºïÁî®ËÆ°Êï∞NSLog(@&quot;Retain count: %ld&quot;, CFGetRetainCount((__bridge CFTypeRef)(str1))); ÁªìÊûúÊòØÊó†Á©∑Â§ß„ÄÇÊâÄ‰ª•ÂØπ‰∫éÁ±ª‰ººÂ¶Ç‰∏ãÁöÑÈ¢òÁõÆ: 1234567NSString *str1 = [NSString stringWithUTF8String:&quot;String123&quot;];[str1 retain];NSString *str2 = str1;[str2 release];[str1 retain];/* ......... */NSLog(@&quot;Retain count: %lu&quot;, [str1 retainCount]); Êó†ËÆ∫È¢òÁõÆ‰∏≠Â¶Ç‰ΩïÂºïÁî®ÂíåÈáäÊîæÔºåÊúÄÁªàÔºåÂÖ∂ÂºïÁî®ËÆ°Êï∞ÈÉΩ‰ºöÂõ†‰∏∫ÂÆÉÊòØTagged PointerËÄåÊòØÊó†Á©∑Â§ß„ÄÇ Â∏∏Èáè‰∏éTagged PointerÂå∫Âà´ÂΩìÊàë‰ª¨Â¶Ç‰∏ãÊñπÂºèÂÆö‰πâÂ∏∏Èáèstr3Êó∂Ôºö 1234int num = 123;NSString *str1 = [NSString stringWithUTF8String:&quot;String123&quot;];NSString *str1 = [NSString stringWithUTF8String:&quot;String%d&quot;, num];NSString *str2 = @&quot;String123&quot;; Êàë‰ª¨‰ºöÂèëÁé∞str3ÂíåÂÖ∂‰Ωô‰∏§‰∏™ÁöÑÂú∞ÂùÄÂπ∂‰∏ç‰∏ÄÊ†∑ÔºåËøôÊòØ‰∏∫‰ªÄ‰πàÂë¢Ôºü Êàë‰ª¨Ë¶ÅÁü•ÈÅìÔºåÂ∏∏Èáè‰∏çÊòØTagged PointerÔºåÂõ†‰∏∫ÂÆÉÊòØÂú®ËøêË°åÊó∂‰πãÂâçÂ∞±ÂØºÂÖ•ÁöÑÔºåÂ≠òÂú®‰∫éÊï∞ÊçÆÊÆµÂÜÖ„ÄÇËÄåÂÖ∂‰Ωô‰∏§‰∏™ÂØπË±°ÊòØÂú®ËøêË°åÊó∂ÁîüÊàêÁöÑÔºåÊâÄ‰ª•ÊâçÂèØ‰ª•ÈÄöËøáTagged PointerËøô‰∏ÄÊú∫Âà∂ËøõË°å‰ºòÂåñ„ÄÇ Áõ∏ÂÖ≥ËµÑÊñô mikeash.com - Friday Q&amp;A 2015-07-31: Tagged Pointer Strings mikeash.com - Friday Q&amp;A 2012-07-27: Let‚Äôs Build Tagged Pointers]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
        <tag>Â∫ïÂ±Ç</tag>
        <tag>ÊÄßËÉΩ‰ºòÂåñ</tag>
        <tag>Objecitve-C</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TCP‰∫îÂ±ÇÊ®°ÂûãÊ∂àÊÅØËß£/Â∞ÅË£Ö‰ªøÁúü]]></title>
    <url>%2F2017%2F12%2F09%2FTCP%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B%E6%B6%88%E6%81%AF%E8%A7%A3-%E5%B0%81%E8%A3%85%E4%BB%BF%E7%9C%9F%2F</url>
    <content type="text"><![CDATA[Ê∂àÊÅØÂ∞Å/Ëß£Ë£Ö‰ªøÁúüÂäüËÉΩË¶ÅÊ±ÇÊåâÁÖßTCP‰∫îÂ±ÇÊ®°Âûã‰ªøÁúüÊ∂àÊÅØÂú®‰∏§Âè∞‰∏ªÊú∫‰πãÈó¥ÁöÑÈÄö‰ø°ËøáÁ®ã„ÄÇ Âú®ÂèëÈÄÅÁ´ØÊ®°ÊãüÊï∞ÊçÆ‰ªéÈ´òÂ±ÇÂà∞‰ΩéÂ±ÇÁöÑÂ∞ÅË£ÖËøáÁ®ãÔºåÂú®Êé•Êî∂Á´ØÊ®°ÊãüÊï∞ÊçÆ‰ªé‰ΩéÂ±ÇÂà∞È´òÂ±ÇÁöÑËß£Â∞ÅË£ÖËøáÁ®ã„ÄÇ ÊåâÁÖßÊØèÂ±ÇÁöÑÂäüËÉΩÂØπÊï∞ÊçÆÂ°´Âä†Êä•Â§¥ÔºåÂπ∂ÊòæÁ§∫ÊØè‰∏ÄÂ±ÇÂæóÂà∞ÁöÑÂ∞Å/Ëß£Ë£ÖÊ†ºÂºè„ÄÇ ‰º†ËæìÂ±ÇÂíåÁΩëÁªúÂ±ÇÁöÑÂ∞ÅË£ÖÊ†ºÂºèÂèÇËÄÉTCP/IPÁöÑÁõ∏Â∫îÂêÑÂ±ÇÂçèËÆÆÊ†ºÂºè„ÄÇ ÁΩëÁªúÂ±ÇÁöÑIPÊä•ÊñáÈúÄË¶ÅÊ®°ÊãüÊä•ÊñáÂàÜÊÆµÂíåÈáçÁªÑÁöÑËøáÁ®ã„ÄÇ Êï∞ÊçÆÈìæË∑ØÂ±ÇÂ∏ßÊ†ºÂºèÂèÇËÄÉÂ±ÄÂüüÁΩëÁöÑMACÂ∏ßÊ†ºÂºè„ÄÇ Áâ©ÁêÜÂ±ÇÊòæÁ§∫‰∏∫0Êàñ1ÊØîÁâπ‰∏≤„ÄÇ SocketÁºñÁ®ãÁÆÄ‰ªãSocketÊòØÁΩëÁªúÊñá‰ª∂ÊèèËø∞Á¨¶„ÄÇÂú®Âü∫‰∫éSocketÁöÑÁºñÁ®ãÊäÄÊúØ‰∏≠ÔºåÁî®Êà∑‰∏çÁõ¥Êé•ËÆøÈóÆÂèëÈÄÅÂíåÊé•Êî∂ÂåÖÁöÑÁΩëÁªúÊé•Âè£ËÆæÂ§áÔºåËÄåÊòØÂª∫Á´ã‰∏Ä‰∏™‰∏≠Èó¥Êñá‰ª∂ÊèèËø∞Á¨¶Êù•Â§ÑÁêÜÁºñÁ®ãÊé•Âè£Âà∞ÁΩëÁªúÁöÑÊìç‰Ωú„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåSocketÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ‚ÄúÂ•óÊé•Â≠ó‚Äù„ÄÇÊú¨ÊÆµÂè™‰ªãÁªç‰∫ÜÊú¨ÂÆûÈ™åÈúÄË¶ÅËÆæËÆ°ÁöÑÁü•ËØÜÔºåÊõ¥Â§öSocketÁî®Ê≥ïÂèØGoogle‰∏Ä‰∏ã„ÄÇ SocketÂåÖÂê´ÁöÑÂÜÖÂÆπ ‰∏Ä‰∏™ÁâπÊÆäÁöÑÈÄö‰ø°ÂüüÔºåÊØîÂ¶Ç‰∏Ä‰∏™ÁΩëÁªúËøûÊé• ‰∏Ä‰∏™ÁâπÊÆäÁöÑÈÄö‰ø°Á±ªÂûãÔºåÊØîÂ¶ÇÊµÅÊàñËÄÖÊï∞ÊçÆÊä• ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂçèËÆÆÔºåÊØîÂ¶ÇTCPÊàñËÄÖUDP ÂÖ∂‰∏≠ÔºåÂèØ‰ª•ÂÆûÁé∞Èù¢ÂêëËøûÊé•ÂíåÊó†ËøûÊé•ÁöÑSocket Èù¢ÂêëËøûÊé•ÁöÑSocket Èù¢ÂêëÊó†ËøûÊé•ÁöÑSocket Ê®°ÊãüTCP ËØ≠Ë®Ä Objective-C + C Âπ≥Âè∞ Mac OSX Â∑•ÂÖ∑ XCode (LLVM) ÊúÄÁªàÊïàÊûú ËøêË°åÈÄªËæëÊú¨ÂÆûÈ™åÊ®°Êãü‰∫ÜTCP‰∫îÂ±ÇÊ®°Âûã‰∏≠ÁöÑÊ∂àÊÅØËß£/Â∞ÅË£Ö‰ªøÁúüÔºåÂª∫Á´ãÂú®Áé∞ÊúâÁΩëÁªúÁöÑÂü∫Á°Ä‰∏äÔºå‰ΩøÁî®SocketËøõË°åÈÄö‰ø°Ôºå‰ΩøÁî®‰∫ÜÈù¢ÂêëËøûÊé•ÁöÑSocket„ÄÇÈô§‰∫Ü‰∏§Âè∞Êú∫Âô®Áõ∏‰∫íÈÄö‰ø°‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ÜÊúçÂä°Á´ØÁªëÂÆöÂà∞ÁΩëÂç°Á´ØÂè£Ôºå‰ΩøÁî®ÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÂú®Êú¨Êú∫Áõ∏‰∫íÈÄö‰ø°„ÄÇ Áî±ÊúçÂä°Á´ØÁªëÂÆöÁ´ØÂè£Âπ∂‰æ¶Âê¨ÂÆ¢Êà∑Á´ØÊ∂àÊÅØ„ÄÇËÄåÂêéÂÆ¢Êà∑Á´ØËøûÊé•ÊúçÂä°Á´ØÔºåÂπ∂Áõ∏‰∫íÂèëÈÄÅÊ∂àÊÅØ„ÄÇ ÊúçÂä°Á´Ø(Server)È¶ñÂÖàÔºåÊúçÂä°Âô®ÁªëÂÆöÁ´ØÂè£ÔºåÂπ∂‰æ¶Âê¨ÂÆ¢Êà∑Á´ØËøûÊé•ËØ∑Ê±ÇÔºåÂΩìÂÆ¢Êà∑Á´ØËøûÊé•ÂêéËøõË°åÊ∂àÊÅØ‰æ¶Âê¨ÂíåÂèëÈÄÅ„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465- (void)bindSocketWithPort:(NSInteger)port &#123; // ÂàõÂª∫SocketÂú∞ÂùÄ struct sockaddr_in server_addr; // socketÂú∞ÂùÄ server_addr.sin_len = sizeof(struct sockaddr_in); // ËÆæÁΩÆÂú∞ÂùÄÁªìÊûÑ‰ΩìÂ§ßÂ∞è server_addr.sin_family = AF_INET; // AF_INETÂú∞ÂùÄÁ∞á server_addr.sin_port = htons((short)port); // ËÆæÁΩÆÁ´ØÂè£ server_addr.sin_addr.s_addr = htonl(INADDR_ANY); // ÊúçÂä°Âô®Âú∞ÂùÄ // ÂàõÂª∫Socket int server_socket = socket(AF_INET, SOCK_STREAM, 0); // ÂàõÂª∫Socket if (server_socket == -1) &#123; [self showMessageWithMsg:@&quot;ÂàõÂª∫SocketÂ§±Ë¥•&quot;]; return; &#125; int reuse = 1; int sockOpt = setsockopt(server_socket, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, sizeof(reuse)); if (sockOpt == -1) &#123; [self showMessageWithMsg:@&quot;ÈáçËÆæSocketÂ§±Ë¥•&quot;]; return; &#125; // ÁªëÂÆöSocket // Â∞ÜÂàõÂª∫ÁöÑSocketÁªëÂÆöÂà∞Êú¨Âú∞IPÂíåÁ´ØÂè£,Áî®‰∫é‰æ¶Âê¨ÂÆ¢Êà∑Á´ØËØ∑Ê±Ç int bind_result = bind(server_socket, (struct sockaddr *)&amp;server_addr, sizeof(server_addr)); if (bind_result == -1) &#123; [self showMessageWithMsg:@&quot;ÁªëÂÆöSocketÂ§±Ë¥•&quot;]; return; &#125; // ‰æ¶Âê¨ÂÆ¢Êà∑Á´ØÊ∂àÊÅØ if (listen(server_socket, 5) == -1) &#123; [self showMessageWithMsg:@&quot;ÂºÄÂêØ‰æ¶Âê¨Â§±Ë¥•&quot;]; return; &#125; // Ëé∑ÂèñÂÆ¢Êà∑Á´ØÁ´ØÂè£‰ø°ÊÅØ struct sockaddr_in client_address; socklen_t address_len; int client_socket = accept(server_socket, (struct sockaddr *)&amp;client_address, &amp;address_len); if (client_socket == -1) &#123; [self showMessageWithMsg:@&quot;ÂÆ¢Êà∑Á´ØÊè°ÊâãÂ§±Ë¥•&quot;]; return; &#125; char recv_msg[RECV_BUFFER_SIZE]; char reply_msg[REPLY_BUFFER_SIZE]; while (YES) &#123; bzero(recv_msg, RECV_BUFFER_SIZE); bzero(reply_msg, REPLY_BUFFER_SIZE); long byteLen = recv(client_socket, recv_msg, RECV_BUFFER_SIZE, 0); recv_msg[byteLen] = &apos;\0&apos;; // Ê∑ªÂä†Ê∂àÊÅØÁªìÂ∞æ NSMutableString *msgStr = [NSMutableString stringWithFormat:@&quot;%s&quot;, recv_msg]; [self clearCurrentMsg]; strcpy(recv_msg, [[self reciveFromClient:msgStr] UTF8String]); if (strcmp(recv_msg, &quot;&quot;) != 0) &#123; strcpy(reply_msg, &quot;ÊúçÂä°Á´ØÊ∂àÊÅØ:Êî∂Âà∞&quot;); strcat(reply_msg, recv_msg); send(client_socket, reply_msg, REPLY_BUFFER_SIZE, 0); &#125; &#125;&#125; ÂÆ¢Êà∑Á´Ø(Client)È¶ñÂÖàÔºåÂÆ¢Êà∑Á´ØË¶ÅÂíåÊúçÂä°Á´ØÂª∫Á´ãËøûÊé•„ÄÇË∞ÉÁî®socketÁöÑÊñπÊ≥ïÈ°∫Â∫è‰∏∫Ôºösocket() -&gt; connect()12345678910111213141516171819202122232425262728293031323334353637- (void)bindSocketWithIP:(NSString *)ipStr andPort:(NSInteger)port &#123; // ÂàõÂª∫SocketÂú∞ÂùÄ struct sockaddr_in server_addr; // ÂàõÂª∫SocketÂú∞ÂùÄ server_addr.sin_len = sizeof(struct sockaddr_in); // ËÆæÁΩÆÁªìÊûÑ‰ΩìÈïøÂ∫¶ server_addr.sin_family = AF_INET; // AF_INETÂú∞ÂùÄÁ∞á server_addr.sin_port = htons((short)port); // ËÆæÁΩÆÁ´ØÂè£ server_addr.sin_addr.s_addr = htonl(INADDR_ANY); // ÊúçÂä°Âô®Âú∞ÂùÄ // ÂàõÂª∫Socket int server_socket = socket(AF_INET, SOCK_STREAM, 0); if (server_socket == -1) &#123; [self showMessageWithMsg:@&quot;ÂàõÂª∫SocketÂ§±Ë¥•&quot;]; return; &#125; else &#123; // ‰øùÂ≠òSocket self.server_socket = server_socket; // ‰øùÂ≠òport self.port_num = (short)port; [self showMessageWithMsg:@&quot;ÂàõÂª∫SocketÊàêÂäü&quot;]; [NSThread sleepForTimeInterval:0.3]; &#125; int connect_result = connect(server_socket, (struct sockaddr *)&amp;server_addr, sizeof(struct sockaddr_in)); if (connect_result == -1) &#123; [self showMessageWithMsg:@&quot;ËøûÊé•‰∏ªÊú∫Â§±Ë¥•&quot;]; return; &#125; else &#123; [self showMessageWithMsg:@&quot;ËøûÊé•‰∏ªÊú∫ÊàêÂäü,Á≠âÂæÖÂèëÈÄÅÊ∂àÊÅØ...&quot;]; [NSThread sleepForTimeInterval:0.3]; &#125; // ËøûÊé•ÊàêÂäüÂêéÁöÑÊìç‰Ωú [self didConnected];&#125; ËøûÊé•ÊàêÂäüÂêéÔºåÂèåÊñπ‰∫íÁõ∏ÂèëÈÄÅÂíåÊé•Êî∂Ê∂àÊÅØsend() -&gt; recv()123456789101112131415161718192021222324252627- (void)sendMsgAction &#123; NSMutableString *msg = [NSMutableString stringWithFormat:@&quot;%@&quot;,self.msgField.stringValue]; char recv_msg[RECV_BUFFER_SIZE]; char send_msg[REPLY_BUFFER_SIZE]; // ÂèëÈÄÅÊ∂àÊÅØÔºåÂπ∂Êé•Êî∂ÊúçÂä°Âô®Âõû‰ø° bzero(recv_msg, RECV_BUFFER_SIZE); bzero(send_msg, REPLY_BUFFER_SIZE); // ÂêëÊúçÂä°Á´ØÈÄöËøásocketÂèëÊ∂àÊÅØ NSMutableString *resStr = [self appLayerWithString:msg]; strcpy(send_msg, resStr.UTF8String); long send_result = send(self.server_socket, send_msg, REPLY_BUFFER_SIZE, 0); if (send_result == -1) &#123; [self showMessageWithMsg:@&quot;Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•&quot;]; return; &#125; else &#123; [self showMessageWithMsg:@&quot;Ê∂àÊÅØÂèëÈÄÅÊàêÂäü&quot;]; [NSThread sleepForTimeInterval:0.3]; &#125; // Êé•Êî∂ÊúçÂä°Á´ØÊ∂àÊÅØ long recv_result = recv(self.server_socket, recv_msg, RECV_BUFFER_SIZE, 0); [self reciveFromServer:[NSString stringWithUTF8String:recv_msg]]; &#125; Êä•Â§¥ÁºñÁ†ÅÂêÑÂ±ÇÂú®‰º†ÈÄíÁªô‰∏ã‰∏ÄÂ±Ç‰πãÂâçÔºåË¶ÅÂØπÊï∞ÊçÆËøõË°åÂ∞ÅË£ÖÔºåÂ¢ûÂä†ÂØπÂ∫îÁöÑÊä•Â§¥„ÄÇÂÖ∑‰Ωì‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130#pragma mark - ‰∫îÂ±Ç‰º†ËæìÂçèËÆÆ// Ê®°ÊãüÁΩëÁªúÂ±ÇÂØπÊï∞ÊçÆÁöÑÂåÖË£Ö- (NSMutableString *)appLayerWithString:(NSMutableString *)str &#123; NSMutableString *resStr = [NSMutableString stringWithFormat:@&quot;AppHeader#%@&quot;, str]; dispatch_async(dispatch_get_main_queue(), ^&#123; self.appLayer.stringValue = [resStr copy]; &#125;); [NSThread sleepForTimeInterval:0.3]; return [self transferLayerWithString:resStr];&#125;// Ê®°Êãü‰º†ËæìÂ±ÇÂØπÊï∞ÊçÆÁöÑÂåÖË£Ö- (NSMutableString *)transferLayerWithString:(NSMutableString *)str &#123; NSMutableString *resStr = [NSMutableString string]; // Ê∑ªÂä†Ê∫êÁ´ØÂè£ 16‰Ωç(0-15) [resStr appendFormat:@&quot;0000000011111111&quot;]; // Ê∑ªÂä†ÁõÆÁöÑÁ´ØÂè£ 16‰Ωç(16-31) [resStr appendFormat:@&quot;%@&quot;, [self intToBinary:self.port_num]]; // Ê∑ªÂä†Â∫èÂàóÁºñÂè∑ 32‰Ωç [resStr appendFormat:@&quot;00000000000000000000000000001011&quot;]; // Ê∑ªÂä†Á°ÆËÆ§Â∏ß 32‰Ωç [resStr appendFormat:@&quot;00000000000000000000000011111011&quot;]; // Ê∑ªÂä†Êä•Â§¥ÈïøÂ∫¶ [resStr appendFormat:@&quot;0101&quot;]; // Ê∑ªÂä†‰øùÁïôÈïøÂ∫¶ [resStr appendFormat:@&quot;000000&quot;]; // Ê∑ªÂä†FLag [resStr appendFormat:@&quot;000000&quot;]; // Ê∑ªÂä†Á™óÂè£Â§ßÂ∞è [resStr appendFormat:@&quot;0000000000000111&quot;]; // Ê∑ªÂä†Á°ÆËÆ§ÂÄº [resStr appendFormat:@&quot;0101010101010010&quot;]; // Ê∑ªÂä†UrgentPointer [resStr appendFormat:@&quot;0000000000001111&quot;]; // Ê∑ªÂä†HeaderÁªìÂ∞æ [resStr appendFormat:@&quot;#%@&quot;, str]; dispatch_async(dispatch_get_main_queue(), ^&#123; self.transLayer.stringValue = [resStr copy]; &#125;); [NSThread sleepForTimeInterval:0.3]; return [self networkLayerWith:resStr];&#125;// Ê®°ÊãüÁΩëÁªúÂ±ÇÂØπÊï∞ÊçÆÁöÑÂåÖË£Ö- (NSMutableString *)networkLayerWith:(NSMutableString *)str &#123; NSMutableString *resStr = [NSMutableString string]; // Ê∑ªÂä†VER [resStr appendFormat:@&quot;0100&quot;]; // Ê∑ªÂä†HLEN [resStr appendFormat:@&quot;1111&quot;]; // Ê∑ªÂä†Service [resStr appendFormat:@&quot;00000000&quot;]; // Ê∑ªÂä†totalLength [resStr appendFormat:@&quot;0101010101010101&quot;]; // Ê∑ªÂä†Identification [resStr appendFormat:@&quot;0000000000000000&quot;]; // Ê∑ªÂä†Flag [resStr appendFormat:@&quot;000&quot;]; // Ê∑ªÂä†FragmentationOffset [resStr appendFormat:@&quot;0000000000000&quot;]; // Ê∑ªÂä†TTL [resStr appendFormat:@&quot;00000000&quot;]; // Ê∑ªÂä†Protocol [resStr appendFormat:@&quot;00000000&quot;]; // Ê∑ªÂä†HeaderChecksum [resStr appendFormat:@&quot;0000000000000000&quot;]; // Ê∑ªÂä†SourIPAddress [resStr appendFormat:@&quot;00000000000000000000000000000000&quot;]; // Ê∑ªÂä†DestinationIPAddress [resStr appendFormat:@&quot;00000000000000000000000000000000&quot;]; // Ê∑ªÂä†HeaderÁªìÂ∞æ [resStr appendFormat:@&quot;#%@&quot;, str]; dispatch_async(dispatch_get_main_queue(), ^&#123; self.networkLayer.stringValue = [resStr copy]; &#125;); [NSThread sleepForTimeInterval:0.3]; return [self dlinkLayerWithString:resStr];&#125;// Ê®°ÊãüÈìæË∑ØÂ±ÇÂØπÊï∞ÊçÆÁöÑÂåÖË£Ö- (NSMutableString *)dlinkLayerWithString:(NSMutableString *)str &#123; NSMutableString *resStr1 = [NSMutableString string]; // Ê∑ªÂä†FrameFlag1 [resStr1 appendFormat:@&quot;00001111&quot;]; // Ê∑ªÂä†FrameAdd [resStr1 appendFormat:@&quot;11101011&quot;]; // Ê∑ªÂä†FrameControl [resStr1 appendFormat:@&quot;01111000&quot;]; NSMutableString *resStr2 = [NSMutableString string]; // Ê∑ªÂä†FrameFCS [resStr2 appendFormat:@&quot;00001111&quot;]; // Ê∑ªÂä†FrameFlag2 [resStr2 appendFormat:@&quot;11101011&quot;]; // ÂêàÊàêÂ∏ß NSMutableString *resStr = [NSMutableString stringWithFormat:@&quot;%@#%@#%@&quot;, resStr1, str, resStr2]; dispatch_async(dispatch_get_main_queue(), ^&#123; self.dlinkLayer.stringValue = [resStr copy]; &#125;); [NSThread sleepForTimeInterval:0.3]; return [self phyLayerWithString:resStr];&#125;// Ê®°ÊãüÁâ©ÁêÜÂ±ÇÂØπÊï∞ÊçÆÁöÑÂåÖË£Ö- (NSMutableString *)phyLayerWithString:(NSMutableString *)str &#123; NSMutableString *resStr = [NSMutableString stringWithFormat:@&quot;PhysicsHeader#%@&quot;, str]; dispatch_async(dispatch_get_main_queue(), ^&#123; self.phyLayer.stringValue = [resStr copy]; &#125;); [NSThread sleepForTimeInterval:0.3]; return resStr;&#125; ÂÖ∂‰ªñÁªÜËäÇ1„ÄÅÂú®ÂÆö‰πâSocketÂú∞ÂùÄÁ´ØÂè£Êó∂ÔºåË¶ÅÊ≥®ÊÑèÁ´ØÂè£ÂÄºÁ±ªÂûãÔºåËã•‰ΩøÁî®htonsÔºåÂàôÈúÄË¶ÅËΩ¨Êç¢‰∏∫shortÁ±ªÂûã(16‰Ωç)„ÄÇserver_addr.sin_port = htons((short)port); Êú¨ÊñáÊ∫ê‰ª£Á†ÅÔºöGithub: https://github.com/Minecodecraft/TCP-IP-Model-SimulationÂéüÊñáÂú∞ÂùÄÔºöMinecode‚Äôs Blog: TCP‰∫îÂ±ÇÊ®°ÂûãÊ∂àÊÅØËß£/Â∞ÅË£Ö‰ªøÁúü]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫ÁΩëÁªú</category>
      </categories>
      <tags>
        <tag>TCP/IP</tag>
        <tag>ËÆ°ÁÆóÊú∫ÁΩëÁªú</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âà©Áî®iOS ARKitÂà∂‰ΩúAR‰º†ÈÄÅÈó®]]></title>
    <url>%2F2017%2F11%2F11%2F%E5%88%A9%E7%94%A8iOS%20ARKit%E5%88%B6%E4%BD%9CAR%E4%BC%A0%E9%80%81%E9%97%A8%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄËãπÊûúÊé®Âá∫ARKitÂçäÂπ¥‰∫ÜÔºåÂºÄÂèëËÄÖÂØπÂÖ∂ÂÖ¥Ë∂£ÊúâÂ¢ûÊó†ÂáèÔºåAR‰∫ß‰∏ö‰πüÂÄüËãπÊûúË∞∑Ê≠åÁ≠âÂéÇÂïÜÁöÑÂä™ÂäõÂæóÂà∞‰∫ÜÂø´ÈÄüÂèëÂ±ï„ÄÇ‰Ωú‰∏∫ÂπøÂ§ßiOSÂºÄÂèëËÄÖÁöÑ‰∏ÄÂëòÔºåÊàë‰πüÂä†ÂÖ•‰∫ÜÂ≠¶‰π†ARÁöÑÈòü‰ºç‰∏≠„ÄÇÂæóÁõä‰∫éSceneKit‰ºòË∂äÁöÑÊÄßËÉΩÂíåÂ∞ÅË£ÖÔºåARKitÁöÑÂºÄÂèë‰πüÂ¶ÇÈ±ºÂæóÊ∞¥ÔºåÂ¶ÇÊûú‰Ω†ÊúâSceneKitÂºÄÂèëÁªèÈ™åÔºåÈÇ£‰πàÁü≠Êó∂Èó¥ÂºÄÂèëÂá∫‰∏ÄÊ¨æÂæàÈÖ∑ÁöÑARÂ∫îÁî®‰∏çÊòØÈöæ‰∫ã„ÄÇËøôÊ¨°ÔºåÊàë‰ª¨Â∞ùËØï‰ΩøÁî®ARKitÊù•Âà∂‰Ωú‰∏Ä‰∏™‰º†ÈÄÅÈó®ÔºàÊàñËÄÖËØ¥ÂìÜÂï¶AÊ¢¶ÁöÑ‰ªªÊÑèÈó®Ôºâ È°πÁõÆÊïàÊûúÔºö ÂâçÊúüÂáÜÂ§áÂà∂‰ΩúÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂáÜÂ§áÂ•Ω‰ªªÊÑèÈó®‰∏≠ÁöÑ3DÊ®°ÂûãÔºå‰ª•Âèä‰ªªÊÑèÈó®‰∏≠ÁöÑÂ§©Á©∫ÁõíË¥¥Âõæ„ÄÇÂú®ËøôÈáåÊàë‰ΩøÁî®‰∫ÜÂ§ßÂ≠¶ÁöÑÈíüÂ°îÊ®°ÂûãÔºå‰ΩøÁî®‰∫ÜCinema4DÂà∂‰ΩúÔºåSceneKitÊîØÊåÅdaeÊàñobjÊ†ºÂºèÁöÑÊ®°ÂûãÔºåÂØºÂÖ•ÂêéÂèØ‰ª•ËΩ¨Êç¢ÊàêSceneKitÂØπÂ∫îÁöÑscnÊ†ºÂºè„ÄÇÂ§©Á©∫ÁõíË¥¥ÂõæÊòØ‰ªÄ‰πàÔºüÊ∏∏Êàè‰∏≠ÂØπ‰∫é‰∏Ä‰∫õÊúâËæπÁïåÂú∞ÂõæÔºåÊÉ≥Ë¶ÅÂàõÈÄ†ËøúË∑ùÁ¶ªÂú∫ÊôØÁöÑËßÜËßâÊïàÊûúÔºåÂ∞±ÂèØ‰ª•ÈááÁî®Â∞ÜÂ§©Á©∫ÁõíÂåÖË£πÂΩìÂâçÁúüÂÆûÂú∫ÊôØÁöÑÊñπÊ≥ïÔºåÂ¶ÇCS„ÄÇ È°πÁõÆÁöÑÈÖçÁΩÆ1. Info.plistÁöÑÈÖçÁΩÆARÈúÄË¶Å‰ΩøÁî®ÊëÑÂÉèÂ§¥ÊùÉÈôêÔºåÂú®Info.plis‰∏≠Ê∑ªÂä†‚ÄúPrivacy - Camera Usage Description‚ÄùÈîÆÂÄº 2. ÁïåÈù¢ËÆæÁΩÆÊòæÁ§∫ARÊëÑÂÉèÊú∫ÔºåÈúÄË¶Å‰ΩøÁî®ARÂú∫ÊôØÊéß‰ª∂ÔºåÊãñARKit Scene ViewËá≥ÊïÖ‰∫ãÁâàÔºåÂêåÊó∂Êàë‰ª¨ÈúÄË¶ÅÊîæÁΩÆÊåâÈíÆ‰ª•ÂèäÊ£ÄÊµãÂà∞Âπ≥Èù¢ÁöÑÊèêÁ§∫Label ÂºÄÂßãCodingÈÖçÁΩÆARSceneViewARKitËøΩË∏™ÈúÄË¶Å‰∏Ä‰∏™AR‰∏ñÁïåËøΩË∏™ÈÖçÁΩÆÈ°πÔºåÂèØ‰ª•ÈÄöËøáÂÆû‰æãÂåñARWorldTrackingConfigurationÁ±ªÊù•ÂÆûÁé∞ÔºàÊó©ÊúüÊòØARWorldTrackingSessionConfigurationÔºâ„ÄÇÊàë‰ª¨ÊÉ≥Ë¶ÅËøΩË∏™Ê∞¥Âπ≥Èù¢Ôºå‰ªéËÄåÊîæÁΩÆ‰º†ÈÄÅÈó®Ê®°ÂûãÔºåÊâÄ‰ª•Âú®Ê≠§Â∞ÜÂÖ∂planeDetectionËÆæÁΩÆ‰∏∫ËøΩË∏™Ê∞¥Âπ≥Èù¢„ÄÇ12345678910111213141516// Áî®‰∫éÈÖçÁΩÆAR‰∏ñÁïåËøΩË∏™// The Configuration of World Trackinglet configuration = ARWorldTrackingConfiguration()var planeAnchor: ARPlaneAnchor?override func viewDidLoad() &#123; super.viewDidLoad() // ËÆæÁΩÆARÂπ≥Èù¢Ê£ÄÊµãÁ±ªÂûã // set the plane detecing type of world tracking configuration.planeDetection = .horizontal sceneView.debugOptions = [ARSCNDebugOptions.showFeaturePoints] sceneView.session.run(configuration) sceneView.delegate = self sceneView.automaticallyUpdatesLighting = true&#125; Ëé∑ÂèñËøΩË∏™Âπ≥Èù¢Êàë‰ª¨Âú®‰∏ä‰∏ÄÊ≠•ËÆæÁΩÆ‰∫ÜÊ∞¥Âπ≥Èù¢ËøΩË∏™ÔºåÂú®ËøôÈáåËøõË°åËÆæÁΩÆ„ÄÇARKitÊèê‰æõ‰∫ÜËØÜÂà´Ê∞¥Âπ≥Èù¢ÁöÑ‰ª£ÁêÜÊñπÊ≥ïÔºåÂú®ARSCNViewDelegate‰∏≠„ÄÇARKit‰ºö‰∏çÂÅúËøΩË∏™Âπ≥Èù¢ÔºåÂΩìËøΩË∏™Âà∞Êñ∞Âπ≥Èù¢(plane)Êó∂Ôºå‰ºöÂêëËØ•Âπ≥Èù¢‰∏äÊ∑ªÂä†ÈîöÁÇπ(anchor)„ÄÇ‰ª£ÁêÜ‰∏≠‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜËøô‰∏Ä‰ª£ÁêÜÊñπÊ≥ï„ÄÇÂØπ‰∫éËøΩË∏™Âà∞ÁöÑÂπ≥Èù¢Ôºå‰ºöÊ∑ªÂä†ARAnchorÔºåËÄåÂ¶ÇÊûúÊ£ÄÊµãÂà∞ÁöÑÊòØÁî®Êà∑ËÆæÁΩÆÁöÑÊ£ÄÊµãÂπ≥Èù¢(Êàë‰ª¨‰πãÂâçËÆæÁΩÆÁöÑplaneDetection)ÔºåÂ∞Ü‰ºöÊîæÁΩÆARPlaneAnchor„ÄÇÊâÄ‰ª•Êàë‰ª¨Áõ¥Êé•Âà§Êñ≠ËØ•anchorÁöÑÁ±ªÂûãÂç≥ÂèØ„ÄÇ123456789101112// MARK: - ARSCNViewDelegate implementionextension ARViewController: ARSCNViewDelegate &#123; func renderer(_ renderer: SCNSceneRenderer, didAdd node: SCNNode, for anchor: ARAnchor) &#123; // Â¶ÇÊûúÊ£ÄÊµãÂà∞ÁöÑÊòØÊ∞¥Âπ≥Èù¢ÔºåÈÇ£‰πàÂ∞±ÊòØÊàë‰ª¨ÈúÄË¶ÅÁöÑÔºåÊâÄ‰ª•Âú®Ê≠§Âà§Êñ≠ÊòØÂê¶‰∏∫Ê∞¥Âπ≥Èù¢ guard anchor is ARPlaneAnchor else &#123;return&#125; self.planeAnchor = anchor as? ARPlaneAnchor // Â§ÑÁêÜÈÄªËæë &#125;&#125; Ëé∑ÂèñÂπ≥Èù¢ÁöÑ‰ΩçÁΩÆ‰∏ä‰∏ÄÊ≠•Êàë‰ª¨Ëé∑Âèñ‰∫ÜÊ∞¥Âπ≥Èù¢ÂØπÂ∫îÁöÑARPlaneAnchorÔºåËÄåÊ≠§Êó∂Êàë‰ª¨ÈúÄË¶ÅËé∑ÂèñËØ•Âπ≥Èù¢Âú®AR‰∏ñÁïå‰∏≠ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ„ÄÇÊñπÊ≥ïÂ∞±ÊòØ‰ΩøÁî®transformÂ±ûÊÄßÔºåËØ•Â±ûÊÄßËøîÂõû‰∏Ä‰∏™matrix_float4x4ÁªìÊûÑ‰Ωì„ÄÇ‰∫ÜËß£ËøáËÆ°ÁÆóÊú∫ÂõæÂΩ¢Â≠¶ÁöÑÂ∫îËØ•Áü•ÈÅìÔºåÂõæÂΩ¢ÁöÑÂèòÊç¢Áü©ÈòµÊ≠£ÊòØËøôÊ†∑ÁöÑ‰∏Ä‰∏™ÁªìÊûÑ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰øÆÊîπtransform‰∏≠ÁöÑÂØπÂ∫î‰ΩçÁΩÆÂÄºÔºåÂ∞±ÂèØ‰ª•ÂØπÂõæÂΩ¢ËøõË°åËá™Áî±ÂèòÊç¢„ÄÇËÄåÊàë‰ª¨Áé∞Âú®Âè™ÈúÄË¶ÅËé∑Âèñ‰ªñÁöÑÂùêÊ†á‰ø°ÊÅØÔºå‰πüÂ∞±ÂØπÂ∫îÁùÄÁ¨¨3Ë°åÁöÑÂâç‰∏â‰∏™ÂÄº„ÄÇÂêåÊó∂ÔºåÂú®SceneKit‰∏≠‰∏âÁª¥ÂùêÊ†á‰ΩøÁî®ÁöÑÊòØSCNVector3„ÄÇÊâÄ‰ª•Êàë‰ª¨Âú®Ê≠§Êâ©Â±ïSCNVector3‰ª•‰æøÂ§çÁî®„ÄÇ123456789extension SCNVector3 &#123; init (withTransform transform: matrix_float4x4) &#123; self.x = transform.columns.3.x self.y = transform.columns.3.y self.z = transform.columns.3.z &#125;&#125; ËÆæÁΩÆÊ®°ÂûãÂú®ÂàõÂª∫Ê®°Âûã‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂàõÂª∫‰∏Ä‰∏™Ê®°ÂûãÁöÑÈõÜÂêàÔºåÊãìÂ±ïÂêç‰∏∫scnassets„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Â§©Á©∫ÁõíÔºåÂπ∂Â∞ÜÊÉ≥Ë¶ÅÂæÄÂÖ∂‰∏≠ÊîæÁΩÆÁöÑÊ®°Âûã‰πü‰∏ÄÂπ∂ÊîæÁΩÆ„ÄÇÂ§©Á©∫ÁõíÁöÑÊùêË¥®ËÆæÁΩÆ‰∏∫Êàë‰ª¨ÂáÜÂ§áÂ•ΩÁöÑÂ§©Á©∫ÁõíË¥¥Âõæ„ÄÇ‰ΩÜÊòØÁé∞Âú®Êúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÊâçËÉΩ‰ΩøËøô‰∏™Â§©Á©∫ÁõíÂú®Â§ñÈù¢‰∏çÂèØËßÅËÄåÂú®ÈáåÈù¢ÂèØËßÅÂë¢ÔºüÁ≠îÊ°àÂ∞±ÊòØÔºå‰ΩøÁî®Ê∏≤ÊüìÈ°∫Â∫èÔºåÊ∏≤ÊüìÈ°∫Â∫èÂú®ÂâçÁöÑ‰ºòÂÖàÊ∏≤ÊüìÔºåÊ∏≤ÊüìÈ°∫Â∫èÂÜ≥ÂÆö‰∫ÜÊ®°Âûã‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰ºòÂÖàÊ∏≤ÊüìÂâçÈù¢ÁöÑÈÄèÊòéÈÅÆÁΩ©Âπ≥Èù¢Êù•Êù•ÂêéÈù¢ÁöÑÂÜÖÂÆπ‚ÄúË¢´ÈÄèÊòé‚Äù„ÄÇÊâÄ‰ª•Âú®ÊØè‰∏Ä‰∏™Âπ≥Èù¢‰∏äÊ∑ªÂä†‰∏Ä‰∏™Âêç‰∏∫‚Äúmask‚ÄùÁöÑÂπ≥Èù¢ÔºåÂ§ßÂ∞è‰∏éÁà∂Âπ≥Èù¢Áõ∏ÂêåÂç≥ÂèØÔºåÂéöÂ∫¶Â∞ΩÂèØËÉΩÂ∞èÂ∞±Â•Ω„ÄÇÂ¶Ç‰∏ãÂõæÔºåÂÖ∑‰ΩìËØ∑ËßÅÂ∑•Á®ãÊ∫êÊñá‰ª∂„ÄÇ ‰ΩøÂ§©Á©∫Áõí‰ªéÂ§ñÈù¢‰∏çÂèØËßÅÈ¶ñÂÖàÊàë‰ª¨ÂÖàÊ∑ªÂä†Ê®°ÂûãÔºå‰ª£Á†ÅÊØîËæÉÁÆÄÂçïÔºåÂú®Ê≠§‰∏çËµòËø∞„ÄÇ12345guard let portalScene = SCNScene(named: "Model.scnassets/tjgc.scn") else &#123;return&#125;let portalNode = portalScene.rootNode.childNode(withName: "tjgc", recursively: false)!let newVector3 = SCNVector3.init(withTransform: transform)portalNode.position = SCNVector3.init(newVector3.x, newVector3.y, newVector3.z-1)sceneView.scene.rootNode.addChildNode(portalNode) Êé•‰∏ãÊù•Â∞±ÊòØÂÆûÁé∞ÁöÑÈáçÁÇπÔºöÂ¶Ç‰ΩïÂèØ‰ª•ËÆ©Â§©Á©∫Áõí‰ªéÂ§ñÈù¢‰∏çÂèØËßÅÔºüÂàöÊâçË∞àÂà∞‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËÆ©‰∏Ä‰∏™Ê∏≤ÊüìÈ°∫Â∫èÊõ¥Èù†ÂâçÁöÑÈÄèÊòéÂπ≥Èù¢ÈÅÆÊå°Êù•ÂÆûÁé∞ËÆ©Êüê‰∏™Âπ≥Èù¢‚ÄúË¢´ÈÄèÊòé‚ÄùÁöÑÊïàÊûúÔºåËÄåËøôÊ†∑‰πüÂèØ‰ª•‰ΩøÂè¶‰∏Ä‰∏™ÊñπÂêëËßÇÂØü‰∏çÂèóÂΩ±Âìç„ÄÇÂú®SceneKit‰∏≠ÔºåÊ∏≤ÊüìÈ°∫Â∫èÂØπÂ∫îrenderingOrderÂ±ûÊÄßÔºåÊï∞ÂÄºË∂äÂ∞èË∂ä‰ºòÂÖàÊ∏≤Êüì„ÄÇ123let child = portalNode.childNode(withName: nodeName, recursively: true)child?.geometry?.firstMaterial?.diffuse.contents = UIImage(named: "Model.scnassets/\(imageName).png")child?.renderingOrder = 200 Â¶Ç‰∏äÈù¢‰ª£Á†ÅÊâÄÁ§∫ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊääÈúÄË¶ÅÂ§ÑÁêÜÁöÑËäÇÁÇπÂèñÂá∫Âπ∂ËÆæÁΩÆÊ∏≤ÊüìÈ°∫Â∫èÂç≥ÂèØ„ÄÇ ÈáçÁΩÆARÂú∫ÊôØÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨ÊÉ≥Ë¶ÅÈáçÁΩÆARËøΩË∏™ÔºåÂπ∂Â∞ÜÁé∞ÊúâËäÇÁÇπÂÖ®ÈÉ®ÁßªÈô§„ÄÇÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ã‰ª£Á†ÅÂÆûÁé∞Ôºö12345678910111213141516func reset() &#123; // Ê∏ÖÈô§ËäÇÁÇπ‰πãÂâçÂÖàÂÅúÊ≠¢AR‰ºöËØùÔºåÂê¶Âàô‰ºöcrash // pause ar session before remove node, or will be crash self.sceneView.session.pause() self.sceneView.scene.rootNode.enumerateChildNodes &#123; (node, _) in node.removeFromParentNode() &#125; self.planeAnchor = nil self.addButton.isEnabled = false // ‰ΩøÁî®ÈáçÁΩÆÈÖçÁΩÆÂêØÂä®AR‰ºöËØùÔºåÂú∫ÊôØÂ∞Ü‰ºöË¢´ÈáçÁΩÆ // Run AR session with reset options, then session will be reset self.sceneView.session.run(configuration, options: [.resetTracking, .removeExistingAnchors])&#125; ÂÖ∑‰Ωì‰ª£Á†ÅËßÅGithubÈ°πÁõÆÔºö https://github.com/Minecodecraft/ARDoor Â¶ÇÊûúÊúâÈóÆÈ¢òÔºåÊ¨¢ËøéËØÑËÆ∫Âå∫ÁïôË®Ä]]></content>
      <categories>
        <category>iOSÂºÄÂèë</category>
      </categories>
      <tags>
        <tag>ARKit</tag>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁªìÊûÑ‰ΩìÁöÑËá™ÂºïÁî®ÂèäÁõ∏‰∫íÂºïÁî®]]></title>
    <url>%2F2017%2F10%2F01%2F%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E8%87%AA%E5%BC%95%E7%94%A8%E5%8F%8A%E7%9B%B8%E4%BA%92%E5%BC%95%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÁÆÄËø∞Âú®Áî®CÊù•ÂÆûÁé∞Êï∞ÊçÆÁªìÊûÑ‰ª•ÂèäÈÉ®ÂàÜÁÆóÊ≥ïÊó∂ÔºåÁªèÂ∏∏Áî®Âà∞ÁªìÊûÑ‰ΩìÔºåÊØîÂ¶ÇÂÆûÁé∞Ê†ë‰ª•ÂèäÊ†ëÁöÑÂ≠êËäÇÁÇπÊó∂ÔºåÂ∞±ÈúÄË¶ÅËØ•ÁªìÊûÑ‰ΩìÂåÖÂê´Ëá™Ë∫´Á±ªÂûãÁöÑÊàêÂëòÂèòÈáè„ÄÇËÄåÊúÄËøëÂú®Á†îÁ©∂OCÁöÑÂåøÂêçÂáΩÊï∞ÂÆûÁé∞Êó∂Ôºå‰πüÊ∂âÂèäÂà∞‰∫ÜÁ±ª‰ººÈúÄÊ±Ç„ÄÇÂêåÊó∂Ôºå‰∏§‰∏™ÁªìÊûÑ‰Ωì‰πãÈó¥Áõ∏‰∫íÂºïÁî®‰πüÁªèÂ∏∏ÈÅáÂà∞ÈóÆÈ¢ò„ÄÇÊïÖÁÆÄÂçïÊÄªÁªì‰∏Ä‰∏ãCËØ≠Ë®ÄÁªìÊûÑ‰ΩìÁöÑËá™ÂºïÁî®ËØ≠Ê≥ï„ÄÇ Á§∫‰æãÊàë‰ª¨‰ª•‰∫åÂèâÊ†ëÁöÑËäÇÁÇπ‰∏∫‰æãÊù•Áúã‰∏Ä‰∏ãËá™ÂºïÁî®Ôºö12345struct binary_tree &#123; int data ; // Data area struct binary_tree * left; struct binary_tree * right;&#125;; Âú®Ê†ë‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶Å‰øùÂ≠òÂÖ∂Â∑¶Âè≥Â≠êÊ†ëÔºåÊâÄ‰ª•ÈúÄË¶ÅÂºïÁî®Ëá™Ë∫´„ÄÇ ÁªìÊûÑ‰ΩìËá™ÂºïÁî®‰∏ç‰ΩøÁî®typedefÂ¶ÇÊûú‰∏çÈÄÇÁî®typedefÔºåÈÇ£‰πàÊ≠§Êó∂Êàë‰ª¨ÈúÄË¶Å‰ΩøÁî®struct [ÂêçÁß∞]Êù•Ë∞ÉÁî®„ÄÇ‰ΩÜÂ¶ÇÊûúÊåâ‰∏ãÈù¢ÁöÑË∞ÉÁî®ÊñπÂºè12345struct binary_tree &#123; int data; struct binary_tree left; struct binary_tree right;&#125;; Âàô‰ºöÂØºËá¥Âú®ÂàÜÈÖçÂÜÖÂ≠òÁöÑÊó∂ÂÄôÂæ™ÁéØÂàÜÈÖçÔºåÊ≠§Êó∂ÁºñËØëÂô®‰ºöËÆ°ÁÆóleftÂíårightÁöÑÊàêÂëòÂèòÈáèÂπ∂‰∏∫‰πãÂàÜÈÖçÂÜÖÂ≠òÔºå‰ªéËÄåÂØºËá¥ÂµåÂ•óÊ≠ªÂæ™ÁéØ„ÄÇ12345struct binary_tree &#123; int data; struct binary_tree * left; struct binary_tree * right;&#125;; ÊâÄ‰ª•ÂêéËÄÖÊòØÊ≠£Á°ÆÁöÑÔºåleftÂíårightÂú®ÂàÜÈÖçÊó∂ÊòØ‰ª•ÁªìÊûÑ‰ΩìÊåáÈíàÁöÑÂΩ¢ÂºèÊù•ÂàÜÈÖçÂÜÖÂ≠òÁöÑ„ÄÇËÄåÊÑè‰πâ‰∏äÊàë‰ª¨Â∞±ÊòØ‰∏∫‰∫ÜÂ∞ÜÂÖ∂ÊåáÂêëÂè¶‰∏Ä‰∏™binary_treeÔºåÊâÄ‰ª•ËøôÊ†∑ÊòØÂ§çÂêàÈÄªËæëÁöÑ„ÄÇ ‰ΩøÁî®typedef‰ΩøÁî®typedefÂèØ‰ª•‰∏∫ÁªìÊûÑ‰ΩìËÆæÁΩÆÂà´ÂêçÔºå‰ΩÜÊòØË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåtypdefÁöÑËØ≠Ê≥ï‰∏∫typedef [ÂéüÁ±ªÂûã] [Âà´Âêç];ÊâÄ‰ª•Âú®ÁªìÊûÑ‰ΩìÂ£∞Êòé‰πãÂâçÔºåÂà´ÂêçÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇÊâÄ‰ª•Êàë‰ª¨Âú®ÂÜÖÈÉ®ÈúÄË¶Å‰ΩøÁî®ÂÖ∂ÂéüÁ±ªÂûãÊù•ÂÆö‰πâÊàêÂëòÂèòÈáè„ÄÇ12345typedef struct binary_tree &#123; int data; struct binary_tree * left; struct binary_tree * right;&#125;BinTREE; ÁªìÊûÑ‰ΩìÁõ∏‰∫íÂºïÁî®ÂêåÊñá‰ª∂ÂÜÖ‰ΩøÁî®‰∏çÂÆåÊï¥Á±ªÂûãÈÄöËøá‰∏çÂÆåÊï¥Á±ªÂûãËØ≠Ê≥ïÊù•ÂÆûÁé∞Áõ∏‰∫íÂºïÁî®123456789struct s_a &#123; int id; struct s_b *B_Ptr;&#125;;struct s_b &#123; int id; A *A_Ptr;&#125;; ‰ΩøÁî®ÂâçÂêëÂ£∞Êòé123456789101112typedef struct s_a A;typedef struct s_b B;struct s_a &#123; int id; B *B_Ptr;&#125;;struct s_b &#123; int id; A *A_Ptr;&#125;; ‰∏çÂêåÊñá‰ª∂ÂÜÖÂØπ‰∫é‰∏çÂêåÊñá‰ª∂Ôºå‰∏ªË¶ÅÊúâ‰∏§ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÁöÑ„ÄÇ Â§¥Êñá‰ª∂ÈáçÂ§çÂåÖÂê´ÈóÆÈ¢ò ÁªìÊûÑ‰ΩìÁöÑÂ£∞ÊòéÈóÆÈ¢ò ËÄåÂâçËÄÖÈÄöËøáÂÆèÂÆö‰πâËß£ÂÜ≥123456#ifndef __FILENAME_H#define __FILENAME_H// ‰ª£Á†Å#endif ÂêéËÄÖÈÄöËøá‰∏äËø∞ÁöÑ‚ÄúÂâçÂêëÂ£∞Êòé‚ÄùÊàñ‚Äú‰∏çÂÆåÊï¥Á±ªÂûãÂç≥ÂèØËß£ÂÜ≥‚Äù„ÄÇ]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÂ§öÁªßÊâøÁöÑÂÆûÁé∞ÂèäÂå∫Âà´]]></title>
    <url>%2F2017%2F09%2F11%2FiOS%E5%A4%9A%E7%BB%A7%E6%89%BF%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8F%8A%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[Â§öÁªßÊâøÂèØ‰ª•ÂÖÅËÆ∏Â≠êÁ±ª‰ªéÂ§ö‰∏™Áà∂Á±ªÊ¥æÁîüÔºåËÄåObjective-CÂπ∂‰∏çÊîØÊåÅÂ§öÁªßÊâøÔºå‰ΩÜÊàë‰ª¨‰ªçÂèØÈó¥Êé•ÂÆûÁé∞„ÄÇ Objective-CÂÆûÁé∞Â§öÁªßÊâø‰∏ªË¶ÅÂèØ‰ª•ÈÄöËøáÂçèËÆÆ„ÄÅÂàÜÁ±ª„ÄÅÊ∂àÊÅØËΩ¨ÂèëÊù•ÂÆûÁé∞„ÄÇÊàë‰ª¨Êù•ÊÄªÁªì‰∏Ä‰∏ãÂÖ∂‰ΩøÁî®‰ª•Âèä‰ºòÁº∫ÁÇπ„ÄÇ ÈÄöËøáÂçèËÆÆÂÆûÁé∞ÂçèËÆÆ‰∏ªË¶ÅÊòØÁî®Êù•ÊèêÂá∫Á±ªÂ∫îÈÅµÂÆàÁöÑÊ†áÂáÜÔºå‰ΩÜÂÖ∂ÁâπÊÄß‰πüÂèØÁî®Êù•ÂÆûÁé∞Â§öÁªßÊâø„ÄÇ‰∏Ä‰∏™Á±ªÂèØ‰ª•ÈÅµÂÆàÂ§ö‰∏™ÂçèËÆÆÔºå‰πüÂç≥ÂÆûÁé∞Â§ö‰∏™ÂçèËÆÆÁöÑÊñπÊ≥ïÔºå‰ª•Ê≠§Êù•ËææÂà∞Â§öÁªßÊâøÁöÑÊïàÊûú„ÄÇ Ê¶ÇÂøµ‰∏äÁöÑÂçïÁªßÊâøÂíåÂ§öÁªßÊâøÂ∫îËØ•ÊòØÁªßÊâøÁà∂Á±ªÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºåÂπ∂‰∏î‰∏çÁªèÈáçÂÜôÂç≥ÂèØ‰ΩøÁî®Ôºå‰ΩÜÈÄöËøáÂçèËÆÆÂÆûÁé∞Â§öÁªßÊâøÊúâÂ¶Ç‰∏ã‰∏çÂêå: Â≠êÁ±ªÈúÄË¶ÅÂÆûÁé∞ÂçèËÆÆÊñπÊ≥ï Áî±‰∫éÂçèËÆÆÊó†Ê≥ïÂÆö‰πâÂ±ûÊÄßÔºåÊâÄ‰ª•ËØ•ÊñπÊ≥ïÂè™ËÉΩÂÆûÁé∞ÊñπÊ≥ïÁöÑÂ§öÁªßÊâø ‰∏ãÈù¢Êù•Áúã‰∏Ä‰∏ãÁ§∫‰æã‰ª£Á†Å: 1234567891011121314151617181920212223242526272829303132333435// ÁºñÁ®ãÊäÄËÉΩ@protocol Program &lt;NSObject&gt;- (void)program;@end// ÁªòÁîªÊäÄËÉΩ@protocol Draw &lt;NSObject&gt;- (void)draw;@end// Ê≠åÂî±ÊäÄËÉΩ@protocol Sing &lt;NSObject&gt;- (void)sing;@end// ÂéüÊú¨‰∏Ä‰∏™‰ªÄ‰πà‰πü‰∏ç‰ºöÁöÑÁ®ãÂ∫èÂëò// Â≠¶‰ºö‰∫ÜÂ§ö‰∏™ÊäÄËÉΩ@interface Programmer : NSObject &lt;Draw, Sing&gt;// ÁªßÊâøÁöÑÂçèËÆÆÊñπÊ≥ïËá™Âä®ÂÖ¨ÊúâÔºåÊó†È°ªÂ£∞ÊòéÊé•Âè£@end@interface Programmer () &lt;Program&gt;// ÁªßÊâøÁöÑÂçèËÆÆÊñπÊ≥ïËá™Âä®ÁßÅÊúâÔºåÊó†È°ªÂ£∞ÊòéÊé•Âè£@end// ÈúÄË¶ÅËá™Ë°åÂÆûÁé∞ÂçèËÆÆÊñπÊ≥ï@implementation Programmer- (void)program &#123; NSLog(@&quot;I&apos;m writing bugs!&quot;);&#125;- (void)draw &#123; NSLog(@&quot;I can draw&quot;);&#125;- (void)sing &#123; NSLog(@&quot;Lalalallalalala&quot;);&#125;@end ÈÄöËøá‰∏ãÈù¢ÁöÑÂçèËÆÆÈÅµÂÆàÔºåËØ•Á®ãÂ∫èÂëòÁ±ªÊéåÊè°‰∫ÜÁºñÁ®ã„ÄÅÂî±Ê≠å„ÄÅÁªòÁîªÂ§ö‰∏™ÊäÄËÉΩ„ÄÇÂêåÊó∂‰πüÂèØ‰ª•Ê†πÊçÆÈÅµÂÆàÂçèËÆÆÁöÑ‰ΩçÁΩÆÁªùÂØπÂçèËÆÆÊñπÊ≥ïÊòØÂê¶ÂÖ¨ÂºÄÔºå‰∏äËø∞‰ª£Á†Å‰∏≠drawÂíåsingÊñπÊ≥ïÂÖ¨ÂºÄÔºåËÄåprogram‰∏∫ÁßÅÊúâÊñπÊ≥ïÔºàÊØïÁ´üÂî±Ê≠åÁîªÁîªÊòØË¶ÅÂ±ïÁ§∫ÁªôÂ§ßÂÆ∂ÁöÑ :P ÈÄöËøáÁ±ªÂà´ÂÆûÁé∞‰∏ãÈù¢Â∞±ÊúâËØ∑Objective-CÁöÑ‰∏ÄÂ§ßÈªëÈ≠îÊ≥ï‚Äî‚ÄîCatagory(ÂàÜÁ±ª)„ÄÇ Áõ∏ÂØπ‰∫éÂçèËÆÆÔºåÂÆÉÁöÑRuntimeÁâπÊÄßÈÄ†Â∞±‰∫ÜÂÖ∂‰∏ÄÂÆö‰ºòÂäø: ÂèØ‰ª•‰∏∫Á±ªÊ∑ªÂä†ÊñπÊ≥ï ÂèØ‰ª•‰∏∫Á±ªÊ∑ªÂä†ÂÆû‰æã(ÈÄöËøáRuntime)ÔºåËøôÊòØÂçèËÆÆÂÅö‰∏çÂà∞ÁöÑ ÂàÜÁ±ªÊñπ‰æøÁÆ°ÁêÜ ‰∏ãÈù¢Êù•Áúã‰∏Ä‰∏ãÈÄöËøáÂàÜÁ±ªÊù•ÂÆûÁé∞Â§öÁªßÊâø: 123456789101112131415161718192021222324252627282930313233343536/* ÂàÜÁ±ªÂ§¥Êñá‰ª∂ */#import &quot;Programmer.h&quot;@interface Programmer (Program)// Â£∞ÊòéÂ±ûÊÄß@property (nonatomic, assign) NSString *motto;// Â£∞ÊòéÂÖ¨ÊúâÊñπÊ≥ï- (void)draw;- (void)sing;@end/* ÂàÜÁ±ªÂÆûÁé∞Êñá‰ª∂ */#import &lt;objc/runtime.h&gt;@implementation Programmer (Program)// ‰∏∫CatagoryÊ∑ªÂä†Â±ûÊÄßstatic const char kMottoKey;- (void)setMotto:(NSString *)motto &#123; objc_setAssociatedObject(self, &amp;kMottoKey, motto, OBJC_ASSOCIATION_COPY_NONATOMIC);&#125;- (NSString *)motto &#123; return objc_getAssociatedObject(self, &amp;kMottoKey);&#125;// ÁßÅÊúâÊñπÊ≥ï- (void)program &#123; NSLog(@&quot;I&apos;m writing bugs!&quot;);&#125;// ÂÆûÁé∞ÂÖ¨ÊúâÊñπÊ≥ï- (void)draw &#123; NSLog(@&quot;I can draw&quot;);&#125;- (void)sing &#123; NSLog(@&quot;Lalalalallalala&quot;);&#125;@end ÈÄöËøáÊ∑ªÂä†ÂàÜÁ±ªÔºåÊàë‰ª¨ÂèØ‰ª•‰∏∫Á®ãÂ∫èÂëòÊ∑ªÂä†ÂêÑÁßçÊñπÊ≥ïÔºåÂêåÊó∂ÈÄöËøáRuntimeËøô‰∏ÄÈªëÈ≠îÊ≥ïÂÆûÁé∞‰∫ÜÂä®ÊÄÅÊ∑ªÂä†Â±ûÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÈÄöËøáÁÇπËØ≠Ê≥ï‰∏∫Á®ãÂ∫èÂëòËÆæÁΩÆÂ∫ßÂè≥Èì≠„ÄÇ ÂêåÊó∂ÔºåÂàÜÁ±ªÁöÑÊñá‰ª∂Âú®ÁÆ°ÁêÜ‰∏ä‰πüÊØîËæÉÊñπ‰æøÔºåÂ¶ÇÊûú‰∏çÊÉ≥Áî®Áõ¥Êé•Âà†Èô§#importÂç≥ÂèØÔºåÁÅµÊ¥ªÊÄßËæÉÂº∫„ÄÇ ÂÖ≥‰∫éCatagoryÊ∑ªÂä†Â±ûÊÄßÁöÑÊñπÂºèÂèØ‰ª•Ëá™Ë°åÂ≠¶‰π†Runtime„ÄÇ ÈÄöËøáÊ∂àÊÅØËΩ¨ÂèëÊ∂àÊÅØËΩ¨Âèë‰πüÊòØRuntimeÁöÑÈªëÈ≠îÊ≥ïÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Áî®Â§ÑÂ∞±ÊòØÂèØ‰ª•ÂÆûÁé∞Â§öÁªßÊâøÔºåÂΩìÂèëÈÄÅÊ∂àÊÅØÂêéÊâæ‰∏çÂà∞ÂØπÂ∫îÁöÑÊñπÊ≥ïÂÆûÁé∞Êó∂Ôºå‰ºöÁªèËøáÂ¶Ç‰∏ãËøáÁ®ã: Âä®ÊÄÅÊñπÊ≥ïËß£Êûê: ÈÄöËøáresolveInstanceMethod:ÊñπÊ≥ïÔºåÊ£ÄÊü•ÊòØÂê¶ÈÄöËøá@dynamicÂä®ÊÄÅÊ∑ªÂä†‰∫ÜÊñπÊ≥ï„ÄÇ Áõ¥Êé•Ê∂àÊÅØËΩ¨Âèë: ‰∏ç‰øÆÊîπÂéüÊú¨ÊñπÊ≥ïÁ≠æÂêçÔºåÁõ¥Êé•Ê£ÄÊü•forwardingTargetForSelector:ÊòØÂê¶ÂÆûÁé∞ÔºåËã•ËøîÂõûÈùûnil‰∏îÈùûselfÔºåÂàôÂêëËØ•ËøîÂõûÂØπË±°Áõ¥Êé•ËΩ¨ÂèëÊ∂àÊÅØ„ÄÇ Ê†áÂáÜÊ∂àÊÅØËΩ¨Âèë: ÂÖàÂ§ÑÁêÜÊñπÊ≥ïË∞ÉÁî®ÂÜçËΩ¨ÂèëÊ∂àÊÅØÔºåÈáçÂÜômethodSignatureForSelector:ÂíåforwardInvocation:ÊñπÊ≥ïÔºåÂâçËÄÖÁî®‰∫é‰∏∫ËØ•Ê∂àÊÅØÂàõÂª∫‰∏Ä‰∏™ÂêàÈÄÇÁöÑÊñπÊ≥ïÁ≠æÂêçÔºåÂêéËÄÖÂàôÊòØÂ∞ÜËØ•Ê∂àÊÅØËΩ¨ÂèëÁªôÂÖ∂‰ªñÂØπË±°„ÄÇ ‰∏äËø∞ËøáÁ®ãÂùáÊú™ÂÆûÁé∞ÔºåÂàôÁ®ãÂ∫èÂºÇÂ∏∏„ÄÇ Êàë‰ª¨Áé∞Âú®Â∞ùËØï2Âíå3‰∏§ÁßçÊñπÊ°à: Áõ¥Êé•Ê∂àÊÅØËΩ¨Âèë1234567891011121314151617181920212223242526272829303132333435363738394041/* ProgrammerÂÆûÁé∞Êñá‰ª∂ */@implementation Programmer// ÈÄöËøáÊ∂àÊÅØËΩ¨ÂèëÂÆûÁé∞Â§öÁªßÊâø- (id)forwardingTargetForSelector:(SEL)aSelector &#123; Singer *singer = [[Singer alloc] init]; Artist *artist = [[Artist alloc] init]; if ([singer respondsToSelector:aSelector]) &#123; return singer; &#125; else if ([artist respondsToSelector:aSelector]) &#123; return artist; &#125; return nil;&#125;@end/* Artist‰ª£Á†Å */@interface Artist : NSObject// ÁîªÂÆ∂ÂèØ‰ª•ÁªòÁîª- (void)draw;@end@implementation Artist- (void)draw &#123; NSLog(@&quot;I can draw&quot;);&#125;@end/* Singer‰ª£Á†Å */@interface Singer : NSObject// Ê≠åÊâã‰ºöÂî±Ê≠å- (void)sing;@end@implementation Singer- (void)sing &#123; NSLog(@&quot;Lalalalalala&quot;);&#125;@end ÈÄöËøáÁõ¥Êé•ËΩ¨ÂèëÊ∂àÊÅØÂà∞ÂÖ∂‰ªñÁ±ªÂûãÁöÑÂØπË±°ÔºåÊàë‰ª¨Â∞±ÂÆûÁé∞‰∫ÜÂ§öÁªßÊâø„ÄÇÂ¶Ç‰∏ãË∞ÉÁî®ÔºåÁªìÊûúËÉΩÂ§üÂÆåÊàêÂî±Ê≠åÂíåÁªòÁîª 12345678Programmer *programmer = [[Programmer alloc] init];// Âú®performSelector‰∏≠‰ΩøÁî®NSSelectorFromString‰ºöÈÄ†ÊàêË≠¶Âëä// ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ‰∏çÊ£ÄÊµãperformSelectorÂÜÖÂ≠òÊ≥ÑÈú≤ÂÖ≥Èó≠Ë≠¶Âëä[programmer performSelector:NSSelectorFromString(@&quot;sing&quot;) withObject:nil];// ÊàñËÄÖÈÄöËøáÁ±ªÂûãÂº∫ËΩ¨Êù•ÂÆûÁé∞ÔºåÊó†Ë≠¶Âëä[(Artist *)programmer draw]; ÈÄöËøáÊ∂àÊÅØËΩ¨ÂèëÔºåÊàë‰ª¨ÂÆûÁé∞‰∫ÜÂä®ÊÄÅÊÄßÔºåÂèäÁúüÊ≠£ÁöÑÂ∞ÜÊñπÊ≥ï‰∫§ÁªôÂÖ∂‰ªñÁ±ªÊù•ÂÆûÁé∞ÔºåËÄåÈùûÂçèËÆÆÊàñËÄÖÂàÜÁ±ªÊâÄÈúÄË¶ÅËá™Ë°åÂÆûÁé∞„ÄÇÂêåÊó∂ÔºåÊ∂àÊÅØËΩ¨Âèë‰πüÁªôÊàë‰ª¨‰∫ÜÂÖÖÂàÜÁöÑÁÅµÊ¥ªÊÄßÔºåÂ¶Ç‰∏ä‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ProgramerÁ±ªÂ£∞ÊòésingÂíådrawÊñπÊ≥ïÔºå‰ΩÜ‰πüÂèØ‰∏çÊö¥Èú≤Ëøô‰∫õÊé•Âè£ËÄåÈÄöËøáÁ±ªÂûãÂº∫ËΩ¨Êù•Ë∞ÉÁî®Ëøô‰∏§‰∏™ÊñπÊ≥ï„ÄÇ Ê†áÂáÜÊ∂àÊÅØËΩ¨ÂèëÊ†áÂáÜÊ∂àÊÅØËΩ¨ÂèëÁõ∏ÂØπ‰∫éÁõ¥Êé•Ê∂àÊÅØËΩ¨ÂèëÊõ¥Âä†È´òÁ∫ßÔºåÂèØ‰ª•Áî±Á®ãÂ∫èÂëòÊéßÂà∂ËΩ¨ÂèëÁöÑËøáÁ®ãÔºåÂêåÊó∂‰πüÂèØ‰ª•ÂÆûÁé∞ÂØπÂ§ö‰∏™ÂØπË±°ÁöÑËΩ¨ÂèëÔºåÁõ¥Êé•Ê∂àÊÅØËΩ¨Âèë‰ªÖËÉΩÊääËØ•ÊñπÊ≥ïÁõ¥Êé•ËΩ¨ÂèëÁªôÂÖ∂‰ªñÊüêÂØπË±°„ÄÇ Ê†áÂáÜÊ∂àÊÅØËΩ¨Âèë‰ª£Á†ÅÂ¶Ç‰∏ã 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253@interface Programmer ()&#123; // Áî±‰∫éË¶ÅÈ¢ëÁπÅÁî®Âà∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫ÊàêÂëòÂÆû‰æã Singer *_singer; Artist *_artist;&#125;@end@implementation Programmer- (instancetype)init &#123; if (self = [super init]) &#123; _singer = [[Singer alloc] init]; _artist = [[Artist alloc] init]; &#125; return self;&#125;// Âú®ËΩ¨ÂèëÊ∂àÊÅØÂâçÂÖàÂØπÊñπÊ≥ïÈáçÊñ∞Á≠æÂêç- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector &#123; // Â∞ùËØïËá™Ë°åÂÆûÁé∞ÊñπÊ≥ïÁ≠æÂêç NSMethodSignature *signature = [super methodSignatureForSelector:aSelector]; // Ëã•Êó†Ê≥ïÂÆûÁé∞ÔºåÂ∞ùËØïÈÄöËøáÂ§öÁªßÊâøÂæóÂà∞ÁöÑÊñπÊ≥ïÂÆûÁé∞ if (signature == nil) &#123; // Âà§Êñ≠ËØ•ÊñπÊ≥ïÊòØÂì™‰∏™Áà∂Á±ªÁöÑÔºåÂπ∂ÈÄöËøáÂÖ∂ÂàõÂª∫ÊñπÊ≥ïÁ≠æÂêç if ([_singer respondsToSelector:aSelector]) &#123; signature = [_singer methodSignatureForSelector:aSelector]; &#125; else if ([_artist respondsToSelector:aSelector]) &#123; signature = [_artist methodSignatureForSelector:aSelector]; &#125; &#125; return signature;&#125;// ‰∏∫ÊñπÊ≥ïÁ≠æÂêçÂêéÔºåËΩ¨ÂèëÊ∂àÊÅØ- (void)forwardInvocation:(NSInvocation *)anInvocation &#123; SEL sel = [anInvocation selector]; // Âà§Êñ≠Âì™‰∏™Á±ªÂÆûÁé∞‰∫ÜËØ•ÊñπÊ≥ï if ([_singer respondsToSelector:sel]) &#123; [anInvocation invokeWithTarget:_singer]; &#125; else if ([_artist respondsToSelector:sel]) &#123; [anInvocation invokeWithTarget:_artist]; &#125;&#125;@end/* SingerÂíåArtistÁöÑÂÆûÁé∞Âêå‰∏äËø∞‰ª£Á†Å */ Ë∞ÉÁî®ÂêéÔºåÊ≠£Â∏∏ÊâßË°å„ÄÇÂÆûÈôÖ‰∏äÂú®ÂÆûÁé∞Â§öÁªßÊâøÊñπÈù¢Âπ∂Ê≤°ÊúâÂøÖË¶Å‰ΩøÁî®Ê†áÂáÜÊ∂àÊÅØËΩ¨ÂèëÔºåÂÆÉÂèØ‰ª•Âú®Êàë‰ª¨ÈúÄË¶ÅÂØπÊ∂àÊÅØËøõË°åÂ§ÑÁêÜÊó∂ÂèëÊå•ÂÖ∂‰ºòÂäø„ÄÇ ÂåÖÂê´Áà∂Á±ªÊñπÊ≥ïËøô‰∏™ÂÖ∂ÂÆûÂ∞±ÊòØ‰∏∫ProgrammerÊ∑ªÂä†SingerÂíåArtistÊàêÂëòÂèòÈáèÔºåÂπ∂‰∏∫ÂâçËÄÖÊèê‰æõÊé•Âè£Ë∞ÉÁî®Âêé‰∏§ËÄÖÁöÑÊñπÊ≥ï„ÄÇËøôÁßçÊñπÂºèËôΩÁÑ∂Âú®ÊïàÊûú‰∏äÂÆûÁé∞‰∫ÜÂ§öÁªßÊâøÔºå‰ΩÜÊòØÊ≤°ÊúâÂÆûÁé∞ÁöÑÊÑè‰πâÔºåÊó¢ÁÑ∂ÊâÄÊúâ‰∏úË•øÈÉΩË¶ÅÂú®Â≠êÁ±ªÂÆûÁé∞‰∏ÄÈÅçÔºåÈÇ£‰πà‰πüÊúâÊÇñ‰∫é‚ÄùÁªßÊâø‚ÄùËøô‰∏ÄÊ¶ÇÂøµÔºåÂú®Ê≠§‰∏çÂÜçËµòËø∞„ÄÇ Âá†ÁßçÂ§öÁªßÊâøÊñπÂºèÁöÑÂØπÊØî ÊñπÊ≥ï Ê∑ªÂä†Â±ûÊÄß Ê∑ªÂä†ÊñπÊ≥ï ÁªßÊâøÁà∂Á±ªÁöÑÂÆûÁé∞ ÂçèËÆÆ(Protocol) ‚óã ‚óè ‚óã ÂàÜÁ±ª(Catagory) ‚óè ‚óè ‚óã Ê∂àÊÅØËΩ¨Âèë ‚óè ‚óè ‚óè ÂØπ‰∫é‰∏äËø∞ÁöÑÂÜÖÂÆπËøõË°å‰∏Ä‰∫õË°•ÂÖÖ: ÂàÜÁ±ªÁöÑÂ±ûÊÄßÂÆûÁé∞ÊòØÈÄöËøáRuntimeÂÖ≥ËÅîÂØπË±°ÔºåËÄåÊ∂àÊÅØËΩ¨ÂèëÁöÑÂ±ûÊÄßÂÆûÁé∞‰πüÊòØÁ±ª‰ººÊñπÊ≥ï„ÄÇ ÂàÜÁ±ªÂíåÊ∂àÊÅØËΩ¨ÂèëÊõ¥Êé•Ëøë‰∫éÁúüÊ≠£ÊÑè‰πâÁöÑÂ§öÁªßÊâøÔºå‰πüÊñπ‰æøÁÆ°ÁêÜÔºåÊ∑ªÂä†Âà†Èô§Áà∂Á±ªÊñπ‰æø„ÄÇ]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
        <tag>Objective-C</tag>
        <tag>Cocoa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÁöÑÂ§öÁ∫øÁ®ã]]></title>
    <url>%2F2017%2F08%2F01%2FiOS%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Âú®iOSÂºÄÂèë‰∏≠Êàë‰ª¨ÁªèÂ∏∏Ê∂âÂèäÂà∞Â§öÁ∫øÁ®ãÁöÑÈóÆÈ¢òÔºåÂ§öÁ∫øÁ®ãÂπøÊ≥õÁî®‰∫éËÄóÊó∂Êìç‰Ωú„ÄÅÂπ∂Âèë„ÄÅÂçï‰æãÁ≠âÊñπÈù¢„ÄÇÊïÖÊÄªÁªì‰∏Ä‰∏ãÂ§öÁ∫øÁ®ãÁöÑÁõ∏ÂÖ≥Áü•ËØÜÂèäÁî®Ê≥ï(pthread NSThread GCD NSOperation)„ÄÇ Âü∫Êú¨Ê¶ÇÂøµËøõÁ®ã: Êìç‰ΩúÁ≥ªÁªüËøêË°å‰∏≠ÁöÑ‰ªªÂä°ÈÄöÂ∏∏ÂØπÂ∫î‰∏Ä‰∏™ËøõÁ®ãÔºåÂΩìËøõÁ®ãËøõÂÖ•ÂÜÖÂ≠òÂêéÔºåÂèäÂèòÊàê‰∏Ä‰∏™ËøõÁ®ã„ÄÇÂú®iOS‰∏≠ÊØè‰∏™ÂêØÂä®ÁöÑAPPÂç≥‰∏∫‰∏Ä‰∏™ËøõÁ®ã„ÄÇËøõÁ®ã‰πãÈó¥Áã¨Á´ã‰∏îÂèó‰øùÊä§„ÄÇÁ∫øÁ®ã: ËøõÁ®ãÂÜÖÈÉ®ÊØè‰∏™È°∫Â∫èÊâßË°åÊµÅÂ∞±ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºå‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•ÊúâÂ§ö‰∏™Á∫øÁ®ã„ÄÇ‰ªªÂä°: ‰∏ÄÁßçÊäΩË±°ÁöÑÊ¶ÇÂøµÔºåË°®Á§∫ÈúÄË¶ÅÊâßË°åÁöÑÂ∑•‰Ωú„ÄÇ Â§öÁ∫øÁ®ãÂéüÁêÜ:Âçï‰∏™Â§ÑÁêÜÂô®Âêå‰∏ÄÊó∂Èó¥Âè™ËÉΩÂ§ÑÁêÜ‰∏Ä‰∏™Á∫øÁ®ãÔºåÈÄöËøáÂø´ÈÄüÂú®Â§ö‰∏™Á∫øÁ®ã‰πãÈó¥ËΩÆÊç¢ÊâßË°åÔºå‰ΩøÂæóÂÆèËßÇ‰∏äÂÖ∑ÊúâÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ÊâßË°åÁöÑÊïàÊûú„ÄÇÂ§öÁ∫øÁ®ãÂÖ∑‰ΩìÂÜÖÂÆπËßÅÊìç‰ΩúÁ≥ªÁªüÂéüÁêÜ„ÄÇ ‰ºòÁº∫ÁÇπÂ§öÁ∫øÁ®ãÁöÑ‰ºòÁÇπ‰∏çË®ÄËÄåÂñªÔºåÊØîÂ¶ÇÂèØ‰ª•ÊèêÈ´òÁ®ãÂ∫èÊâßË°åÊïàÁéá„ÄÅÊèêÈ´òËµÑÊ∫êÂà©Áî®Áéá„ÄÅÂπ∂Âú®ÊâßË°åÂÆå‰ªªÂä°ÂêéËá™Âä®ÈîÄÊØÅ„ÄÇ‰ΩÜÂ§öÁ∫øÁ®ãÁöÑ‰ΩøÁî®‰æùÁÑ∂Ë¶ÅÈÄÇÂ∫¶ÔºåÂ§öÁ∫øÁ®ãÂ≠òÂú®‰∏Ä‰∫õÁº∫ÁÇπ„ÄÇ È¶ñÂÖàÔºåÂºÄÂêØÂ§öÁ∫øÁ®ãÈúÄË¶Å‰∏ÄÂÆöÁöÑÂÜÖÂ≠òÂºÄÈîÄ: Ê†πÊçÆÂÆòÊñπÊñáÊ°£ËØ¥ÊòéÔºå‰∏ªË¶ÅÁ∫øÁ®ãÂç†Áî®Á©∫Èó¥1MB(ÂÖ∂ÂÆûÂÆûÈôÖÂè™Âç†Áî®‰∫Ü512k)ÔºåÊ¨°Ë¶ÅÁ∫øÁ®ãÊØèÂºÄÂêØ‰∏Ä‰∏™Âç†Áî®512kb(Êàë‰ª¨ÊâÄÂàõÂª∫ÁöÑÁ∫øÁ®ãÂç≥ÊòØÊ¨°Ë¶ÅÁ∫øÁ®ã)„ÄÇÊØèÊ¨°Á∫øÁ®ãÂàõÂª∫ËÄóÊó∂90ms„ÄÇÊâÄ‰ª•ÔºåËøáÂ∫¶‰ΩøÁî®Â§öÁ∫øÁ®ãÂèçËÄå‰ºö‰ΩøÊÄßËÉΩÈôç‰Ωé„ÄÇÂÖ∂Ê¨°ÔºåÊàë‰ª¨Áü•ÈÅìCPUÊòØÈÄöËøáÁ∫øÁ®ãÁöÑËΩÆÊç¢ËÄåÂÆûÁé∞Â§öÁ∫øÁ®ãÁöÑÔºåÈÇ£‰πàÊØèÊ¨°ÂàáÊç¢Á∫øÁ®ãÈÉΩ‰ºöÂú®‰∏ä‰∏ãÊñáÂàáÊç¢Êó∂‰∫ßÁîüÊÄßËÉΩÂºÄÈîÄ„ÄÇÊúÄÂêéÔºåÁ∫øÁ®ãÈó¥ÈÄö‰ø°‰πüÊòØ‰∏Ä‰∏™ÈúÄË¶ÅËÄÉËôëÁöÑÈóÆÈ¢òÔºåÂç≥Áîü‰∫ßËÄÖ‚ÄìÊ∂àË¥πËÄÖÈóÆÈ¢òÔºåÂ¢ûÂä†‰∫ÜÊï∞ÊçÆÂÖ±‰∫´ÁöÑÈöæÂ∫¶„ÄÇ iOSÁ≥ªÁªüÂ§öÁ∫øÁ®ãÂéüÂàôÂèäÊñπÊ°àiOSÂ§öÁ∫øÁ®ãÂéüÂàôÈ¶ñÂÖàÔºåÊàë‰ª¨ÂÖàËß£Èáä‰∏Ä‰∏™Ê¶ÇÂøµ: UIÁ∫øÁ®ã/‰∏ªÁ∫øÁ®ãÂú®ÂºÄÂèë‰∏≠Â∏∏ÊèêÂà∞‚ÄùUIÁ∫øÁ®ã‚ÄùÊàñ‚Äù‰∏ªÁ∫øÁ®ã‚ÄùÔºåiOSÁ≥ªÁªüÂú®Á®ãÂ∫èËøêË°å‰πãÂêé‰ºöÈªòËÆ§ÂºÄÂêØ‰∏Ä‰∏™Á∫øÁ®ãÊù•‰Ωú‰∏∫‰∏ªÁ∫øÁ®ãÔºåÂÖ∂‰∏ÄËà¨Áî®‰∫éÂà∑Êñ∞UIÁïåÈù¢ÔºåÂ§ÑÁêÜUI‰∫ã‰ª∂„ÄÇÊàë‰ª¨Âú®Ê≤°ÊúâÊåáÂÆö‰ªªÂä°Âú®ÂÖ∂‰ªñÁ∫øÁ®ãÊâßË°åÊó∂Ôºå‰πüÊòØÁõ¥Êé•Âú®‰∏ªÁ∫øÁ®ãÊâßË°åÁöÑ„ÄÇÊâÄÊúâUIÊõ¥Êñ∞Êìç‰ΩúÈÉΩÂ∫îËØ•Âú®‰∏ªÁ∫øÁ®ãËøõË°å„ÄÇÂõ†‰∏∫iOSÁöÑUIÊéß‰ª∂ÈªòËÆ§ÈÉΩÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºåËøôÊòØÂá∫‰∫éÊÄßËÉΩÁöÑËÄÉËôë„ÄÇÂ¶ÇÊûúÂú®ÂÖ∂‰ªñÁ∫øÁ®ãÊõ¥Êñ∞ÔºåÊúâ‰∏ÄÂÆöÂá†ÁéáÂá∫Áé∞ÈóÆÈ¢ò„ÄÇËÄóÊó∂Êìç‰Ωú‰∏çÂ∫îÊîæÂú®‰∏ªÁ∫øÁ®ãÊâßË°å„ÄÇÊ≠£ÊòØÂõ†‰∏∫UIÊõ¥Êñ∞ÈÉΩÊòØÂú®‰∏ªÁ∫øÁ®ãÂÆåÊàêÁöÑÔºåÈÇ£‰πàÂ¶ÇÊûúÊàë‰ª¨Â∞ÜËÄóÊó∂Êìç‰ΩúÊîæÂú®‰∏ªÁ∫øÁ®ãÔºåÂ∞Ü‰ºöÈòªÂ°û‰∏ªÁ∫øÁ®ãÔºåÂØºËá¥È°µÈù¢Âç°‰ΩèÔºåÈôç‰ΩéÁî®Êà∑‰ΩìÈ™å„ÄÇ iOSÁöÑÂ§öÁ∫øÁ®ãÊäÄÊúØÊñπÊ°àiOSÁ≥ªÁªüÂ≠òÂú®ÁùÄ4‰∏≠Â§öÁ∫øÁ®ãÊäÄÊúØÊñπÊ°à: pthread„ÄÅNSThread„ÄÅGCD„ÄÅNSOperation„ÄÇ(Swift‰∏≠ÂêçÁß∞Áï•Êúâ‰∏çÂêå) Â§öÁ∫øÁ®ãÊñπÊ°à ËØ≠Ë®Ä ARC‰∏ãÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ ‰ΩøÁî®È¢ëÁéá pthread C Á®ãÂ∫èÂëòÊâãÂä®ÁÆ°ÁêÜ ‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ NSThread OC/Swift(Thread) Á®ãÂ∫èÂëòÊâãÂä®ÁÆ°ÁêÜ ‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ GCD C/OC/Swift ARCËá™Âä®ÁÆ°ÁêÜ(Â§öÊï∞ÊÉÖÂÜµ) ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ NSOperation OC/Swift ARCËá™Âä®ÁÆ°ÁêÜ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ Tips: ‰∏ªË¶Å‰ª•OCËÆ≤Ëß£ÔºåÂú®Swift 3.0+‰∏≠ÂêçÁß∞‰∏éÁî®Ê≥ïÁï•Êúâ‰∏çÂêå„ÄÇ(Â¶ÇNSThread -&gt; Thread, dispatch_XXX -&gt; DispatchQueue) Â§öÁ∫øÁ®ãÁöÑ‰ΩøÁî®pthread (POSIX threads)Ëøô‰∏™ÊòØÊúÄËÄÅÁõòÁöÑÂ§öÁ∫øÁ®ãÊñπÊ°à‰∫ÜÔºåÂú®Á±ªUnixÊìç‰ΩúÁ≥ªÁªüÔºàUnix„ÄÅLinux„ÄÅMac OS XÁ≠âÔºâ‰∏≠ÔºåÈÉΩ‰ΩøÁî®pthread‰Ωú‰∏∫Êìç‰ΩúÁ≥ªÁªüÁöÑÁ∫øÁ®ã„ÄÇiOSÂºÄÂèë‰∏≠Âü∫Êú¨‰∏ç‰ºöÁî®Âà∞(Â¶ÇÊûú‰Ω†È¢ëÁπÅ‰ΩøÁî®pthreadÔºåÈÇ£‰πàÂèóÊàë‰∏ÄÊãú‚Ä¶)„ÄÇ ‰ΩøÁî®pthreadÈúÄË¶ÅÂØºÂÖ•Â§¥Êñá‰ª∂: #import &lt;pthread.h&gt; Êàñ #import &lt;pthread/pthread.h&gt; ‰ΩøÁî®ÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132333435- (void)pthreadTest &#123; /* ÂàõÂª∫Á∫øÁ®ã‰ΩøÁî®pthread_createÂáΩÊï∞ ÂáΩÊï∞ÂéüÂûã: pthread_create(pthread_t _Nullable *restrict _Nonnull, const pthread_attr_t *restrict _Nullable, void * _Nullable (* _Nonnull)(void * _Nullable), void *restrict _Nullable) ÂèÇÊï∞Ôºö 1) Á∫øÁ®ãÊ†áËØÜÁ¨¶ÊåáÈíàÔºåpthread_t 2) Á∫øÁ®ãÂ±ûÊÄß(Ê≥®ÊÑèÁ©∫Âú∞ÂùÄ‰∏∫NULL,Á©∫ÂØπË±°ÊòØnil) 3) Ë¶ÅÊâßË°åÁöÑÂáΩÊï∞ÊåáÈíà 4) ÊâßË°åÂáΩÊï∞ÁöÑÂèÇÊï∞ ËøîÂõûÂÄºÔºö - ÂàõÂª∫ÊàêÂäüÔºåËøîÂõû0 - ÂàõÂª∫Â§±Ë¥•ÔºåËøîÂõûÂá∫Èîô‰ª£Á†Å */ pthread_t id = NULL; NSString *paraStr = @&quot;Hello World&quot;; int res = pthread_create(&amp;id, NULL, taskFunction, (__bridge void *)(paraStr)); if (res == 0) &#123; NSLog(@&quot;Á∫øÁ®ãÂàõÂª∫ÂÆåÊàê&quot;); &#125; else &#123; NSLog(@&quot;Á∫øÁ®ãÂàõÂª∫Â§±Ë¥• ÈîôËØØ:%d&quot;, res); &#125; pthread_detach(id);&#125;void *taskFunction(void *params) &#123; NSString *str = (__bridge NSString *)(params); NSLog(@&quot;Thread:%@ -&gt; Message:%@&quot;, [NSThread currentThread], str); return NULL;&#125; Ë°•ÂÖÖ: __bridgeÂú®OC‰∏éCËøõË°åÊ∑∑ÁºñÊó∂Ôºå‰ºöÈÅáÂà∞OCÂØπË±°‰∏éCÂèòÈáè‰πãÈó¥ÁöÑËΩ¨Êç¢ÈóÆÈ¢ò„ÄÇÂú®OC‰∏≠id‰∏∫‰∏áËÉΩÊåáÈíàÔºåËÄåC‰∏≠void *‰∏∫‰∏áËÉΩÊåáÈíà„ÄÇÂú®idÁ±ªÂûãÊàñÂØπË±°Á±ªÂûãÂèòÈáèËµãÂÄºÁªôvoid *Á±ªÂûãÊàñÂèçÂêëËµãÂÄºÊó∂ÔºåÈúÄË¶ÅËøõË°åÁâπÂÆöËΩ¨Êç¢„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅËøõË°åËΩ¨Êç¢Âë¢ÔºüËøô‰∏ªË¶ÅÊòØÂõ†‰∏∫Èù¢ÂêëÂØπË±°Ê∂âÂèäÂà∞ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÈóÆÈ¢òÔºåOC‰∏≠ÂØπË±°Áî±MRC„ÄÅARCÊù•ËøõË°åÁÆ°ÁêÜÔºåËÄåÂÖ∂‰∏çËÉΩÁÆ°ÁêÜCÂèòÈáèÔºåÈÇ£‰πàÂú®ËΩ¨Êç¢Êó∂‰ºöÈÄ†ÊàêÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÂÜ≤Á™Å„ÄÇ__bridgeÂç≥ÂëäÁü•ÁºñËØëÂô®ÔºåËØ•ÂèòÈáèÂÜÖÂ≠òÁî±Á®ãÂ∫èÂëòËá™Ë°åËøõË°åÁÆ°ÁêÜ„ÄÇ ÂêåÊó∂Ê°•Êé•ËΩ¨Êç¢ËøòÊúâÂè¶Â§ñ‰∏§ÁßçÁ±ªÂûã: __bridge_retainedÂíå__bridge_transferÔºåÂâçËÄÖ‰∏∫ÊòØË¢´ËµãÂÄºÁöÑÂèòÈáèÊåÅÊúâËØ•ÂØπË±°ÔºåÂêéËÄÖ‰∏∫Ë¢´ËµãÂÄºÁöÑÂèòÈáèÊåÅÊúâËØ•ÂØπË±°Âπ∂‰ΩøËµãÂÄºÁöÑÂØπË±°ÈáäÊîæÂÖ∂ÊåÅÊúâ„ÄÇÁî±‰∫éÊ∂âÂèäÂà∞ÂºïÁî®ËÆ°Êï∞Áü•ËØÜÔºåÂú®Ê≠§‰∏çËµòËø∞„ÄÇÂ¶ÇÊûúÂè™ÊòØ‰∏∫‰∫ÜÂçïÁ∫ØËµãÂÄºÔºåÈÇ£‰πà‰ΩøÁî®__bridgeÂç≥ÂèØ„ÄÇ NSThreadÁî±‰∫épthreadËøá‰∫éÂ∫ïÂ±ÇÔºåÂ§çÊùÇÊÄß‰∏çÂà©‰∫éÂºÄÂèë„ÄÇÊïÖËãπÊûúÂ∞ÅË£ÖÊàê‰∫ÜNSThreadÔºåËøôÊòØ‰∏ÄÊ¨æËæÉËΩªÈáèÁöÑÂ§öÁ∫øÁ®ãÂÆûÁé∞ÊñπÊ°àÔºå‰ΩøÁî®Èù¢ÂêëÂØπË±°ËØ≠Ê≥ïÔºåÂÖ∂ÁîüÂëΩÂë®ÊúüÈúÄË¶ÅÁ®ãÂ∫èÂëòËá™Ë°åÁÆ°ÁêÜ„ÄÇÂú®MacOSÂíåiOSÈÉΩÂèØ‰ΩøÁî®„ÄÇ(Swift‰∏≠‰∏∫Thread)„ÄÇNSThreadÁ±ª‰ª£Ë°®Á∫øÁ®ãÔºåÂàõÂª∫Êñ∞Á∫øÁ®ã‰πüÂ∞±ÊòØÂàõÂª∫NSThreadÂØπË±°„ÄÇ ÂàõÂª∫Á∫øÁ®ãNSThreadÂàõÂª∫ÂàÜÂä®ÊÄÅÊñπÊ≥ïÂíåÈùôÊÄÅÊñπÊ≥ï‰∏§Áßç:12345678910/// ÂàõÂª∫Âπ∂ÂêØÂä®Êñ∞Á∫øÁ®ã+ (void)detachNewThreadSelector:(SEL)selector toTarget:(id)target withObject:(id)argument; /// ‰ªÖÂàõÂª∫Êñ∞Á∫øÁ®ãÔºåËøîÂõûNSThreadÂØπË±°ÔºåÂπ∂Êú™ÂêØÂä®Á∫øÁ®ã- (id)initWithTarget:(id)target selector:(SEL)selector object:(id)argument; /* - SEL ÊâÄË¶ÅÊâßË°åÁöÑÊñπÊ≥ï - target selectorÊ∂àÊÅØÁöÑÊé•Êî∂ÂØπË±° - argument ÊñπÊ≥ïÂîØ‰∏ÄÂèÇÊï∞ÔºåÊàñnil */ ÂèØ‰ª•ÂèëÁé∞ÔºåÂâçËÄÖ‰∏éÂêéËÄÖÂπ∂Ê≤°ÊúâÂ§™Â§ßÂå∫Âà´ÔºåÂè™ÊòØÂâçËÄÖ‰∏ç‰ºöËøîÂõûNSThreadÂØπË±°ÔºåÂàõÂª∫Á∫øÁ®ãÂêéÁ´ãÂç≥ÂêØÂä®ÔºåËÄåÂêéËÄÖÂè™ÊòØÂàõÂª∫‰∏Ä‰∏™NSThreadÂØπË±°Âπ∂ËøîÂõûÔºåÈúÄË¶ÅÊâãÂä®Ë∞ÉÁî®startÊñπÊ≥ïÂêØÂä®Á∫øÁ®ã„ÄÇ ÂêåÊó∂ËøòÊúâ‰∏ÄÁ±ªÈöêÂºèÂàõÂª∫Á∫øÁ®ãÁöÑÊñπÊ≥ï:1- (void)performSelectorInBackground:(SEL)aSelector withObject:(id)arg; performXxx Ëøô‰∏ÄÁ±ªÊñπÊ≥ïÔºåÂú®ÂàõÂª∫Á∫øÁ®ãÊó∂‰πüÊòØ‰ΩøÁî®ÁöÑNSThread„ÄÇ Á∫øÁ®ãÁöÑÁä∂ÊÄÅÈ¶ñÂÖàÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÁ∫øÁ®ãÊâßË°åÁöÑÁä∂ÊÄÅ: ÂâçÈù¢ÊèêÂà∞ÔºåÂ§öÁ∫øÁ®ãÁöÑÂéüÁêÜÊòØCPUËΩÆÊç¢Ë∞ÉÂ∫¶Â§ö‰∏™Á∫øÁ®ã„ÄÇÊâÄ‰ª•ÊüêÁ∫øÁ®ãÂú®Êüê‰∏ÄÊó∂Âàª‰∏ç‰∏ÄÂÆöÊ≠£Âú®Ë¢´ÊâßË°å„ÄÇÁÆÄÂçïËß£Èáä‰∏Ä‰∏ãÁ∫øÁ®ãÁöÑÂá†‰∏™Áä∂ÊÄÅ:Â∞±Áª™: Á∫øÁ®ãÂáÜÂ§áÂ∞±Áª™ÂèØ‰ª•Ë¢´ÊâßË°åÊó∂Ôºå‰ºöÊîæÂÖ•ÂèØË∞ÉÂ∫¶Á∫øÁ®ãÊ±†Ôºå‰æõCPUË∞ÉÁî®„ÄÇÈòªÂ°û: ÂΩìÁ∫øÁ®ãÁöÑÊ≠£Â∏∏ÊâßË°åË¢´ÁªÑÊ≠¢ÔºåÊØîÂ¶ÇË∞ÉÁî®‰∫ÜsleepÊñπÊ≥ïÊàñÁ∫øÁ®ãÂú®Á≠âÂæÖÂêåÊ≠•ÈîÅÔºåÈÇ£‰πàÁ∫øÁ®ã‰ºöËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅ„ÄÇÊ≥®ÊÑèÔºåÊ≠§‚ÄùÈòªÂ°û‚Äù‰∏éÂ∏∏ËØ¥ÁöÑ‚ÄùËÄóÊó∂Êìç‰ΩúÈòªÂ°ûUIÁ∫øÁ®ã‚ÄùÂπ∂ÈùûÂêå‰∏ÄÊ¶ÇÂøµÔºåÂêéËÄÖÂè™ÊòØÂç†Áî®UIÁ∫øÁ®ãËµÑÊ∫êÂØºËá¥UIÊìç‰ΩúÊó†Ê≥ïÊ≠£Â∏∏ÊâßË°å„ÄÇÊ≠ª‰∫°: ÂΩìÁ∫øÁ®ã‰ªªÂä°ÊâßË°åÂÆåÊØïÂêé‰ºöËá™Âä®ÈîÄÊØÅ„ÄÇÂêåÊó∂ÂΩìÈÅáÂà∞ÂºÇÂ∏∏Êó∂ÔºåÊàñÊàë‰ª¨Ëá™Ë°å‰ΩøÁî®exitÊñπÊ≥ïÁªàÊ≠¢Á∫øÁ®ãÔºåÁ∫øÁ®ãÈÉΩ‰ºöÊ≠ª‰∫°Ôºå‰∏çÂÜçÂèØÁî®„ÄÇ NSThreadÊèê‰æõÁöÑAPI ‰ºòÂÖàÁ∫ß: Á∫øÁ®ã‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÂ±ûÊÄß‰ª•Âπ≤È¢ÑÂÖ∂ÊâßË°åÔºåÂØπÂ∫îthreadPriorityÂ±ûÊÄßÔºåËåÉÂõ¥ÊòØ0.0~1.0ÔºåÊùÉÂÄºË∂äÈ´ò‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇ‰ΩÜÊ≥®ÊÑèÔºåËØ•ÊùÉÂÄº‰ªÖ‰∏∫Á∫øÁ®ãÂú®Ë∞ÉÂ∫¶Êó∂ÁöÑ‰ºòÂÖàÊùÉÈáçÔºåÂπ∂ÈùûÁªùÂØπ‰ºòÂÖà„ÄÇ Á∫øÁ®ãÊòØÂê¶ÊâßË°åÂÆåÊØï: ÂØπÂ∫îexecuting, finished‰∏§‰∏™Â±ûÊÄßÔºåÂâçËÄÖÂú®Á∫øÁ®ãÊ≠£Âú®ÊâßË°åÊó∂‰∏∫YESÔºåÂêéËÄÖÂú®ÊâßË°åÂÆåÊØïÊó∂‰∏∫YES„ÄÇ Á∫øÁ®ãÂèñÊ∂àÊ†áËÆ∞: NSThreadÊèê‰æõ‰∫ÜcancelÂÆû‰æãÊñπÊ≥ïÔºåÂØπÂ∫îÁöÑÊúâcancelledÂ±ûÊÄßÔºå‰ΩÜÊòØÊ≥®ÊÑèËØ•ÊñπÊ≥ïÂπ∂ÈùûÁúüÊ≠£ÁªàÊ≠¢ËØ•Á∫øÁ®ãÔºåËÄåÊòØÂ∞ÜcancelledÊ†áËÆ∞‰∏∫YESÔºåËÄåÂêéÁî±Á®ãÂ∫èÂëòÊâãÂä®Âà§Êñ≠cancelledÂ±ûÊÄßÂπ∂‰ΩúÂá∫ÂÜ≥Á≠ñ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂº∫Âà∂ÁªìÊùüÔºåÂ∫î‰ΩøÁî®exitÊñπÊ≥ï„ÄÇ Á∫øÁ®ãÁù°Áú†Â¶ÇÊûúÈúÄË¶ÅËÆ©ÂΩìÂâçÁ∫øÁ®ãÁù°Áú†‰∏ÄÊÆµÊó∂Èó¥ÔºåÂèØ‰ª•Ë∞ÉÁî®sleepXXX ÊñπÊ≥ïÈòªÂ°ûÁ∫øÁ®ã„ÄÇ 1234// ÈòªÂ°û‰∏ÄÊÆµÊó∂Èó¥+ (void)sleepForTimeInterval:(NSTimeInterval)ti;// ÈòªÂ°ûÂà∞ÊåáÂÆöÊó∂Èó¥+ (void)sleepUntilDate:(NSDate *)date; Ë¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ãÊòØÊöÇÊó∂‰∏çÂèØÊâßË°åÁöÑÔºåÊâÄ‰ª•‰∏ç‰ºöËøõÂÖ•ÂèØË∞ÉÂ∫¶Á∫øÁ®ãÊ±†„ÄÇÂú®ÂÖ∂ÈòªÂ°ûÁªìÊùüÂêéÔºå‰ºöËøõÂÖ•ÂèØË∞ÉÂ∫¶Á∫øÁ®ãÊ±†Âπ∂Âú®CPUÊó∂Èó¥ÁâáÂà∞Êù•Êó∂ÂºÄÂßãÊâßË°å„ÄÇ ÁªàÊ≠¢Á∫øÁ®ãÂâçÈù¢ÊèêÂà∞ÔºåÁ∫øÁ®ãÁöÑÁªàÊ≠¢Êúâ‰∏âÁßçÊÉÖÂÜµ: Á∫øÁ®ãÊâßË°å‰ΩìÊâßË°åÂÆåÊàêÔºåÁ∫øÁ®ãÊ≠£Â∏∏ÁªìÊùü„ÄÇ Á∫øÁ®ãÊâßË°åËøáÁ®ãÂá∫Áé∞ÈîôËØØÔºåÂºÇÂ∏∏ÈÄÄÂá∫„ÄÇ ÊâãÂä®Ë∞ÉÁî®exitÊñπÊ≥ïÁªàÊ≠¢‰∫ÜÁ∫øÁ®ã„ÄÇ Êèê‰∏Ä‰∏™Â∞èÈóÆÈ¢ò: ÂΩì‰∏ªÁ∫øÁ®ãÁªìÊùüÊó∂ÔºåÂÖ∂‰ªñÁ∫øÁ®ã‰ºöÂèóÂΩ±ÂìçÂêóÔºü Á≠îÊ°àÊòØ‰∏ç‰ºöÔºåÂΩìÁ∫øÁ®ãË¢´ÂêØÂä®ÔºåÂÖ∂Êú¨Ë¥®‰∏ä‰∏é‰∏ªÁ∫øÁ®ãÊòØÁõ∏ÂêåÂú∞‰ΩçÁöÑÔºåÂπ∂‰∏ç‰ºöÂèóÂà∞ÂÖ∂ÂΩ±Âìç„ÄÇ Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò‰∏ÄÁõ¥ÊòØÂ§öÁ∫øÁ®ãÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÁöÑÔºåËß£ÂÜ≥Á∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢ò‰∏ÄËà¨ÈááÁî®Âä†ÈîÅÁöÑÊñπÂºè„ÄÇiOSÊèê‰æõ‰∫ÜÂæàÂ§öÁßçÈîÅÁöÑÊñπÊ°àÔºåÊú¨Ë¥®‰∏ä‰∏∫ÂêåÊ≠•ÈîÅ„ÄÅ‰∫íÊñ•ÈîÅ‰∏§Áßç„ÄÇ ‰∫íÊñ•ÈîÅ: ÂèëÁé∞ÂÖ∂‰ªñÁ∫øÁ®ãÊ≠£Âú®ÊâßË°åÈîÅÂÆö‰ª£Á†ÅÂêéÔºåÁ∫øÁ®ã‰ºöËøõÂÖ•‰ºëÁú†(ÈòªÂ°û)ÔºåÂæÖÂä†ÈîÅÁöÑÁ∫øÁ®ãÊâßË°åÂÆåÊØïÊâìÂºÄÈîÅÊó∂Ôºå‰ºöÂî§ÈÜíËØ•‰ºëÁú†Á∫øÁ®ã„ÄÇËá™ÊóãÈîÅ: ÂèëÁé∞ÂÖ∂‰ªñÁ∫øÁ®ãÊ≠£Âú®ÊâßË°åÈîÅÂÆö‰ª£Á†ÅÂêéÔºåÁ∫øÁ®ã‰ºöÈááÁî®Ê≠ªÂæ™ÁéØÊñπÂºèËΩÆËØ¢ÔºåÁõ¥Âà∞ÈîÅË¢´ÊâìÂºÄ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåËá™ÊóãÈîÅÁî±‰∫éÈááÁî®‰∫ÜÊ≠ªÂæ™ÁéØËΩÆËØ¢Ôºå‰ºöÊØî‰∫íÊñ•ÈîÅÊúâÊõ¥È´òÁöÑÊïàÁéáÔºå‰ΩÜÂêåÊó∂‰πüÈÄ†ÊàêÊõ¥Â§ßÁöÑÊÄßËÉΩÊ∂àËÄó„ÄÇ OCÂØπË±°ÁöÑatomicÂ±ûÊÄß‰øÆÈ•∞Á¨¶Â∞±ÊòØ‰ΩøÁî®‰∫ÜËá™ÊóãÈîÅÔºåËá™ÊóãÈîÅÂêå‰∏ÄÊó∂Èó¥ÂèØ‰ª•Êúâ‰∏Ä‰∏™ÂÜôËÄÖÊàñÂ§ö‰∏™ËØªËÄÖÔºå‰ΩÜÊòØ‰∏çËÉΩÂêåÊó∂Êó¢ÊúâËØªËÄÖÂèàÊúâÂÜôËÄÖ„ÄÇ iOSÂ∏∏Áî®ÁöÑÂä†ÈîÅÊñπÊ°àÊúâ: @synchronized, NSLock, NSCondition„ÄÇÂä†ÈîÅÊñπÂºèÂíåÂå∫Âà´Â∞ÜÂú®ÂÖ∂‰ªñÊñáÁ´†‰ªãÁªç„ÄÇ Âá†‰πéÊâÄÊúâUIKitÊèê‰æõÁöÑÁ±ªÈÉΩÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºåÊâÄÊúâÂåÖÂê´‚ÄôMutable‚ÄôÁöÑÁ±ªÈÉΩÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑ„ÄÇ Ê≠ªÈîÅÂΩì‰∏ÄÁªÑËøõÁ®ã‰∏≠ÁöÑÊØè‰∏™ËøõÁ®ãÈÉΩÂú®Á≠âÂæÖ‰∏Ä‰∏™‰∫ã‰ª∂ÔºåËÄåËøô‰∏Ä‰∫ã‰ª∂Âè™ËÉΩÁî±Ëøô‰∏ÄÁªÑËøõÁ®ãÁöÑÂè¶‰∏ÄËøõÁ®ãÂºïËµ∑ÔºåÈÇ£‰πàËøôÁªÑËøõÁ®ãÂ∞±Â§Ñ‰∫éÊ≠ªÈîÅÁä∂ÊÄÅ„ÄÇÊ≠ªÈîÅÈóÆÈ¢òÊòØÊìç‰ΩúÁ≥ªÁªüÁöÑÁªèÂÖ∏ÈóÆÈ¢òÔºåËØ¶ËßÅÊìç‰ΩúÁ≥ªÁªüÂéüÁêÜ„ÄÇ Ê≠ªÈîÅÂèëÁîüÁöÑÂøÖË¶ÅÊù°‰ª∂: ‰∫íÊñ•: Ëá≥Â∞ëÊúâ‰∏Ä‰∏™ËµÑÊ∫êÂøÖÈ°ªÂ§Ñ‰∫éÈùûÂÖ±‰∫´Ê®°ÂºèÔºåÂ¶ÇÊûúÂè¶‰∏ÄÁ∫øÁ®ãÁî≥ËØ∑ËØ•ËµÑÊ∫êÔºåÈÇ£‰πàÁî≥ËØ∑Á∫øÁ®ãÂøÖÈ°ªÁ≠âÂæÖËØ•ËµÑÊ∫êË¢´ÈáäÊîæ‰∏∫Ê≠¢„ÄÇÂ¶Ç‰∫íÊñ•ÈîÅËøô‰∏ÄÊÉÖÂÜµ„ÄÇ Âç†ÊúâÂπ∂Á≠âÂæÖ: ËØ•Á∫øÁ®ãÁ≠âÂæÖÊüêËµÑÊ∫êÔºåËÄåËØ•ËµÑÊ∫ê‰∏∫ÂÖ∂‰ªñÁ∫øÁ®ãÊâÄÊúâ„ÄÇ ÈùûÊä¢Âç†: ËµÑÊ∫ê‰∏çËÉΩË¢´Êä¢Âç†ÔºåÂè™ËÉΩÂú®Á∫øÁ®ãÂÆåÊàê‰ªªÂä°ÂêéËá™Âä®ÈáäÊîæ„ÄÇ Âæ™ÁéØÁ≠âÂæÖ: ‰∏ÄÁªÑÁ≠âÂæÖÁ∫øÁ®ãT1~Tn,ÂÖ∂‰∏≠TiÁöÑËµÑÊ∫êË¢´Ti+1ÊâÄÂç†ÊúâÔºåÈÄ†ÊàêÂæ™ÁéØÁ≠âÂæÖ„ÄÇ GCD (Grand Central Dispatch)NSThreadÊòØ‰∏ÄÊ¨æËæÉ‰∏∫ËΩªÈáèÁöÑÂ§öÁ∫øÁ®ãÂÆûÁé∞ÔºåÁ®ãÂ∫èÂëòÈúÄË¶ÅËá™Ë°åÊéßÂà∂ÂêåÊ≠•ÂíåÂπ∂ÂèëÔºåËæÉ‰∏∫Â§çÊùÇ„ÄÇiOSÂú®4.0‰πãÂêéÊèê‰æõ‰∫ÜGCDÊù•ÂÆûÁé∞Â§öÁ∫øÁ®ã„ÄÇÂÖ∂Âº±Âåñ‰∫ÜÂçï‰∏™Á∫øÁ®ãÁöÑÊ¶ÇÂøµÔºåÂº∫Ë∞ÉÈòüÂàóÂíå‰ªªÂä°‰∏§Â§ßÊ†∏ÂøÉÊ¶ÇÂøµ„ÄÇ ÈòüÂàó: GCD‰∏∫Áî®Êà∑Â∞ÅË£ÖÂá∫‰∫Ü‰∏≤Ë°åÈòüÂàóÂíåÂπ∂ÂèëÈòüÂàó‰∏§ÁßçÈòüÂàó„ÄÇÈòüÂàóË¥üË¥£ÁÆ°ÁêÜÂºÄÂèëËÄÖÊèê‰∫§ÁöÑ‰ªªÂä°ÔºåÈááÁî®FIFO(ÂÖàËøõÂÖàÂá∫)ÁöÑÊñπÂºè„ÄÇ‰∏≤Ë°åÈòüÂàóÊèê‰∫§ÁöÑÂêé‰∏Ä‰∏™‰ªªÂä°Âè™ËÉΩÁ≠âÂà∞Ââç‰∏Ä‰∏™‰ªªÂä°ÊâßË°åÁªìÊùüÂêéÊâçËÉΩÂºÄÂßãÊâßË°åÔºõÂπ∂ÂèëÈòüÂàóÁöÑ‰ªªÂä°ÊåâFIFOÊú∫Âà∂Âπ∂ÂèëÂêØÂä®Âπ∂ÊâßË°åÂ§ö‰∏™‰ªªÂä°„ÄÇ‰ªªÂä°: ÂºÄÂèëËÄÖÊèê‰∫§ÁªôÈòüÂàóÁöÑÂ∑•‰ΩúÂçïÂÖÉ„ÄÇ GCDÁöÑÂÆûÁé∞Êú∫Âà∂GCDÂ∫ïÂ±ÇÁª¥Êä§‰∫Ü‰∏Ä‰∏™ÂèØÈáçÁî®Á∫øÁ®ãÊ±†ÔºåÂΩìÁ∫øÁ®ãÁªìÊùüÂêéÔºåÁ≥ªÁªüÂπ∂‰∏çÁ¨¨‰∏ÄÊó∂Èó¥ÈîÄÊØÅËØ•Á∫øÁ®ãÔºåËÄåÊòØÂ∞ÜÂÖ∂ÊîæÂÖ•Á∫øÁ®ãÊ±†‰∏≠ÂæÖÁî®ÔºåËã•‰∏ÄÊÆµÊó∂Èó¥Âêé‰ªçÊú™‰ΩøÁî®ÔºåÂàôÈîÄÊØÅ„ÄÇ ‰∏≤Ë°åÈòüÂàóÂ∫ïÂ±ÇÁöÑÁ∫øÁ®ãÊ±†Âè™ÈúÄË¶Å‰∏Ä‰∏™Á∫øÁ®ãÔºåÂõ†Ê≠§Âè™Êèê‰æõ‰∏Ä‰∏™Á∫øÁ®ãÁî®Êù•ÊâßË°å‰ªªÂä°„ÄÇËÄåÂπ∂ÂèëÈòüÂàóÈúÄË¶ÅÂ§ö‰∏™Á∫øÁ®ãÊù•ÂÆûÁé∞Âπ∂ÂèëÔºåÊâÄ‰ª•Á∫øÁ®ãÊ±†‰∏≠Áª¥Êä§‰∫ÜÂ§ö‰∏™Á∫øÁ®ã„ÄÇ GCD‰ΩøÁî®Ê≠•È™§Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Á≥ªÁªüËá™Â∏¶ÁöÑÈòüÂàóÔºåËé∑ÂèñÊñπÊ≥ïÂ¶Ç‰∏ã 12345// Ê†πÊçÆÊåá‰ª§ÁöÑ‰ºòÂÖàÁ∫ß„ÄÅÈ¢ùÂ§ñÊóóÊ†áËé∑ÂèñÂÖ®Â±ÄÂπ∂ÂèëÈòüÂàó„ÄÇ// ‰ºòÂÖàÁ∫ßid‰∏∫DISPATCH_QUEUE_PRIORITY_XXXdispatch_queue_t dispatch_get_global_queue(long identifier, unsigned long flags);// Ëé∑Âèñ‰∏ªÁ∫øÁ®ãÊâÄÂÖ≥ËÅîÁöÑÈòüÂàó(‰∏≤Ë°åÈòüÂàó)dispatch_queue_t dispatch_get_main_queue(void); ÂêåÊó∂ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™Ë°åÂàõÂª∫ÈòüÂàóÔºå‰ΩÜÊòØARCÂπ∂‰∏çËÉΩÁÆ°ÁêÜËá™Ë°åÂàõÂª∫ÁöÑÈòüÂàóÔºåÊâÄ‰ª•ÈúÄË¶ÅÊàë‰ª¨Ëá™Ë°åÁÆ°ÁêÜÂÜÖÂ≠ò:123456789/* - Ê†πÊçÆÊåáÂÆöÂ≠óÁ¨¶‰∏≤Ê†áÁ≠æÂàõÂª∫ÈòüÂàó - label ‰∏∫Â≠óÁ¨¶‰∏≤Ê†áÁ≠æ - attr ÊéßÂà∂ÈòüÂàóÊòØ‰∏≤Ë°åÈòüÂàóËøòÊòØÂπ∂ÂèëÈòüÂàóÔºåÂâçËÄÖ‰∏∫DISPATCH_QUEUE_SERIALÔºåÂêéËÄÖ‰∏∫DISPATCH_QUEUE_CONCURRENT„ÄÇ */dispatch_queue_t dispatch_queue_create(const char *label, dispatch_queue_attr_t attr);// ÈúÄË¶ÅËá™Ë°åÈáäÊîæÂÜÖÂ≠òdispatch_release() ÂêåÊ≠•/ÂºÇÊ≠•Êèê‰∫§‰ªªÂä°GCDÂØπ‰∫é‰ªªÂä°ÁöÑÊèê‰∫§ÔºåÊèê‰æõ‰∫ÜÂêåÊ≠•/ÂºÇÊ≠•‰∏§ÁßçÊñπÂºèÔºåÂêåÊó∂ÊîØÊåÅBlockÂíåÂáΩÊï∞ÊåáÈíà‰∏§ÁßçÂΩ¢ÂºèÁöÑ‰ªªÂä°„ÄÇ 1234567891011121314151617/// ÂºÇÊ≠•// Blockvoid dispatch_async(dispatch_queue_t queue, dispatch_block_t block);// ÂáΩÊï∞void dispatch_async_f(dispatch_queue_t queue, void *context, dispatch_function_t work);/// ÂêåÊ≠•// Blockvoid dispatch_sync(dispatch_queue_t queue, dispatch_block_t block);// ÂáΩÊï∞void dispatch_sync_f(dispatch_queue_t queue, void *context, dispatch_function_t work);/// Âª∂Êó∂‰ªªÂä°// Blockvoid dispatch_after(dispatch_time_t when, dispatch_queue_t queue, dispatch_block_t block);// ÂáΩÊï∞void dispatch_after_f(dispatch_time_t when, dispatch_queue_t queue, void *context, dispatch_function_t work); ÂêåÊó∂ÔºåËøòÊèê‰æõ‰∫ÜÂ§öÊ¨°ÊâßË°å‰ªªÂä°ÂíåÂçïÊ¨°ÊâßË°å‰ªªÂä°ÔºåÂêéËÄÖÂèØ‰ª•Áî®‰∫éÂçï‰æãÊ®°Âºè„ÄÇ123456789101112/// Â§öÊ¨°ÊâßË°å// Blockvoid dispatch_apply(size_t iterations, dispatch_queue_t queue, void (^block)(size_t));// ÂáΩÊï∞void dispatch_apply_f(size_t iterations, dispatch_queue_t queue, void *context, void (*work)(void *, size_t));/// ÂçïÊ¨°ÊâßË°å/* ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™dispatch_once_tÁöÑÊåáÈíàÊúÄ‰∏∫Ê†áËÆ∞ */// Blockvoid dispatch_once(dispatch_once_t *predicate, dispatch_block_t block);// ÂáΩÊï∞void dispatch_once_f(dispatch_once_t *predicate, void *context, dispatch_function_t function); ÂÖ∂‰ªñÂ∏∏ËßÅAPIÈòüÂàó‰ºòÂÖàÁ∫ßËÆæÁΩÆÈòüÂàó‰ºòÂÖàÁ∫ß‰∏éÁõÆÊ†áÈòüÂàó‰∏ÄËá¥ÔºåÂÆûÁé∞ÂØπÈòüÂàó‰ºòÂÖàÁ∫ßÁöÑÊéßÂà∂‰ª•ÂèäÂ§ö‰∏™‰∏≤Ë°åÈòüÂàóÁöÑÊúâÂ∫èÊâßË°å„ÄÇ1234567891011121314/* - ÂèÇÊï∞1: ÈúÄË¶ÅË¢´ËÆæÁΩÆ‰ºòÂÖàÁ∫ßÁöÑÈòüÂàó„ÄÇ - ÂèÇÊï∞2: ËÆæÁΩÆ‰ºòÂÖàÁ∫ßÊó∂ÁöÑÁõÆÊ†áÈòüÂàó„ÄÇ */void dispatch_set_target_queue(dispatch_object_t object, dispatch_queue_t queue);// ÊÉÖÂÜµ1: ÁõÆÊ†áÈòüÂàó‰∏∫‰∏çÂêå‰ºòÂÖàÁ∫ßÁöÑÈòüÂàóÔºåË¢´ËÆæÁΩÆÁöÑÈòüÂàóÂ∞ÜÊã•ÊúâÂíåÁõÆÊ†áÈòüÂàóÁõ∏ÂêåÁöÑ‰ºòÂÖàÁ∫ßdispatch_queue_t serialDispatchQueue = dispatch_queue_create(&quot;serialDispatchQueue&quot;, NULL);dispatch_queue_t backgroundDispatchQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0);dispatch_set_target_queue(serialDispatchQueue, backgroundDispatchQueue);// ÊÉÖÂÜµ2: ÁõÆÊ†áÈòüÂàó‰∏∫‰∏≤Ë°åÈòüÂàóÔºåËÄåÂ§ö‰∏™‰∏≤Ë°åÈòüÂàóËÆæÁΩÆÂÖ∂‰∏∫ÁõÆÊ†áÈòüÂàóÂêéÂ∞Ü‰∫íÁõ∏‰∏≤Ë°åÔºåÂêå‰∏ÄÊó∂Èó¥Âè™ÊúâÂÖ∂‰∏≠‰∏Ä‰∏™ÈòüÂàóÊâßË°å‰∏≤Ë°å‰ªªÂä°„ÄÇ Ë∞ÉÂ∫¶ÁªÑ(Dispatch Group)ÈíàÂØπÂ∏åÊúõÂú®ËøΩÂä†Âà∞Dispatch QueueÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ÂÖ®ÈÉ®ÂÆåÊàêÂêéÊâßË°åÊüê‰∏ÄÁâπÂÆö‰ªªÂä°ÁöÑÊÉÖÂÜµÔºåÊèê‰æõ‰∫ÜDispatch GroupËøô‰∏ÄÁâπÊÄß„ÄÇÂàõÂª∫Á∫øÁ®ãÁªÑÂêéÔºåÂèØ‰ª•ÂêëÂÖ∂‰∏≠ËøΩÂä†‰ªªÂä°ÔºåÂΩìÊâÄÊúâ‰ªªÂä°ÂÖ®ÈÉ®ÂÆåÊàêÊó∂Ôºå‰ºöÊâßË°åÈÄöÁü•‰ªªÂä°ÔºåÈÄöÁü•‰ªªÂä°ÁöÑÂÖ∑‰ΩìÂÜÖÂÆπÁî±Á®ãÂ∫èÂëòËÆæÁΩÆ„ÄÇ 1234567891011121314// ÂàõÂª∫Dispatch Groupdispatch_group_t group = dispatch_group_create();// Ëé∑Âèñ‰∏Ä‰∏™Âπ∂ÂèëÈòüÂàódispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRORITY_DEFAULT, 0);// ËøΩÂä†‰∏§‰∏™‰ªªÂä°dispatch_group_async(group, queue, ^&#123;NSLog(@&quot;No.1&quot;); &#125;);dispatch_group_async(group, queue, ^&#123;NSLog(@&quot;No.2&quot;); &#125;);//ËÆæÁΩÆÂÆåÊàêÊó∂ÁöÑ‰ªªÂä°dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;NSLog(@&quot;All task done&quot;)&#125;);// Dispatch GroupÈúÄË¶ÅÊâãÂä®ÈáäÊîæÂÜÖÂ≠òdispatch_release(group) Dispatch Barrier‰∏∫‰∫ÜËß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËØªÂèñÂ§ÑÁêÜÊîæÂÖ•Âπ∂ÂèëÈòüÂàó‰∏≠ÔºåÂ∞ÜÂÜôÂÖ•Â§ÑÁêÜÊîæÂÖ•‰∏≤Ë°åÈòüÂàó‰∏≠ÔºåÂêåÊó∂ËøòË¶Å‰øùËØÅÂú®Ê≤°ÊúâËØªÂèñÊìç‰ΩúÊó∂ÂÜôÂÖ•„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈòüÂàó‰ºòÂÖàÁ∫ßÂíåË∞ÉÂ∫¶ÁªÑÁªìÂêàÂÆûÁé∞Ôºå‰ΩÜÊòØËøôÊ†∑Ëøá‰∫éÂ§çÊùÇ„ÄÇGCDÊèê‰æõ‰∫Üdispatch_barrier_asyncÂáΩÊï∞Êù•ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇ dispatch_barrier_asyncÂáΩÊï∞‰ºöÁ≠âÂæÖËøΩÂä†Âà∞Âπ∂ÂèëÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ÂÖ®ÈÉ®ÂÆåÊàêÂêéÊâçÂ∞ÜËá™Â∑±ÁöÑÂ§ÑÁêÜËøΩÂä†Âà∞Âπ∂ÂèëÈòüÂàó‰∏≠Ôºå‰ΩÜÊ≠§Êó∂Âπ∂ÂèëÈòüÂàó‰ªÖËøêË°åËØ•‰ªªÂä°ÔºåÂæÖËØ•‰ªªÂä°ÊâßË°åÂÆåÂêéÔºåÂπ∂ÂèëÈòüÂàóÊÅ¢Â§çÊ≠£Â∏∏ÁªßÁª≠Âπ∂ÂèëÊâßË°å„ÄÇ 123456789101112// ÂàõÂª∫Âπ∂ÂèëÈòüÂàódispatch_queue_t queue = dispatch_queue_create(&quot;barrierTest&quot;, DISPATCH_QUEUE_CONCURRENT);// ËØªÂèñÊìç‰Ωúdispatch_async(queue, readingBlock1);dispatch_async(queue, readingBlock2);dispatch_async(queue, readingBlock3);// ÂÜôÂÖ•Êìç‰Ωúdispatch_barrier_async(queue, writingBlock1);// ËØªÂèñÊìç‰Ωúdispatch_async(queue, readingBlock4);dispatch_async(queue, readingBlock5); Á∫øÁ®ãÁöÑÊåÇËµ∑/ÊÅ¢Â§ç ÂèØ‰ª•Â∞ÜÁ∫øÁ®ãÊöÇÊó∂ÊåÇËµ∑ÔºåÂêéÈù¢ÂÜçËøõË°åÊÅ¢Â§çÊâßË°å„ÄÇ‰ΩÜ‰ªÖÈôê‰∫éËøòÊú™ÊâßË°åÁöÑ‰ªªÂä°ÔºåÂ∑≤ÊâßË°åÁöÑÂíåÊ≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°‰∏çÂèóÂΩ±Âìç„ÄÇ12345// ÊåÇËµ∑Á∫øÁ®ãdispatch_suspend(queue);// ÊÅ¢Â§çÁ∫øÁ®ãdispatch_resume(queue); Dispatch Semaphore(‰ø°Âè∑Èáè)ÊéßÂà∂‰∏∫‰∫ÜÁ≤æÁ°ÆÊéßÂà∂Âπ∂Ë°åÂ§ÑÁêÜÔºåGCDÊèê‰æõ‰∫Ü‰ø°Âè∑Èáè12345// ÁîüÊàêDispatch SemaphoreÂπ∂ÊåáÂÆö‰ø°Âè∑Èáèdispatch_semaphore_t semaphore = dispatch_semaphore_create(1);// Á≠âÂæÖ‰ø°Âè∑ÈáèÂ§ß‰∫éÁ≠â‰∫é1dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); NSOperationÈô§‰∫Ü‰ΩøÁî®GCD‰πãÂ§ñÔºåiOSËøòÊèê‰æõ‰∫ÜNSOperation/NSOperationQueueËøô‰∏ÄÂ§öÁ∫øÁ®ãÂÆûÁé∞ÊñπÂºè„ÄÇ ÂÆûÁé∞Êú∫Âà∂NSOperation‰ª£Ë°®‰∏Ä‰∏™Â§öÁ∫øÁ®ã‰ªªÂä°„ÄÇNSOperationQueue‰ª£Ë°®‰∏Ä‰∏™FIFOÁöÑÈòüÂàóÔºåÂÖ∂Â∫ïÈÉ®Áª¥Êä§‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ôºå‰ºöÊåâÁÖßÂÖàÂÖ•ÂÖàÂá∫ÁöÑÈ°∫Â∫èÊâßË°åÊèê‰∫§ÁªôÈòüÂàóÁöÑNSOperation‰ªªÂä°„ÄÇ ‰ΩøÁî®Ê≠•È™§‰ΩøÁî®NSOperationQueueËæÉ‰∏∫ÁÆÄÂçïÔºåÂÖ∂Ë¥üË¥£ÁÆ°ÁêÜ„ÄÅÊâßË°åÊâÄÊúâNSOperationÔºåÂºÄÂèëËÄÖËÉΩÂ§üÂ∞ÜÊ≥®ÊÑèÂäõÊõ¥Â§öÁöÑÊîæÂú®‰ªªÂä°‰∏äËÄåÈùûÈòüÂàóÁöÑ‰ΩøÁî®‰∏ä„ÄÇÂÖ∂‰∏ªË¶ÅÊèê‰æõ‰∫Ü‰ª•‰∏ãAPI:123456789101112// Ê∑ªÂä†Âà∞ÈòüÂàó‰∏≠- (void)addOperation:(NSOperation *)op;// Ê∑ªÂä†Âπ∂ÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãËá≥ÊâÄÊúâ‰ªªÂä°ÂÆåÊàê- (void)addOperations:(NSArray&lt;NSOperation *&gt; *)ops waitUntilFinished:(BOOL)wait;// ÂèñÊ∂àÊâÄÊúâÊìç‰Ωú- (void)cancelAllOperations;// ËÆæÁΩÆNSOperationQueueÈòüÂàóÊúÄÂ§ßÊîØÊåÅÁöÑÂπ∂ÂèëÁ∫øÁ®ãÊï∞Èáè@property NSInteger maxConcurrentOperationCount;// ËÆæÁΩÆÂíåËøîÂõûÊòØÊòØÂê¶ÊöÇÂÅúË∞ÉÂ∫¶ÂΩìÂâçÊ≠£Âú®ÊéíÈòüÁöÑ‰ªªÂä°ÔºåÈúÄË¶Å‰ΩøÁî®KVCËÆæÁΩÆ@property(getter=isSuspended) BOOL suspended; NSOperation‰ΩøÁî®NSOperation‰∏ÄËà¨‰∏çÁõ¥Êé•‰ΩøÁî®ÔºåËÄåÊòØÂàõÂª∫ÂÖ∂Â≠êÁ±ªÊù•‰ΩøÁî®„ÄÇÁªßÊâøNSOperationÈúÄË¶ÅÈáçÂÜôÂÖ∂mainÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÁöÑÊñπÊ≥ï‰ΩìÁî®‰∫éNSOperationQueueÊù•ÊâßË°å‰ªªÂä°„ÄÇ ËÄåÈªòËÆ§‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜNSInvocationOperationÂíåNSBlockOperation‰∏§ÁßçÂ≠êÁ±ªÔºåÂàÜÂà´ÂØπÂ∫î‰∫ÜSELÂíåBlock‰∏§Áßç‰ªªÂä°Êèê‰∫§ÊñπÂºè„ÄÇ12345// NSInvocationOperation- (instancetype)initWithTarget:(id)target selector:(SEL)sel object:(id)arg;// NSBlockOperation+ (instancetype)blockOperationWithBlock:(void (^)(void))block; ÊÄªÁªìÊú¨Êñá‰∏ªË¶ÅÊÄªÁªìiOSÂºÄÂèë‰∏≠ÁöÑÂ§öÁ∫øÁ®ãÊ¶ÇÂøµ„ÄÅÊäÄÊúØÊñπÊ°à‰ª•ÂèäÁÆÄÂçïÂÆûÁî®ÔºåÂÖ∑‰ΩìÁöÑ‰ΩøÁî®ÊñπÂºè‰∏çÂÜçËµòËø∞„ÄÇÂºÄÂèë‰∏≠Â∏∏Áî®Âà∞GCDÂíåNSOperationÔºåËÄåÂâçËÄÖÂú®ÂäüËÉΩ‰∏∞ÂØåÊÄßÂíåÂ§çÊùÇÊÄß‰∏ä‰πüËÆ∏ÊúâÁùÄÊõ¥Â•ΩÁöÑÂùáË°°„ÄÇ ÂêåÊó∂Êú¨ÊñáËøòÊ∂âÂèäÂà∞‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®„ÄÅÁ∫øÁ®ã‰∏≠ÈîÅÁöÑÊäÄÊúØÊñπÊ°à„ÄÅÁ∫øÁ®ãÁöÑ‰ΩøÁî®ËßÑÂàôÁ≠âÈóÆÈ¢òÔºåÊúâÂÖ¥Ë∂£ÁöÑÂèØ‰ª•Ëøõ‰∏ÄÊ≠•Á†îÁ©∂„ÄÇ Áõ∏ÂÖ≥ËµÑÊñô iOSÂ§öÁ∫øÁ®ãÁºñÁ®ãÊåáÂçó: Threading Programming Guide iOSÂπ∂Ë°åÁºñÁ®ãÊåáÂçó: Concurrency Programming Guide]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
        <tag>iOSÊäÄÊúØ</tag>
        <tag>ÊÄßËÉΩ‰ºòÂåñ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objective-CÂçèËÆÆÈÅµÂÆàNSObjectÂçèËÆÆÁöÑÂéüÂõ†]]></title>
    <url>%2F2017%2F03%2F24%2FObjective-C%E5%8D%8F%E8%AE%AE%E9%81%B5%E5%AE%88NSObject%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%8E%9F%E5%9B%A0%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Â∞ÜÁî®OCÂÜôÁöÑÊ°ÜÊû∂ËøÅÁßªËá≥SwiftÊó∂ÔºåÂèëÁé∞OCÂÜôÁöÑÂçèËÆÆÈÉΩÈÅµÂÆà‰∫ÜNSObjectÔºåËÄåÂú®Swift‰∏≠Ê≤°ÊúâÊ≠§ÂçèËÆÆ„ÄÇÊâÄ‰ª•ËÆ∞ÂΩï‰∏Ä‰∏ãËøô‰∏™ÈóÆÈ¢òÁöÑÂéüÂõ†Ôºö Âú®Objective-C 2.0‰πãÂêéÔºåÊñπÊ≥ï‰øÆÈ•∞Á¨¶Êúâ@requiredÂíå@optional(Êñ∞Â¢û)Ôºå‰πüÂ∞±ÊòØËØ¥Â¢ûÂä†‰∫ÜÂèØÈÄâÊñπÊ≥ï„ÄÇÂØπÂ∫îÁöÑÔºå‰πüÂ∞±ÈúÄË¶ÅÂú®Ë∞ÉÁî®‰ª£ÁêÜÊñπÊ≥ï‰πãÂâçÂà§Êñ≠ÂÖ∂ÊòØÂê¶Ë¢´ÂÆûÁé∞„ÄÇ‰πüÂ∞±ÊòØÊàë‰ª¨ÁÜüÊÇâÁöÑÂ¶Ç‰∏ãÂÜôÊ≥ï: 123if (self.delegate != nil &amp;&amp; [self.delegate respondsToSelector:@selector(protocolFunc)]) &#123;[self.delegate protocolFunc];&#125; NSObjectÁöÑÂçèËÆÆ‰∏ªË¶ÅÂÆö‰πâ‰∫Ü‰ª•‰∏ãÂá†‰∏™Â∏∏ËßÅÊñπÊ≥ï: - (BOOL)isKindOfClass:(Class)aClass; - (BOOL)isMemberOfClass:(Class)aClass; - (BOOL)conformsToProtocol:(Protocol *)aProtocol; - (BOOL)respondsToSelector:(SEL)aSelector; etc‚Ä¶ ËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÊàë‰ª¨ÈúÄË¶ÅÁªßÊâøNSObject„ÄÇËÄåSwiftËØ≠Ë®Ä‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂèØÈÄâÈ°πÔºå‰øùËØÅ‰∫ÜË∞ÉÁî®ÁöÑÂÆâÂÖ®ÊÄßÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÊåâÂ¶Ç‰∏ãÊñπÊ≥ï‰ΩøÁî®: 1234567891011121314151617181920// ÂÆö‰πâÂçèËÆÆ@objc protocol MCTestViewDelegate: class &#123;@objc func testViewNeedsOperate()@objc optional func testViewDidUpdate()&#125;/* ... */// Âà§Êñ≠ÊòØÂê¶ÈÅµÂÆàÂçèËÆÆÂπ∂Ë∞ÉÁî®if let delegate = testView is MCTestViewDelegate &#123;delegate.testViewNeedsOperate()&#125;// Âà§Êñ≠‰ª£ÁêÜÂØπË±°ÊòØÂê¶ÂÆûÁé∞ËØ•‰ª£ÁêÜÊñπÊ≥ïif (delegate as? MCTestViewDelegate)?.testViewDidUpdate != nil &#123;// Â§ÑÁêÜ...&#125;// ‰∏ÄÂè•ËØùÂÆûÁé∞(delegate as? MCTestViewDelegate)?.testViewDidUpdate?() ÈÄöËøáÂèØÈÄâÈ°πÁöÑÂà§Êñ≠ÔºåÂç≥ÂèØËΩªÊùæÂà§Êñ≠ÊñπÊ≥ï/ÂçèËÆÆÊòØÂê¶ÂÆûÁé∞ÔºåÂáèÂ∞ë‰∫Ü‰ª£Á†ÅÈáè„ÄÇ]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Objective-C</tag>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®GitÊ∑ªÂä†TagÁöÑÊñπÊ≥ï]]></title>
    <url>%2F2016%2F10%2F21%2F%E4%BD%BF%E7%94%A8Git%E6%B7%BB%E5%8A%A0Tag%E7%9A%84%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÁÆÄËø∞‰Ωú‰∏∫ÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåGitÂèØ‰ª•ÂØπÊüê‰∏™ÁâàÊú¨Êâì‰∏äÊ†áÁ≠æ(tag)ÔºåË°®Á§∫Êú¨ÁâàÊú¨‰∏∫ÂèëË°åÁâà„ÄÇÂú®ÂèëÂ∏ÉËΩØ‰ª∂Ôºå‰ª•Âèä‰ΩøÁî®CocoaPodsÂàõÂª∫‰æùËµñÂ∫ìÁ≠âÊÉÖÂÜµÊó∂ÔºåÈúÄË¶ÅÂØπÂÖ∂ÁâàÊú¨‰ΩøÁî®Ê†áÁ≠æÊ≥®Èáä„ÄÇÊïÖÁÆÄÂçïÊÄªÁªì‰∏Ä‰∏ãÊ∑ªÂä†tagÁöÑÊñπÂºè„ÄÇ ‰ΩøÁî®GitÂëΩ‰ª§Êü•ÁúãÊ†áÁ≠æÊâìÂç∞ÊâÄÊúâÊ†áÁ≠æ1git tag` ÊâìÂç∞Á¨¶ÂêàÊ£ÄÁ¥¢Êù°‰ª∂ÁöÑÊ†áÁ≠æ1git tag -l &lt;ÁâàÊú¨Âè∑&gt; Â¶Ç git tag -l 1.*.* ‰∏∫ÊêúÁ¥¢‰∏ÄÁ∫ßÁâàÊú¨‰∏∫1ÁöÑÁâàÊú¨ Êü•ÁúãÂØπÂ∫îÊ†áÁ≠æÁä∂ÊÄÅ1git checkout &lt;ÁâàÊú¨Âè∑&gt; ÂàõÂª∫Êú¨Âú∞Ê†áÁ≠æÂàõÂª∫ËΩªÈáèÊ†áÁ≠æËΩªÈáèÊ†áÁ≠æÊåáÂêë‰∏Ä‰∏™ÂèëË°åÁâàÁöÑÂàÜÊîØÔºåÂÖ∂Âè™ÊòØ‰∏Ä‰∏™ÂÉèÊüêcommitÁöÑÂºïÁî®Ôºå‰∏çÂ≠òÂÇ®ÂêçÁß∞Êó∂Èó¥Êà≥ÂèäÊ†áÁ≠æËØ¥ÊòéÁ≠â‰ø°ÊÅØ„ÄÇÂÆö‰πâÊñπÊ≥ïÂ¶Ç‰∏ã1git tag &lt;ÁâàÊú¨Âè∑&gt;-light ÂàõÂª∫Â∏¶ÈôÑÊ≥®Ê†áÁ≠æÁõ∏ÂØπ‰∫éËΩªÈáèÊ†áÁ≠æÔºåÈôÑÊ≥®Ê†áÁ≠æÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÊ†áÁ≠æÂØπË±°ÔºåÂåÖÂê´‰∫ÜÂêçÁß∞Êó∂Èó¥Êà≥‰ª•ÂèäÊ†áÁ≠æÂ§áÊ≥®Á≠â‰ø°ÊÅØÔºåÂêåÊó∂ÊåáÂêëÂØπÂ∫îÁöÑcommit„ÄÇÂÆö‰πâÊñπÊ≥ïÂ¶Ç‰∏ã1git tag -a &lt;ÁâàÊú¨Âè∑&gt; -m "&lt;Â§áÊ≥®‰ø°ÊÅØ&gt;" ÂêåÊó∂Êàë‰ª¨‰πüÂèØ‰ª•ÂÉèÁâπÂÆöÁöÑcommitÊ∑ªÂä†Ê†áÁ≠æÔºå‰ΩøÁî®ËØ•commitÂØπÂ∫îÁöÑSHAÂÄºÂç≥ÂèØ1git tag -a &lt;ÁâàÊú¨Âè∑&gt; &lt;SHAÂÄº&gt; -m "&lt;Â§áÊ≥®‰ø°ÊÅØ&gt;" ÊØîÂ¶Ç git tag -a 1.0.0 0c3b62d -m &quot;Release Edition v1.0.0&quot; Â∞±ÊòØ‰∏∫SHA‰∏∫0c3b62dÁöÑËøôÊ¨°Êèê‰∫§Êâì‰∫Ü1.0ÂèëË°åÁâàÁöÑtag Âà†Èô§Êú¨Âú∞Ê†áÁ≠æ1git tag -d &lt;ÁâàÊú¨Âè∑&gt; Â∞ÜÊú¨Âú∞Ê†áÁ≠æÊèê‰∫§Âà∞ËøúÁ®ã‰ªìÂ∫ìÂâçÈù¢ÊâÄÊèêÂà∞ÁöÑÂàõÂª∫Ê†áÁ≠æÔºåÂè™ÊòØÂ∞ÜÊ†áÁ≠æÊ∑ªÂä†Âà∞‰∫ÜÊú¨Âú∞ÁöÑÁâàÊú¨ÁÆ°ÁêÜÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®ÂàõÂª∫‰πãÂêéÂ∞ÜÊú¨Âú∞Ê†áÁ≠æÂêåÊ≠•Âà∞ËøúÁ®ã‰ªìÂ∫ìÔºåÂ¶ÇGithub„ÄÇ Êé®ÈÄÅÊâÄÊúâÊ†áÁ≠æ1git push origin --tags Êé®ÈÄÅÊåáÂÆöÁâàÊú¨ÁöÑÊ†áÁ≠æ1git push origin &lt;ÁâàÊú¨Âè∑&gt; Âà†Èô§ËøúÁ®ã‰ªìÂ∫ìÁöÑÊ†áÁ≠æÂêåÂàõÂª∫Êú¨Âú∞Ê†áÁ≠æ‰∏ÄÊ†∑ÔºåÂà†Èô§‰∫ÜÊú¨Âú∞Ê†áÁ≠æ‰πãÂêé‰πüË¶ÅÂêåÊó∂Âà†Èô§ËøúÁ®ã‰ªìÂ∫ìÁöÑÊ†áÁ≠æ„ÄÇ Êñ∞ÁâàÊú¨Git (&gt; v1.7.0)1git push origin --delete &lt;ÁâàÊú¨Âè∑&gt; Êñ∞ÊóßÁâàÊú¨ÈÄöÁî®ÊñπÊ≥ïÊóßÁâàÊú¨GitÂπ∂Ê≤°ÊúâÊèê‰æõÁõ¥Êé•Âà†Èô§ÁöÑÊñπÊ≥ïÔºåËÄåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂ∞Ü‰∏Ä‰∏™Á©∫Ê†áÁ≠æÊõøÊç¢Áé∞ÊúâÊ†áÁ≠æÊù•ÂÆûÁé∞Âà†Èô§Ê†áÁ≠æÔºåÂç≥Â¶Ç‰∏ãÂëΩ‰ª§1git push origin :refs/tags/&lt;ÁâàÊú¨Âè∑&gt; Ë°•ÂÖÖÔºö‰ΩøÁî®GithubÊ∑ªÂä†Ê†áÁ≠æGithub‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂú®È°µÈù¢‰∏äËøõË°åÁºñËæëÂèëË°åÁâàÊú¨ÁöÑÊñπÂºèÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Âú®Github‰∏ä‰∏∫È°πÁõÆÊâìtagÂèØÂú®releaseÈ°µÈù¢ÔºåÈÄâÊã©ÂàõÂª∫Êñ∞tagÂπ∂Êåâ‰∏ãÂõæÊâÄÁ§∫Â°´ÂÜôÂç≥ÂèØ„ÄÇÂà†Èô§tag‰πüÂêåÁêÜ„ÄÇÊØç„ÄÇ ÊÄªÁªìÊúÄÂêéÊÄªÁªì‰∏Ä‰∏ãÂ∏∏Áî®ÂëΩ‰ª§ÔºåÊñπ‰æøÊü•ÈòÖ„ÄÇ 123456789101112131415161718192021222324252627282930/// Êü•ÁúãÊ†áÁ≠æ// ÊâìÂç∞ÊâÄÊúâÊ†áÁ≠ægit tag// ÊâìÂç∞Á¨¶ÂêàÊ£ÄÁ¥¢Êù°‰ª∂ÁöÑÊ†áÁ≠ægit tag -l 1.*.*// Êü•ÁúãÂØπÂ∫îÊ†áÁ≠æÁä∂ÊÄÅgit checkout 1.0.0/// ÂàõÂª∫Ê†áÁ≠æ(Êú¨Âú∞)// ÂàõÂª∫ËΩªÈáèÊ†áÁ≠ægit tag 1.0.0-light// ÂàõÂª∫Â∏¶Â§áÊ≥®Ê†áÁ≠æ(Êé®Ëçê)git tag -a 1.0.0 -m "ËøôÊòØÂ§áÊ≥®‰ø°ÊÅØ"// ÈíàÂØπÁâπÂÆöcommitÁâàÊú¨SHAÂàõÂª∫Ê†áÁ≠ægit tag -a 1.0.0 0c3b62d -m "ËøôÊòØÂ§áÊ≥®‰ø°ÊÅØ"/// Âà†Èô§Ê†áÁ≠æ(Êú¨Âú∞)git tag -d 1.0.0/// Â∞ÜÊú¨Âú∞Ê†áÁ≠æÂèëÂ∏ÉÂà∞ËøúÁ®ã‰ªìÂ∫ì// ÂèëÈÄÅÊâÄÊúâgit push origin --tags// ÊåáÂÆöÁâàÊú¨ÂèëÈÄÅgit push origin 1.0.0/// Âà†Èô§ËøúÁ®ã‰ªìÂ∫ìÂØπÂ∫îÊ†áÁ≠æ// GitÁâàÊú¨ &gt; V1.7.0git push origin --delete 1.0.0// ÊóßÁâàÊú¨Gitgit push origin :refs/tags/1.0.0]]></content>
      <categories>
        <category>ÂºÄÊ∫êÊ°ÜÊû∂</category>
      </categories>
      <tags>
        <tag>Github</tag>
        <tag>CocoaPods</tag>
        <tag>OpenSource</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CALayerÁöÑÂØÑÂÆøÂõæ]]></title>
    <url>%2F2016%2F09%2F01%2FCALayer%E7%9A%84%E5%AF%84%E5%AE%BF%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[ÂØÑÂÆøÂõæÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºåËßÜÂõæÂèØ‰ª•ÂØºÂÖ•ÂõæÁâáÔºåÂπ∂ËÆæÁΩÆÂÖ∂Êãâ‰º∏Ê®°Âºè„ÄÅÊîæÂ§ßÊØî‰æã‰πãÁ±ª„ÄÇËÄåÂõæÂ±Ç‰πüÂèØ‰ª•ÂØºÂÖ•ÂõæÁâáÔºåCALayerÊèê‰æõ‰∫ÜÂØÑÂÆøÂõæÁöÑÊ¶ÇÂøµÊù•ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂØÑÂÆøÂõæÂ∞±ÊòØÂõæÂ±Ç‰πã‰∏≠ÂåÖÂê´ÁöÑÂõæ„ÄÇ CALayerÁöÑcontentsÂ±ûÊÄßÂú®ËÆæÁΩÆÂõæÂ±ÇÂõæÁâáÊó∂ÔºåÈúÄË¶ÅÁªôcontentsËµãÂÄº„ÄÇÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö@property(nullable, strong) id contents;ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆÉÊòØ‰∏Ä‰∏™idÁ±ªÂûãÁöÑÂØπË±°Ôºå‰ΩÜÊòØËøôÊòØ‰∏∫‰∫ÜÂÖºÂÆπOSXÂºÄÂèë‰∏≠CoreAnimation„ÄÅAppKit‰∏≠ÁöÑCGImageÂíåNSImage‰∏§ÁßçÁ±ªÂûãËÄåËÆæÁΩÆ„ÄÇÂØπ‰∫éUIKitÁöÑUIImageÂπ∂‰∏çÊîØÊåÅÔºåËÆæÁΩÆ‰∫ÜÊó†Ê≥ïËØÜÂà´ÁöÑÂØπË±°ÊòØ‰∏çËÉΩÊòæÁ§∫ÁöÑÔºåÊâÄ‰ª•‰ΩøÁî®UIImageÈúÄË¶ÅË∞ÉÁî®‰∏ãËø∞ÁöÑËΩ¨Êç¢ÊñπÊ≥ïÔºö- (nullable CGImageRef)CGImageÁî±‰∫éËΩ¨Êç¢ÁöÑÊòØCGImageRefÔºåÊàë‰ª¨Áü•ÈÅìCÁ±ªÂûãÊòØ‰∏çÂèóARCÁÆ°ÁêÜÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅËøõË°åÁ±ªÂûãÊ°•Êé•„ÄÇÊúÄÁªàÂ∞±ÊòØÂ¶Ç‰∏ãÊïàÊûúÔºölayer.contents = (__bridge id)image.CGImage; contentsÁõ∏ÂÖ≥Â±ûÊÄßËÆæÁΩÆ‰∫ÜÂØÑÂÆøÂõæÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂØπÂÖ∂ËøõË°åÂèÇÊï∞Ë∞ÉÊï¥„ÄÇÂõæÂ±ÇÂú®Ê†∑ÂºèÂíåÂä®ÁîªÊñπÈù¢Êèê‰æõ‰∫ÜÊØîËßÜÂõæÊõ¥Â§öÁöÑÈÄâÊã©Ôºö contentGravity // Êãâ‰º∏Ê®°Âºè contentsScale // ÂÉèÁ¥†ÊØî‰æã maskToBounds // ÊòØÂê¶Ë£ÅÂàá contentsRect // ÊòæÁ§∫Âå∫Âüü contentsCenter // Êãâ‰º∏Âå∫Âüü contentsGravityÂΩìÊàë‰ª¨‰∏∫contentËÆæÁΩÆ‰∫ÜÂõæÁâáÂêéÔºåÂõæÁâáÈªòËÆ§ÊòØ‰ºöÊãâ‰º∏Ëá≥ÂõæÂ±ÇÂ§ßÂ∞èÁöÑÔºåËÄåÂ¶ÇÂêåËßÜÂõæÁöÑcontetModeÔºåÂõæÂ±Ç‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜcontentGravityÂ±ûÊÄß„ÄÇ@property(copy) NSString *contentsGravity;ÂÆÉÊòØNSStringÁ±ªÂûãÔºåÂèØÈÄâÁöÑÂ∏∏ÈáèÂÄº‰∏∫kCAGravity**,ÂÖ∑‰ΩìÂ¶Ç‰∏ã kCAGravityCenter kCAGravityTop kCAGravityBottom kCAGravityLeft kCAGravityRight kCAGravityTopLeft kCAGravityTopRight kCAGravityBottomLeft kCAGravityBottomRight kCAGravityResize kCAGravityResizeAspect kCAGravityResizeAspectFill ÂØπ‰∫éÂõæÁâáË¢´Êãâ‰º∏ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨Â§ÑÁêÜ‰πãÂêéÂ¶Ç‰∏ã: contentsScaleÁî±‰∫éËãπÊûúËÆæÂ§áÂ§öÈááÁî®‰∫ÜRetinaÂ±èÂπïÔºåÂ±èÂπïÁöÑÂÆûÈôÖÂàÜËæ®Áéá(ÊâãÊú∫ÂÉèÁ¥†)ÂíåËÆæËÆ°ÂàÜËæ®Áéá(ËßÜÂõæÁöÑÁÇπ)‰πãÈó¥Â≠òÂú®ÁùÄÂå∫Âà´„ÄÇÊØîÂ¶ÇÂØπ‰∫éiPhone 6ÔºåËßÜÂõæÂ§ßÂ∞è‰∏∫375√ó677(Âçï‰Ωç:ÁÇπ)Ôºå‰ΩÜÂÆûÈôÖÂÉèÁ¥†‰∏∫750√ó1334(Âçï‰Ωç:ÂÉèÁ¥†)ÔºåÂú®ÁïåÈù¢ÂºÄÂèëÊó∂Âπ∂Êó†Â§ßÁ¢çÔºåËÄåÂØπ‰∫éÂõæÁâáÁ¥†ÊùêÔºåÊàë‰ª¨ÊúâÊó∂ÂÄô‰∏çÂ∏åÊúõÈ´òÂàÜÂ±è‰∏éÂõæÁâáÁöÑÂÉèÁ¥†ÁªòÂà∂ÊØî‰æã‰∏∫1:1Ôºå‰∏∫‰∫Ü‰∏çËÆ©ÂõæÁâáÊç¢ÁÆóÊàêËßÜÂõæÂ§ßÂ∞èÂêéÂ§™Â∞èÔºåÂ∞±Ë¶ÅËÆæÁΩÆÂÆûÈôÖÁº©ÊîæÊØîÔºå‰ªéËÄåËÆ©È´òÂàÜÂ±èÁî®Â§ö‰∏™ÂÉèÁ¥†ÊòæÁ§∫ÂõæÁâá1‰∏™ÂÉèÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇËãπÊûú‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜcontentsScaleÂ±ûÊÄßÊù•ËÆæÁΩÆ„ÄÇ ÊØîÂ¶ÇÂΩìÊàë‰ª¨ËÆæÁΩÆcontentsScale‰∏∫1.0ÔºåÂç≥Â±èÂπïÊØè‰∏Ä‰∏™ÁÇπÁªòÂà∂ÂõæÁâáÁöÑ1‰∏™ÂÉèÁ¥†„ÄÇËÄåcontentsScale‰∏∫2.0Êó∂ÔºåÂ±èÂπïÊØè‰∏Ä‰∏™ÁÇπÁªòÂà∂ÂõæÁâáÁöÑ2‰∏™ÂÉèÁ¥†„ÄÇÊòæÁ§∫ÊïàÊûúÂ¶Ç‰∏ã: Tips: ÈúÄË¶ÅÊ≥®ÊÑèÔºåÁº©ÊîæÂè™ÊúâÂú®ÂõæÁâáÈÄÇÈÖçÊ®°Âºè‰∏çÊòØkCAGravityResize*(Êãâ‰º∏)Ê®°ÂºèÊó∂ÊâçÊúâÊïà„ÄÇ maskToBoundsËøô‰∏™Â±ûÊÄßÂØπÂ∫îËßÜÂõæÁöÑclipToBoundsÂ±ûÊÄß„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãËßÜÂõæÂíåÂõæÂ±ÇÈÉΩÂÖÅËÆ∏Â≠êËßÜÂõæÂíåÂ≠êÂõæÂ±ÇÁöÑÁªòÂà∂ËåÉÂõ¥Ë∂ÖÂá∫Ëá™Â∑±ÁöÑËæπÁïå„ÄÇ‰ΩÜÊòØÂæàÂ§öÊÉÖÂÜµ‰∏ãÊàë‰ª¨Âπ∂‰∏çÊÉ≥Ë¶ÅËøô‰∏™ÊïàÊûúÔºåÂæàÂ§öÊ†∑ÂºèÈÉΩÈúÄË¶ÅË£ÅÂàáÂ≠êÂõæÂ±Ç„ÄÇÊïàÊûúÂ¶Ç‰∏ã: contentsRectcontentsRectÁî®Êù•ÊåáÂÆöÂÜÖÂÆπÊòæÁ§∫ÁöÑÂå∫ÂüüÔºåÊØîÂ¶ÇÊòæÁ§∫ÂõæÁâáÁöÑÊüê‰∏™Â±ÄÈÉ®ÁªÜËäÇ„ÄÇÊ≥®ÊÑèÊï∞ÂÄºÊòØÊØî‰æãÂ§ßÂ∞è(0.0~1.0)ÔºåËÄåÈùûËßÜÂõæÂ§ßÂ∞è„ÄÇÂÖ∂Âè™ÊòØËÆæÁΩÆÊòæÁ§∫Âå∫ÂüüÔºåËÄåÈùûË£ÅÂâ™ÂõæÁâáÔºåÂÜÖÂ≠ò‰∏≠‰øùÂ≠òÁöÑ‰æùÊóßÊòØÊï¥‰∏™ÂõæÁâáÔºåÂ¶ÇÊûúË¶ÅÂ§ÑÁêÜÂõæÁâáÂ∫î‰ΩøÁî®Core Graphic„ÄÇ contentsCenterUIImageÊèê‰æõ‰∫ÜresizableImageWithCapInsetsÊñπÊ≥ïÊù•ÈÖçÁΩÆÂõæÁâáÁöÑÊãâ‰º∏ÔºåËÄåÂú®ÂõæÂ±Ç‰∏≠ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆccontentsCenterÂ±ûÊÄßÊù•ËÆæÁΩÆ‰∏Ä‰∏™ÂèØÊãâ‰º∏Âå∫ÂüüÔºå‰ªéËÄå‰øùËØÅÂõæÁâáÂú®Êî∂Âà∞Êãâ‰º∏Êó∂Â±ÄÈÉ®‰∏çÂèòÂΩ¢„ÄÇ Êàë‰ª¨ÈÄâÊã©‰∏ÄÂº†ËÅäÂ§©Ê∞îÊ≥°ÁöÑÁÖßÁâáÔºåÁÑ∂ÂêéÁºñÂÜôÂ¶Ç‰∏ã‰ª£Á†ÅÊù•ÊµãËØï:123456789101112- (void)viewDidLoad &#123;[super viewDidLoad];self.view.backgroundColor = [UIColor lightGrayColor];UIImage *image = [UIImage imageNamed:@&quot;bubble&quot;];self.layerView1.layer.contents = (__bridge id)image.CGImage;self.layerView2.layer.contents = (__bridge id)image.CGImage;self.layerView2.layer.contentsCenter = CGRectMake(0.75, 0.75, 0.1, 0.1);&#125; ÂéüÂõæÂèäË£ÅÂàáÊïàÊûú‰∏∫Ôºö ÈÄöËøáCore GraphicÁªòÂà∂CALayerÈô§‰∫ÜÈÄöËøáCore AnimationÊ°ÜÊû∂ÁöÑÂ±ûÊÄßÊù•ËÆæÁΩÆÂ§ñÔºåËøòÂèØ‰ª•Áõ¥Êé•ÈÄöËøáCore GraphicÊù•ÁªòÂà∂„ÄÇ UIViewÁöÑÊòæÁ§∫Êú∫Âà∂ÂΩìËßÜÂõæÂú®Â±èÂπï‰∏äÂá∫Áé∞Êó∂ÔºåÂÆÉ‰ºöÊ£ÄÊµã-(void)rawRect:ÊòØÂê¶Ë¢´ÂÆûÁé∞(ËØ•ÊñπÊ≥ïÊó†ÈªòËÆ§ÂÆûÁé∞)ÔºåÂ¶ÇÊûúÂÆûÁé∞‰∫ÜÂàô‰∏∫ËßÜÂõæÂàõÂª∫‰∏Ä‰∏™ÂØÑÂÆøÂõæÔºåÂÖ∂Â§ßÂ∞èÁ≠â‰∫éËßÜÂõæÂ§ßÂ∞è√ócontentsScale„ÄÇ(Ëã•‰∏çÂÆûÁé∞ËØ•ÊñπÊ≥ïÂàô‰∏ç‰ºöÂàõÂª∫ÔºåËøõËÄå‰ºòÂåñÊÄßËÉΩ)„ÄÇ -(void)drawRect:ÊòØËßÜÂõæÁöÑÊñπÊ≥ïËÄå‰∏çÊòØÂõæÂ±ÇÁöÑÔºåÂõæÂ±ÇÊèê‰æõ‰∫ÜÂõæÂ±ÇÊñπÊ≥ïÁöÑ‰ª£ÁêÜÔºåÂèØÁî±ËßÜÂõæÈÄöËøáÂÆûÁé∞‰ª£ÁêÜÊñπÊ≥ïÂÆåÊàêÁªòÂõæ„ÄÇ-(void)drawRect:‰∏çËÉΩÊâãÂä®Ë∞ÉÁî®ÔºåÈúÄË¶ÅË∞ÉÁî®-(void)setNeedsDisplayÊù•ÈÄöÁü•ÈáçÁªò„ÄÇ Ë∞ÉÁî®-(void)setNeedsDisplayÂêé‰ºöÂá∫Âèë‰ª£ÁêÜÊñπÊ≥ï-(void)displayLayer:(CALayer )layerÂíå-(void)drawLayer:(CALayer )layer inContext:(CGContextRef)ctx„ÄÇ (Ê≥®ÔºöÂ¶ÇÊûú‰∏§ÁßçÊñπÊ≥ïÂêåÊó∂Â≠òÂú®ÔºåÂàôÂè™‰ºöË∞ÉÁî®ÂêéËÄÖ)„ÄÇ]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>iOSÂä®Áîª</tag>
        <tag>Core Animation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSËìùÁâôÊ°ÜÊû∂CoreBluetoothÂèäÂ∞èÁ±≥ÊâãÁéØDemo]]></title>
    <url>%2F2016%2F08%2F15%2FiOS%E8%93%9D%E7%89%99%E6%A1%86%E6%9E%B6CoreBluetooth%E5%8F%8A%E5%B0%8F%E7%B1%B3%E6%89%8B%E7%8E%AFDemo%2F</url>
    <content type="text"><![CDATA[Á´†ËäÇÁõÆÂΩï iOSËìùÁâôÊ°ÜÊû∂‰ªãÁªç CoreBluetooth.frameworkÂØºÂÖ• CoreBluetoothÁöÑÂü∫Á°Ä‰ΩøÁî® ËìùÁâôËøûÊé•ÊâÄÊ∂âÂèäÂà∞ÁöÑÁ±ª Â∞èÁ±≥ÊâãÁéØDemo iOSËìùÁâôÊ°ÜÊû∂‰ªãÁªçCoreBluetooth‰ªãÁªçÂú®iOSÂºÄÂèë‰∏≠ÔºåÂÆûÁé∞ËìùÁâôÈÄö‰ø°ÁöÑÊñπÊ≥ïÊúâ‰∏§Áßç„ÄÇÂàÜÂà´ÊòØGameKit.framework‰ª•ÂèäCoreBluetooth.frameworkÔºåÂâçËÄÖÂú®iOS5ÂêéÂü∫Êú¨Ë¢´Ê∑òÊ±∞„ÄÇ Âú®ËãπÊûúÊñáÊ°£‰∏≠ÔºåÂÜô‰∫ÜCommunicate with Bluetooth 4.0 low-energy devicesÔºå‰πüÂ∞±ÊòØËØ¥‰ªÖÊîØÊåÅËìùÁâô4.0‰ΩéÂäüËÄóÂçèËÆÆ(BLE)„ÄÇ ÂØπ‰∫éiOS10‰ª•‰∏äÁöÑËÆæÂ§áÔºåËãπÊûúÊ≥®Êòé‰ª•‰∏ã‰ø°ÊÅØ: An iOS app linked on or after iOS 10.0 must include in its Info.plist file the usage description keys for the types of data it needs to access or it will crash. To access Bluetooth peripheral data specifically, it must include NSBluetoothPeripheralUsageDescription. ‰πüÂ∞±ÊòØËØ¥ÈúÄË¶ÅÂ£∞ÊòéÂπ∂Ê≥®ÂÜåËìùÁâôÊùÉÈôêÁöÑ‰ΩøÁî®„ÄÇ CoreBluetoothÂçèËÆÆÈ¶ñÂÖàÊèêÂèäËìùÁâô‰ΩøÁî®ÔºåÂú®Ê≠§ÂºïÂÖ•‰∏§‰∏™Ê¶ÇÂøµÔºö‰∏≠ÂøÉËÆæÂ§áÂíåÂ§ñÂõ¥ËÆæÂ§á„ÄÇ ‰∏≠ÂøÉËÆæÂ§á(ÂÆ¢ÊúçÁ´Ø)Ôºö‰Ωú‰∏∫‰∏≠Â§ÆÁÆ°ÁêÜÂô®ÁöÑËÆæÂ§áÔºå‰πüÂ∞±ÊòØÊú¨ÂÆû‰æã‰∏≠ÁöÑiOSËÆæÂ§á„ÄÇ Â§ñÂõ¥ËÆæÂ§á(ÊúçÂä°Âô®)Ôºö‰πüÂ∞±ÊòØÂ§ñÈÉ®ËÆæÂ§áÔºåÊâÆÊºîËÄÖ‰∫ßÁîüÊï∞ÊçÆÁöÑËßíËâ≤„ÄÇËÆ∏Â§ö‰º†ÊÑüÂô®„ÄÅËìùÁâôÊúçÂä°ËÆæÂ§áÂùáÊòØÂ§ñÂõ¥ËÆæÂ§á„ÄÇÊú¨ÂÆû‰æã‰∏≠Â∞èÁ±≥ÊâãÁéØÂ∞±ÊòØÂ§ñÂõ¥ËÆæÂ§á„ÄÇ ÂêåÊó∂Êï∞ÊçÆ‰º†ËæìËøòÊ∂âÂèäÂà∞‰ª•‰∏ãÂá†‰∏™ÂÄºÔºö UUIDÔºöÁõ∏ÂΩì‰∏é‰ΩøÁî®Ëøô‰∏™Ê®°ÂùóÂØπÊò†ÁöÑÂ∫îÁî®ÁöÑÊ†áËØÜ„ÄÇ RSSIÔºö‰ø°Âè∑Âº∫Â∫¶ÔºåÂà©Áî®Ê≠§‰ø°ÊÅØÂèØËøõË°åËìùÁâôÊµãË∑ùÔºåÂêéÈù¢Â∞ÜËøõË°åËÆ≤Ëß£„ÄÇ CoreBluetooth‰∏≠Ê∂âÂèä‰ª•‰∏ãÂØπË±°Á±ªÔºö CBCentralManagerÔºö‰∏≠ÂøÉËÆæÂ§áÁ±ª CBPeripheralÔºöÂ§ñÂõ¥ËÆæÂ§áÁ±ª CBCharacteristicÔºöËÆæÂ§áÁâπÂæÅÁ±ª Êé•‰∏ãÊù•Â∞±Áúã‰∏Ä‰∏ãÂ¶Ç‰ΩïÂØºÂÖ•ËìùÁâôÊ°ÜÊû∂„ÄÇ CoreBluetooth.frameworkÂØºÂÖ• È¶ñÂÖàÊñ∞Âª∫XcodeÈ°πÁõÆ Âú®General-&gt;TARGETS-&gt;Linked Framworks and Libraries‰∏≠ÁÇπÂáªÊ∑ªÂä†Âπ∂ÈÄâÊã©CoreBluetooth.frameworkÂØºÂÖ•„ÄÇ Âú®‰ª£Á†Å‰∏≠ÂØºÂÖ•CoreBluetooth.frameworkSwiftÔºöimport CoreBluetoothObjective-CÔºö#import Â£∞ÊòéÂçèËÆÆÔºö‰ΩøÁî®CoreBluetoothÈúÄË¶ÅÊîØÊåÅCBCentralManagerDelegate, CBPeripheralDelegateÂçèËÆÆÔºåÂç≥ÂâçÈù¢ÊâÄËØ¥ÁöÑ‰∏≠ÂøÉËÆæÂ§áÂíåÂ§ñÂõ¥ËÆæÂ§áÔºåÂπ∂ÂÆûÁé∞Áõ∏Â∫îÊñπÊ≥ï CoreBluetoothÁöÑÂü∫Á°Ä‰ΩøÁî®ÂØºÂÖ•Ê°ÜÊû∂Âπ∂Â£∞ÊòéÂçèËÆÆÂêéÔºåÂç≥ÂèØÂºÄÂßãÂÆûÁé∞ÂøÖË¶ÅÊñπÊ≥ï„ÄÇ‰∏ãÈù¢ÈÄöËøáÂ±ïÁ§∫Êï¥‰∏™ÊµÅÁ®ãÊâÄÈúÄË¶ÅÁöÑÊñπÊ≥ï ÂàùÂßãÂåñ 1var manager = CBCentralManager.init(delegate: self as? CBCentralManagerDelegate, queue: nil) Êâ´ÊèèËÆæÂ§á 1234567switch manager.state &#123; case .poweredOn: NSLog("Ê≠£Âú®Êâ´Êèè") manager.scanForPeripherals(withServices: nil, options: nil) default: break &#125; Ê≥®ÔºöËøôÈáå‰∏∫‰ªÄ‰πà‰∏ÄÂÆöË¶ÅÁî®switchËØ≠Ê≥ïÔºüÂõ†‰∏∫CBCentralManagerÁöÑStateÂ±ûÊÄßÂú®‰πãÂâçÊòØCBCentralManagerStateÔºå‰ΩÜÊòØÁé∞Âú®ÂèòÊàê‰∫ÜCBManagerStateÔºåËÄåÈúÄË¶ÅiOS10‰ª•‰∏äÊâçÊîØÊåÅÂêéËÄÖ(23333)„ÄÇËøô‰∏ÄÊ≥¢Âº∫Âà∂ÂçáÁ∫ßÊàëÊòØÊãíÁªùÁöÑÔºåÊâæ‰∫ÜÂæàÂ§öÊñπÊ≥ï‰πãÂêéÔºåÂèëÁé∞ËøôÊ†∑ÂÜôÂèØ‰ª•Ë¢´XcodeÊé•ÂèóËÄå‰∏çÂéªÊ£ÄÊü• Â§ÑÁêÜÂΩìÂâç‰∏≠ÂøÉËÆæÂ§áËìùÁâôÁä∂ÊÄÅ 12345678func centralManagerDidUpdateState(_ central: CBCentralManager) &#123; switch central.state &#123; case .poweredOn: NSLog("ËìùÁâôÂ∑≤ÂºÄÂêØ") default: NSLog("ËìùÁâôÊú™ÂºÄÂêØ") &#125; &#125; Êâ´ÊèèÂà∞Â§ñÂõ¥ËÆæÂ§áÁöÑÂ§ÑÁêÜ 123456789func centralManager(_ central: CBCentralManager, didDiscover peripheral: CBPeripheral, advertisementData: [String : Any], rssi RSSI: NSNumber) &#123; //peripheral.name‰∏∫ËÆæÂ§áÂêçÁß∞ //ÂèØ‰ª•Ë∞ÉÁî®CBCentralManagerÁöÑstopScanÂÅúÊ≠¢Êâ´Êèè central.stopScan() //ÂèØ‰ª•Ë∞ÉÁî®CBCentralManagerÁöÑconnectËøûÊé•ËÆæÂ§á central.connect(peripheral, options: nil) &#125; &#125; ÊàêÂäüËøûÊé•Âà∞Â§ñÂõ¥ËÆæÂ§áÁöÑÂ§ÑÁêÜ 1234567unc centralManager(_ central: CBCentralManager, didConnect peripheral: CBPeripheral) &#123; NSLog("ÊàêÂäüËøûÊé•") //ËÆæÁΩÆ‰ª£ÁêÜ peripheral.delegate = self //ËøûÊé•ÊàêÂäüÂêéÊé•‰∏ãÊù•ËØ•Êâ´ÊèèÊúçÂä° peripheral.discoverServices(nil) &#125; ËøûÊé•Â§±Ë¥•ÁöÑÂ§ÑÁêÜ 123func centralManager(_ central: CBCentralManager, didFailToConnect peripheral: CBPeripheral, error: Error?) &#123; NSLog("ËøûÊé•ËÆæÂ§áÂ§±Ë¥•") &#125; Êâ´ÊèèÂ∑≤ËøûÊé•Â§ñÂõ¥ËÆæÂ§áÊúçÂä° 123456789101112func peripheral(_ peripheral: CBPeripheral, didDiscoverServices error: Error?) &#123; if ((error) != nil) &#123; NSLog("Êü•ÊâæÊúçÂä°Â§±Ë¥•") return &#125; else &#123; for service in peripheral.services! &#123; //Êâ´ÊèèÂà∞ÊúçÂä°ÂêéÂØπÊúçÂä°ÈÄê‰∏™Êâ´ÊèèÁâπÂæÅÂÄº peripheral.discoverCharacteristics(nil, for: service) &#125; &#125; &#125; Êâ´ÊèèÂà∞ÁâπÂæÅÂÄºÂêéÁöÑÊìç‰Ωú 1234567891011121314151617func peripheral(_ peripheral: CBPeripheral, didDiscoverCharacteristicsFor service: CBService, error: Error?) &#123; if ((error) != nil) &#123; NSLog("Êâ´ÊèèÁâπÂæÅÂÄºÂ§±Ë¥•") &#125; else &#123; for characteristic in service.characteristics! &#123; //ËÆæÁΩÆÁâπÂæÅÂÄºÂè™Ë¶ÅÊúâÊõ¥Êñ∞Â∞±Ëé∑Âèñ peripheral.setNotifyValue(true, for: characteristic) if (characteristic.uuid.uuidString == "‰Ω†ÊÉ≥ÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤") &#123; peripheral.readValue(for: characteristic) //Êàñ characSaver = characteristic &#125; &#125; &#125; &#125; Ëß£Èáä‰∏Ä‰∏ãÂéüÁêÜÔºöÊñπÊ≥ïÂØπÊØè‰∏™ÊúçÂä°ËøõË°åÊâ´ÊèèÔºåËé∑ÂèñÁâπÂæÅÂÄº„ÄÇËæ®Âà´ÊòØÂê¶ÊòØ‰Ω†ÊÉ≥Ë¶ÅÁöÑÂäüËÉΩÁöÑÁâπÂæÅÂÄºÂ∞±Ë¶ÅÁî®Âà∞UUIDÔºåÁî®UUIDÂéªÂåπÈÖç„ÄÇÂåπÈÖçÂà∞Âêé‰Ω†ÂèØ‰ª•ÈÄâÊã©‰øùÂ≠ò‰ªñÁöÑÁâπÂæÅÂÄº‰ªéËÄåÂú®ÂêéÈù¢Ëá™Ë°åÊìç‰ΩúÔºåÊàñËÄÖÁî®readValueËØªÂèñÂÆÉÁöÑÂÄºÔºåÂπ∂Áî±Á≥ªÁªüËá™Âä®Ë∞ÉÁî®‰∏ãÈù¢‰ªãÁªçÁöÑÊñπÊ≥ï Ëé∑ÂèñÂÖ∑‰ΩìÂÄº‰πãÂêéÁöÑÊìç‰Ωú12345678910111213func peripheral(_ peripheral: CBPeripheral, didUpdateValueFor characteristic: CBCharacteristic, error: Error?) &#123; if ((error) != nil) &#123; statusLabel.text = "‰ªéËÆæÂ§áËé∑ÂèñÂÄºÂ§±Ë¥•" return &#125; else &#123; if(characteristic.uuid.uuidString == "ÁâπÂÆöÂÄº") &#123; var infoBytes = [UInt8](characteristic.value!) var infoVal:Int = Int.init(infoBytes[0]) NSLog("Ëé∑ÂèñÁöÑÂÄº‰∏∫Ôºö%d\n", infoVal) &#125; &#125; &#125; ËìùÁâôËøûÊé•ÊâÄÊ∂âÂèäÂà∞ÁöÑÁ±ªCBCentralManagerÊ≠§Á±ª‰∏∫‰∏≠ÂøÉËÆæÂ§áÁ±ªÔºåÁî®‰∫éÊéßÂà∂‰Ωú‰∏∫‰∏≠ÂøÉËÆæÂ§áÊó∂ÁöÑË°å‰∏∫ stateÔºöËé∑ÂèñÂΩìÂâç‰∏≠ÂøÉËÆæÂ§áÁä∂ÊÄÅ isScanningÔºöÂΩìÂâç‰∏≠ÂøÉËÆæÂ§áÊòØÂê¶Âú®Êâ´ÊèèÂ§ñÂõ¥ËÆæÂ§á stopScan()ÔºöÂÅúÊ≠¢Êâ´ÊèèÂ§ñÂõ¥ËÆæÂ§á scanForPeripherals(...)ÔºöÊâ´ÊèèÂ§ñÂõ¥ËÆæÂ§á(ËØ∑Á°Æ‰øùËìùÁâôÂºÄÂêØ) connect(...)ÔºöËøûÊé•Â§ñÂõ¥ËÆæÂ§á(ÈúÄË¶ÅÂÖàÊâ´ÊèèÂà∞Â§ñÂõ¥ËÆæÂ§á) cancelPeripheralConnection(...)ÔºöÊñ≠ÂºÄÂ§ñÂõ¥ËÆæÂ§á CBPeripheralÊ≠§Á±ª‰∏∫Â§ñÂõ¥ËÆæÂ§áÁ±ªÔºåÁî®‰∫éÂØπÂ§ñÂõ¥ËÆæÂ§áËøõË°åÁÆ°ÁêÜ nameÔºöËé∑ÂèñÂ§ñÂõ¥ËÆæÂ§áÁöÑÂêçÁß∞ rssiÔºöËé∑ÂèñÂΩìÂâçÂ§ñÂõ¥ËÆæÂ§áÁöÑ‰ø°Âè∑Âº∫Â∫¶ stateÔºöËé∑ÂèñÂ§ñÂõ¥ËÆæÂ§áÁöÑÁä∂ÊÄÅ(disconnected/connecting/connected) ‚òÖservicesÔºöËé∑ÂèñÂ§ñÂõ¥ËÆæÂ§áÊâÄÊèê‰æõÁöÑÊúçÂä°(ÈúÄË¶ÅÂÖàÊâ´ÊèèÂà∞ÊúçÂä°) discoverServices(...)ÔºöÊâ´ÊèèËÆæÂ§áÊâÄÊèê‰æõÁöÑÊúçÂä° discoverCharacteristics(...)ÔºöÊâ´ÊèèÁâπÂæÅÂÄº(ÈúÄË¶ÅÂÖàËé∑ÂèñÊúçÂä°) readValue(...)ÔºöËØªÂèñÁâπÂæÅÂÄºÊâÄÂØπÂ∫îÁöÑÂÄº(ÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞ÁâπÂæÅÂÄºÔºåÂêåÊó∂Ë¶ÅÊ≥®ÊÑèÊ≠§ÊñπÊ≥ï‰∏çÂèçÂõûÂÄºÔºåË¶ÅÁî®ÂçèËÆÆÁöÑdidUpdateValueFor characteristicÊñπÊ≥ïÂ§ÑÁêÜ) CBCharacteristicÂ§ñÂõ¥ËÆæÂ§áÊúçÂä°ÁöÑÁâπÂæÅÂÄº ‚òÖValueÔºöËé∑ÂèñÁâπÂæÅÂÄºÂØπÂ∫îÁöÑÂÄº Â∞èÁ±≥ÊâãÁéØDemoÂºÄÂèëÁé∞Âú®Â∞ùËØïÈÄöËøáCoreBluetoothÁöÑÂÜÖÂÆπÔºåÊù•ÂÆûÁé∞Â∞èÁ±≥ÊâãÁéØÁöÑËøûÊé•„ÄÅÊåØÂä®‰∏éÂÅúÊ≠¢ÊåØÂä®ÂäüËÉΩ„ÄÇÁâπÂæÅÂÄºÂü∫‰∫éÂ∞èÁ±≥ÊâãÁéØ1ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•Êî∂ÈõÜÂÖ∂‰ªñËÆæÂ§áÁâπÂæÅÂÄº„ÄÇ ÁïåÈù¢Êê≠Âª∫Êñπ‰æøËµ∑ËßÅÔºåËØ•È°πÁõÆÁõ¥Êé•ÈááÁî®storyboardÊê≠Âª∫Ôºå‰∏çÂÜçËµòËø∞È°πÁõÆDemo 12345678@IBOutlet weak var scanButton: UIButton!@IBOutlet weak var stopButton: UIButton!@IBOutlet weak var vibrateButton: UIButton!@IBOutlet weak var stopVibrateButton: UIButton!@IBOutlet weak var loadingInd: UIActivityIndicatorView!@IBOutlet weak var statusLabel: UILabel!@IBOutlet weak var resultField: UITextView!@IBOutlet weak var vibrateLevel: UISegmentedControl! ËÆæÁΩÆËìùÁâôÊìç‰ΩúËøáÁ®ãÊâÄÈúÄÂØπË±°Êåâ‰∏äËø∞ËÆ≤Ëß£ÔºåÂÆö‰πâÊâÄÈúÄÁöÑÂØπË±°ÔºåÂåÖÊã¨‰∏≠ÂøÉËÆæÂ§áÂ§ñÂõ¥ËÆæÂ§áÁ≠â„ÄÇ 123var theManager: CBCentralManager!var thePerpher: CBPeripheral!var theVibrator: CBCharacteristic! ÂÆûÁé∞CBCentralManagerDelegateÂçèËÆÆÊåâ‰∏äÊñáÊâÄËø∞ÂÆûÁé∞CBCentralManagerDelegateÂçèËÆÆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161override func viewDidLoad() &#123; super.viewDidLoad() // Do any additional setup after loading the view, typically from a nib. theManager = CBCentralManager.init(delegate: self as? CBCentralManagerDelegate, queue: nil) self.scanButton.isEnabled = false statusLabel.text = "" loadingInd.isHidden = true&#125;// Êâ´ÊèèÂπ∂ËøûÊé•@IBAction func startConnectAction(_ sender: UIButton) &#123; switch theManager.state &#123; case .poweredOn: statusLabel.text = "Ê≠£Âú®Êâ´Êèè‚Ä¶" theManager.scanForPeripherals(withServices: nil, options: nil) self.loadingInd.startAnimating() self.scanButton.isEnabled = false self.isDisconnected = false default: break &#125;&#125;@IBAction func disconnectAction(_ sender: UIButton) &#123; if ((thePerpher) != nil) &#123; theManager.cancelPeripheralConnection(thePerpher) thePerpher = nil theVibrator = nil statusLabel.text = "ËÆæÂ§áÂ∑≤Êñ≠ÂºÄ" scanButton.isEnabled = true isDisconnected = true isVibrating = false &#125;&#125;@IBAction func vibrateAction(_ sender: Any) &#123; if ((thePerpher != nil) &amp;&amp; (theVibrator != nil)) &#123; let data: [UInt8] = [UInt8.init(vibrateLevel.selectedSegmentIndex+1)]; let theData: Data = Data.init(bytes: data) thePerpher.writeValue(theData, for: theVibrator, type: CBCharacteristicWriteType.withoutResponse) &#125;&#125;@IBAction func stopVibrateAction(_ sender: UIButton) &#123; if ((thePerpher != nil) &amp;&amp; (theVibrator != nil)) &#123; let data: [UInt8] = [UInt8.init(0)]; let theData: Data = Data.init(bytes: data) thePerpher.writeValue(theData, for: theVibrator, type: CBCharacteristicWriteType.withoutResponse) isVibrating = false &#125;&#125;// Â§ÑÁêÜÂΩìÂâçËìùÁâô‰∏ªËÆæÂ§áÁä∂ÊÄÅfunc centralManagerDidUpdateState(_ central: CBCentralManager) &#123; switch central.state &#123; case .poweredOn: statusLabel.text = "ËìùÁâôÂ∑≤ÂºÄÂêØ" self.scanButton.isEnabled = true default: statusLabel.text = "ËìùÁâôÊú™ÂºÄÂêØÔºÅ" self.loadingInd.stopAnimating() &#125;&#125;// Êâ´ÊèèÂà∞ËÆæÂ§áfunc centralManager(_ central: CBCentralManager, didDiscover peripheral: CBPeripheral, advertisementData: [String : Any], rssi RSSI: NSNumber) &#123; if (peripheral.name?.hasSuffix("MI"))! &#123; thePerpher = peripheral central.stopScan() central.connect(peripheral, options: nil) statusLabel.text = "ÊêúÁ¥¢ÊàêÂäüÔºåÂºÄÂßãËøûÊé•" &#125; // ÁâπÂæÅÂÄºÂåπÈÖçËØ∑Áî® peripheral.identifier.uuidString resultField.text = String.init(format: "ÂèëÁé∞ÊâãÁéØ\nÂêçÁß∞Ôºö%@\nUUIDÔºö%@\n", peripheral.name!, peripheral.identifier.uuidString)&#125;// ÊàêÂäüËøûÊé•Âà∞ËÆæÂ§áfunc centralManager(_ central: CBCentralManager, didConnect peripheral: CBPeripheral) &#123; statusLabel.text = "ËøûÊé•ÊàêÂäüÔºåÊ≠£Âú®Êâ´Êèè‰ø°ÊÅØ..." peripheral.delegate = self peripheral.discoverServices(nil)&#125;// ËøûÊé•Âà∞ËÆæÂ§áÂ§±Ë¥•func centralManager(_ central: CBCentralManager, didFailToConnect peripheral: CBPeripheral, error: Error?) &#123; loadingInd.stopAnimating() statusLabel.text = "ËøûÊé•ËÆæÂ§áÂ§±Ë¥•" scanButton.isEnabled = true&#125;// Êâ´ÊèèÊúçÂä°func peripheral(_ peripheral: CBPeripheral, didDiscoverServices error: Error?) &#123; if ((error) != nil) &#123; statusLabel.text = "Êü•ÊâæÊúçÂä°Â§±Ë¥•" loadingInd.stopAnimating() scanButton.isEnabled = true return &#125; else &#123; for service in peripheral.services! &#123; peripheral.discoverCharacteristics(nil, for: service) &#125; &#125;&#125;// Êâ´ÊèèÂà∞ÁâπÂæÅÂÄºfunc peripheral(_ peripheral: CBPeripheral, didDiscoverCharacteristicsFor service: CBService, error: Error?) &#123; if ((error) != nil) &#123; statusLabel.text = "Êü•ÊâæÊúçÂä°Â§±Ë¥•" loadingInd.stopAnimating() scanButton.isEnabled = true return &#125; else &#123; for characteristic in service.characteristics! &#123; peripheral.setNotifyValue(true, for: characteristic) if (characteristic.uuid.uuidString == BATTERY) &#123; peripheral.readValue(for: characteristic) &#125; else if (characteristic.uuid.uuidString == DEVICE) &#123; peripheral.readValue(for: characteristic) &#125; else if (characteristic.uuid.uuidString == VIBRATE) &#123; theVibrator = characteristic &#125; &#125; &#125;&#125;// Êâ´ÊèèÂà∞ÂÖ∑‰ΩìËÆæÂ§áfunc peripheral(_ peripheral: CBPeripheral, didUpdateValueFor characteristic: CBCharacteristic, error: Error?) &#123; if ((error) != nil) &#123; statusLabel.text = "‰ªéËÆæÂ§áËé∑ÂèñÂÄºÂ§±Ë¥•" return &#125; else &#123; if(characteristic.uuid.uuidString == BATTERY) &#123; var batteryBytes = [UInt8](characteristic.value!) var batteryVal:Int = Int.init(batteryBytes[0]) self.resultField.text = String.init(format: "%@ÁîµÈáèÔºö%d%%\n", resultField.text, batteryVal) &#125; loadingInd.stopAnimating() scanButton.isEnabled = true statusLabel.text = "‰ø°ÊÅØÊâ´ÊèèÂÆåÊàêÔºÅ" if (isVibrating) &#123; vibrateAction(Any) &#125; &#125;&#125;// ‰∏éËÆæÂ§áÊñ≠ÂºÄËøûÊé•func centralManager(_ central: CBCentralManager, didDisconnectPeripheral peripheral: CBPeripheral, error: Error?) &#123; statusLabel.text = "ËÆæÂ§áÂ∑≤Êñ≠ÂºÄ" scanButton.isEnabled = true if(!isDisconnected) &#123; theManager.scanForPeripherals(withServices: nil, options: nil) &#125;&#125; Ë°•ÂÖÖÔºöÂ∞èÁ±≥ÊâãÁéØÊåØÂä®ÁöÑUUIDÊòØ2A06Ôºå0‰ª£Ë°®‰∏çÊåØÔºå1‰∏∫Áü≠ÊåØÔºå2‰∏∫ÈïøÊåØ„ÄÇ GitHubÔºöhttps://github.com/MinecodecraftDemoÈìæÊé•Ôºöhttps://github.com/Minecodecraft/MiBandDemo]]></content>
      <categories>
        <category>iOSÊäÄÊúØ</category>
      </categories>
      <tags>
        <tag>Cocoa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê†ëÁä∂Êï∞ÁªÑÁöÑÂá†ÁßçÊ®°Âûã]]></title>
    <url>%2F2016%2F08%2F13%2F%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[Ê†ëÁä∂Êï∞ÁªÑÂü∫Êú¨ÂÆö‰πâÔºöÊ†ëÁä∂Êï∞ÁªÑÊòØÂà©Áî®‰∫åÂàÜÁöÑÊÄùÊÉ≥‰ΩøÂæóÊü•ËØ¢Âíå‰øÆÊîπÁöÑÂ§çÊùÇÂ∫¶ÈÉΩ‰∏∫log(n)ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰∏ªË¶ÅÁî®‰∫éÊü•ËØ¢Êï∞ÁªÑÂâçÁºÄÂíå„ÄÅÂå∫Èó¥ÂíåÂπ∂‰∏îÁªèÂ∏∏Êõ¥ÊîπÊï∞ÊçÆ„ÄÇ Êï∞ÊçÆÁªìÊûÑÊÄùÊÉ≥ÔºöÂ¶Ç‰∏äÂõæÔºå2ÁöÑkÊ¨°ÊñπÁöÑ‰ΩçÁΩÆÂ≠òÊîæ1‰∏ÄÁõ¥Âà∞ 2^k Ëøô‰∫õÊï∞ÁöÑÂíåÔºåÁÑ∂ÂêéÂÜç‰∏çÊñ≠‰∫åÂàÜ„ÄÇÂÖ∑‰ΩìÂÆûÁé∞ÂèØ‰ª•Áî®‰∫åËøõÂà∂Ëß£ÈáäÔºå‰πüÂ∞±ÊòØ‰æãÂ¶ÇXXX100‰∏≠ÂÇ®Â≠òÁöÑÊòØXXX000~XXX100Ëøô‰∏Ä‰∏™Âå∫Èó¥ÁöÑÊâÄÊúâÊï∞ Âü∫Êú¨Êìç‰ΩúÔºöËÄåË¶ÅÂÆûÁé∞Ëøô‰∏ÄÁÇπÔºåÂ∞±Ë¶ÅÊ±Ç‰∏Ä‰∏™‰∫åËøõÂà∂Êï∞ÁöÑÊúÄ‰Ωé‰Ωç1ÔºåËøô‰∏™ÂèØ‰ª•Áî®lowbitÊìç‰ΩúÂÆûÁé∞Ôºö‰∏Ä‰∏™‰∫åËøõÂà∂Êï∞xÂØπÂÖ∂ËøõË°åx&amp;(-x)ÁöÑÊìç‰ΩúÔºåÂ∞±ÂèØ‰ª•‰øùÁïôÂÖ∂ÊúÄ‰Ωé‰ΩçÁöÑ1ÔºåËÄåËÆ≤ÂÖ∂‰ªñÂÖ®ÈÉ®‰ΩçÂÖ®Ê∏ÖÈõ∂ÊâÄ‰ª•‰∏Ä‰∏™Êï∞Âä†‰∏äËá™Â∑±ÁöÑlowbitÔºåÂ∞±Âà∞‰∫Ü‰∏ä‰∏ÄÁ∫ßÂåÖÂê´Ëá™Â∑±ÁöÑÂå∫Èó¥Ôºå‰æãÂ¶Ç110(6)Âä†‰∏ä10ÂèòÊàê‰∫Ü1000(8)ÔºåÂõ†‰∏∫1000ÂØπÂ∫îÁöÑ0~1000ÂêåÊ†∑ÔºåÂáèÂéªËá™Â∑±ÁöÑlowbitÂ∞±Áõ∏ÂΩì‰∫éÂéªÂ∞æ„ÄÇ Ê®°Âûã1ÔºöÊîπÁÇπÊ±ÇÁÇπÊ±ÇÊÆµ123456789101112131415161718192021//ËÆæM‰∏∫ÊúÄÂ§ßÊï∞ÁöÑ‰∏äÈôêÔºåtreerayÂ≠òÊ†ëÁä∂Êï∞ÁªÑvoid add(int k,int num)//ÂÉèÊüê‰∏™‰ΩçÁΩÆÊ∑ªÂä†ÁöÑÊìç‰Ωú&#123; while(k&lt;=M)//Èò≤Ê≠¢‰∏äÁïåÊ∫¢Âá∫ &#123; treeray[k]+=num; k+=k&amp;(-k);//‰∏çÊñ≠Âä†‰∏älowbitÊù•Âêë‰∏äÊõ¥Êñ∞ÂåÖÂê´Ëá™Â∑±ÁöÑÂå∫Èó¥ &#125; return;&#125;int read(int k)//ËØªÂèñ‰ª•Êüê‰∏™‰ΩçÁΩÆ‰∏∫ÁªàÁÇπÁöÑÂâçÁºÄÂíå&#123; int sum=0; while(k)//‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÊ†ëÁä∂Êï∞ÁªÑ‰∏çËÉΩÂÇ®Â≠ò0Ëøô‰∏™‰ΩçÁΩÆ &#123; sum+=treeray[k]; k-=k&amp;(-k);//‰∏çÊñ≠ÂáèlowbitÊù•Âä†‰∏äÂâçÈù¢Âå∫Èó¥ÁöÑÂíå &#125; return sum;&#125; Ê®°Âûã2ÔºöÊîπÊÆµÊ±ÇÁÇπÂΩìÈúÄË¶ÅÊîπÊÆµÊ±ÇÁÇπÊó∂ÔºåÂà©Áî®Ê†ëÁä∂Êï∞ÁªÑÊñπ‰æøÊ±ÇÂâçÁºÄÂíåÁöÑÁâπÊÄßÔºåÊàë‰ª¨ÈááÁî®ËÆ∞ÂΩïÂèòÂåñÈáèÁöÑÊäÄÂ∑ßÔºåÂ∞±ÂèØ‰ª•‰ΩøÂæó‰∏Ä‰∏™Êï∞ÁöÑÂâçÁºÄÂíåÂèòÊàê‰ªñ‰πãÂâçÊâÄÊúâÁöÑÂèòÂåñÈáèÔºå‰æøÂèØÂæóÂà∞Ëøô‰∏™Êï∞Êú¨Ë∫´„ÄÇÂú®Ê†ëÁä∂Êï∞ÁªÑ‰∏≠ÔºåÊØè‰∏™Êï∞ÂàùÂßãÂåñ‰∏∫0ÔºåÁÑ∂ÂêéÊØè‰∏™‰ΩçÁΩÆËÆ∞ÂΩïÂÆÉ‰∏éÂ∑¶ËæπÁöÑÂ∑ÆÂÄºÔºåÂ¶ÇÂõæÊâÄÁ§∫Ôºö 123456//add‰∏éreadÂáΩÊï∞Âêå‰∏ä//ÂΩìÂú®a‰∏ébÈó¥ÂÖ®ÈÉ®Âä†‰∏äcÊó∂add(a,c);add(b+1,c);//ÂΩìË¶ÅÂæóÂà∞kÁöÑÂÄºÊó∂read(k); Ê®°Âûã3ÔºöÊîπÊÆµÊ±ÇÊÆµÂΩìÈúÄË¶ÅÊîπÊÆµÊ±ÇÊÆµÊó∂Ôºå‰∏éÂâç‰∏ÄÁßçÁ±ªÂûãÁöÑÂå∫Âà´ÊòØÔºåÈúÄË¶ÅÊ±ÇÊüê‰∏ÄÁÇπ‚ÄúÁúüÊ≠£ÁöÑ‚ÄùÂâçÁºÄÂíå„ÄÇËÄÉËôëÂâç‰∏ÄÁßçÊñπÊ≥ïÔºåÂè™Áü•ÈÅìËØ•ÁÇπÊú¨Ë∫´‰∏éÂâçÈù¢ÊâÄÊúâÂèòÂåñÈáèÁöÑÊÄªÂíåÔºåÂç¥‰∏çÁü•ÈÅìËøô‰∫õÂèòÂåñÊòØ‰ªéÂì™ÈáåÂºÄÂßãÁöÑÔºåÊó†Ê≥ïÊñπ‰æøÂú∞Ê±ÇÂá∫ÂâçÁºÄÂíå„ÄÇÊàë‰ª¨ÂÖàÂÅáËÆæËøô‰∏™ÁÇπ‰πãÂâçÊâÄÊúâÊï∞ÈÉΩ‰∏éËøô‰∏™ÁÇπÁõ∏Á≠âÔºåËøôÊ†∑ÂøÖÁÑ∂‰ºöÂ§öÂá∫ÂâçÈù¢ÁöÑ‰∏Ä‰∫õÂèòÂåñÂÄºÂèòÂåñÈïøÂ∫¶Ëøô‰πàÂ§öÔºåÈÇ£‰πàÊàë‰ª¨ÂÜçÁî®‰∏Ä‰∏™Ê†ëÁä∂Êï∞ÁªÑÔºåÂÖ∂‰∏≠Âú®ÊØè‰∏Ä‰∏™ÂèòÂåñÁÇπËÆ∞ÂΩïÂèòÂåñÂÄºÂèòÂåñÈïøÂ∫¶ÔºåÈÇ£‰πàÊúÄÁªàÁÆóÊüê‰∏™ÁÇπÁöÑÂíåÔºåÂè™ÈúÄË¶ÅÂÜçÂáèÂéªËøô‰∏™Ê†ëÁä∂Êï∞ÁªÑÁöÑÂú®ËØ•ÁÇπÁöÑÂÄºÔºåÂ¶ÇÂõæÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637int A[],B[]; //‰∏§‰∏™Ê†ëÁä∂Êï∞ÁªÑvoid tadd(int a[],int x,int c)&#123; while(x&lt;=N) &#123; a[x] += c; x += lowbit(x); &#125; return;&#125;int tread(int a[],int x)&#123; int sum=0; while(x&gt;0) &#123; sum += a[x]; x -= lowbit(x); &#125; return sum;&#125;void update(int a,int b,int c)&#123; tadd(A,a,c); tadd(A,b+1,-c); tadd(B,a,c*(a-1)); //Âè†Âä†ÂâçÁºÄÂèòÂåñÈáè tadd(B,b+1,-c*b); return;&#125;int querry(int a,int b)&#123; int sum1=tread(A,a-1)*(a-1)-tread(B,a-1); int sum2=tread(A,b)*b-tread(B,b); return sum2-sum1;&#125; Ê®°Âûã4ÔºöÂ§öÁª¥Ê†ëÁä∂Êï∞ÁªÑÔºà‰ª•‰∫åÁª¥‰∏∫‰æãÔºâÂ§öÁª¥Ê†ëÁä∂Êï∞ÁªÑÂè™ÈúÄÊääÂ§öÁª¥ÁöÑÊØè‰∏ÄÁª¥Â∫¶ÂàÜÂà´ÂΩì‰Ωú‰∏ÄÁª¥Ê†ëÁä∂Êï∞ÁªÑÂç≥ÂèØÔºåÈÇ£‰πàNÁª¥ÁöÑÊüê‰∏ÄÁÇπÁöÑÂâçÁºÄÂíåÔºåÂÖ∂ÂÆûÂ∞±ÊòØÔºåÂêÑ‰∏™Áª¥Â∫¶ÁöÑÂâçÁºÄÂíåÂàÜÂà´Êò†Â∞ÑÂà∞ÂÖ∂‰ªñÁª¥Â∫¶ÁöÑÂâçÁºÄÂíåÊâÄ‰ª•ËøôÈáåÁªôÂá∫‰∫åÁª¥Ê†ëÁä∂Êï∞ÁªÑÁöÑ‰ª£Á†ÅÂÆûÁé∞ÔºåÂÖ∑‰ΩìÂèØ‰ª•ËßÅ‰∏ãÈù¢ÁöÑ‰æãÈ¢òPOJ1195Ôºö12345678910111213141516void tadd(int i,int j,int c)&#123; for(int x=i;x&lt;=N;x+=lowbit(x)) for(int y=j;y&lt;=N;y+=lowbit(y)) //‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèËøôÈáå‰∏çËÉΩÂÜçÁõ¥Êé•Áî®‰º†ÂÖ•ÁöÑÂΩ¢ÂèÇj‰∫ÜÔºåÂõ†‰∏∫ÊØèÊ¨°Âæ™ÁéØÈÉΩË¶Å‰Ωø‰πãÊàê‰∏∫Âàö‰º†ÂÖ•ÁöÑÂÄº base[x][y]+=c; return;&#125;int tread(int i,int j)&#123; int sum=0; for(int x=i;x&gt;0;x-=lowbit(x)) for(int y=j;y&gt;0;y-=lowbit(y)) sum+=base[x][y]; return sum;&#125; Ê≥®ÊÑèÊèêÁ§∫1.Ê†ëÁä∂Êï∞ÁªÑ‰∏≠‰∏ÄÂÆö‰∏çËÉΩÊúâ0ÂÖÉÔºåÂ¶ÇÊûúÈ¢òÁõÆ‰∏≠ÊúâË¶ÅÊ≥®ÊÑèÂ§ÑÁêÜ„ÄÇÈÄöÂ∏∏ÊòØÊï¥‰ΩìÊï∞ÊçÆÂä†1ÔºåËøôÊ†∑ÂêéÂêåÊó∂‰πüË¶ÅÊ≥®ÊÑèÂèòÂåñÂêéÁöÑÊï∞ÊçÆ‰∏äÈôê2.Ê†ëÁä∂Êï∞ÁªÑÂèØ‰ª•Áî®Êù•Ê±ÇÈÄÜÂ∫èÊï∞ÔºåÂÆûÁé∞ÊñπÊ≥ï‰ΩøËÆ©Êï∞Â≠óÊàê‰∏∫Ê†ëÁä∂Êï∞ÁªÑÁöÑÂÖÉÁ¥†ÔºåÊØîÊüê‰∏™Êï∞Â∞èÁöÑÊï∞ÊúâÂ§öÂ∞ëÂ∞±ÊòØËøô‰∏™Êï∞Âú®Êï∞ÁªÑ‰∏≠ÁöÑÂâçÁºÄÂíå]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
        <tag>ACM</tag>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ÂÄº‰º†ÈÄí„ÄÅÂºïÁî®‰º†ÈÄí„ÄÅÊåáÈíà‰º†ÈÄíÂå∫Âà´]]></title>
    <url>%2F2016%2F07%2F14%2FC%2B%2B%E5%80%BC%E4%BC%A0%E9%80%92%E3%80%81%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%E3%80%81%E6%8C%87%E9%92%88%E4%BC%A0%E9%80%92%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[Âú®C/C++‰∏≠ÁªèÂ∏∏‰ºöÈÅáÂà∞‰º†ÂÄºÈóÆÈ¢òÔºåÊÄªÁªì‰∏Ä‰∏ã‰º†ÂèÇÂå∫Âà´„ÄÇ ÁÆÄ‰ªãÂÄº‰º†ÈÄí: ÂÄº‰º†ÈÄí‰ªÖ‰º†ÈÄí‰∫ÜÂÆûÂèÇÁöÑÊã∑Ë¥ùÔºåÂú®‰º†ÂèÇÊó∂‰ºöÂú®Ê†àÂå∫ÂºÄËæüÂÜÖÂ≠òÁ©∫Èó¥Âπ∂Â∞ÜÂÆûÂèÇÂÄºÊã∑Ë¥ùÂÖ∂‰∏≠„ÄÇ‰πüÂ∞±ÊòØËØ¥ÂÄº‰º†ÈÄíÁöÑÂΩ¢ÂèÇ‰ªª‰ΩïÊó∂ÂÄôÈÉΩÂè™ÊòØÂÆûÂèÇÁöÑ‰∏Ä‰∏™ÂâØÊú¨Ôºå‰ªÖÊîπÂèò‰∫ÜËØ•ÂáΩÊï∞Ê†àÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáèÂÄº„ÄÇ ÂºïÁî®‰º†ÈÄí: ÂºïÁî®‰º†ÈÄíÂÆûÈôÖÊòØ‰∏∫ÂÆûÂèÇËÆæÁΩÆ‰∫ÜÂà´ÂêçÔºåÂÖ∂Âú®Ê†àÂå∫ÂºÄËæüÂÜÖÂ≠òÁ©∫Èó¥ÂêéÂπ∂‰∏çËøõË°åÊã∑Ë¥ùÔºåËÄåÊòØÂ≠òÊîæÂÆûÂèÇÁöÑÂú∞ÂùÄÔºå‰ªéËÄåÂØπÂΩ¢ÂèÇÁöÑÊìç‰ΩúÂÆûÈôÖ‰∏äÊòØÈÄöËøáÂØπÂÆûÂèÇÁöÑÈó¥Êé•ÂØªÂùÄÊù•ÂÆûÁé∞ÔºåÊìç‰ΩúÁöÑÊòØÂÆûÂèÇ„ÄÇ ÊåáÈíà‰º†ÈÄí: ÊåáÈíà‰º†ÈÄíÂÖ∂ÂÆûÊòØÁâπÊÆäÁöÑÂÄº‰º†ÈÄíÔºåÂå∫Âà´ÊòØÂÖ∂‰º†ÈÄíÁöÑÂÄºÊòØÂú∞ÂùÄËÄåÂÄº‰º†ÈÄíÊòØ‰º†ÈÄí‰∫ÜÂÆûÂèÇÁöÑÂÄº„ÄÇÊåáÈíà‰º†ÈÄíÊó∂‰ºöÂú®Ê†àÂå∫ÂºÄËæüÂÜÖÂ≠òÁ©∫Èó¥Âπ∂Â≠òÊîæÊåáÈíàÔºåËÄåÊåáÈíàÊåáÂêëÂÆûÂèÇÁöÑÂú∞ÂùÄ„ÄÇÈÄöËøáËøô‰∏ÄÊñπÊ≥ïÔºåÊìç‰ΩúÊåáÈíà‰πüÂ∞±ËææÂà∞‰∫ÜÊìç‰ΩúÂÆûÂèÇÁöÑÊïàÊûú„ÄÇ ËØïÈ™åÊàë‰ª¨Êù•Â∞ùËØïÂ¶Ç‰∏ã‰ª£Á†Å 123456789101112131415161718192021222324252627282930313233343536// ÂÄº‰º†ÈÄívoid change1(int num) &#123; cout &lt;&lt; "(ÂÄº‰º†ÈÄí) ÂΩ¢ÂèÇÂú∞ÂùÄ: " &lt;&lt; &amp;num &lt;&lt; endl; cout &lt;&lt; "(ÂÄº‰º†ÈÄí) ÊîπÂèòÂâç , num = " &lt;&lt; num &lt;&lt; endl; num++;&#125;// ÂºïÁî®‰º†ÈÄívoid change2(int &amp;num) &#123; cout &lt;&lt; "(ÂºïÁî®‰º†ÈÄí) ÂΩ¢ÂèÇÂú∞ÂùÄ: " &lt;&lt; &amp;num &lt;&lt; endl; cout &lt;&lt; "(ÂºïÁî®‰º†ÈÄí) ÊîπÂèòÂâç, num = " &lt;&lt; num &lt;&lt; endl; num++;&#125;// ÊåáÈíà‰º†ÈÄívoid change3(int *num) &#123; cout &lt;&lt; "(ÊåáÈíà‰º†ÈÄí) ÂΩ¢ÂèÇÂú∞ÂùÄ: " &lt;&lt; num &lt;&lt; endl; cout &lt;&lt; "(ÊåáÈíà‰º†ÈÄí) ÊîπÂèòÂâç, num = " &lt;&lt; *num &lt;&lt; endl; // Ê≥®ÊÑèÂå∫ÂàÜÊåáÈíàÂú∞ÂùÄËá™Â¢ûÂíåÊåáÈíàÂÄºËá™Â¢ûÁöÑÂå∫Âà´ (*num)++;&#125;int main(int argc, const char * argv[]) &#123; int num = 1; cout &lt;&lt; "ÂÆûÂèÇÁöÑÂú∞ÂùÄ: " &lt;&lt; &amp;num &lt;&lt; endl; change1(num); cout &lt;&lt; "(ÂÄº‰º†ÈÄí) ÊîπÂèòÂêé, num = " &lt;&lt; num &lt;&lt; endl &lt;&lt; endl; change2(num); cout &lt;&lt; "(ÂºïÁî®‰º†ÈÄí) ÊîπÂèòÂêé, num = " &lt;&lt; num &lt;&lt; endl &lt;&lt; endl; change3(&amp;num); cout &lt;&lt; "(ÊåáÈíà‰º†ÈÄí) ÊîπÂèòÂêé, num = " &lt;&lt; num &lt;&lt; endl &lt;&lt; endl; return 0;&#125; ËøêË°åÂêéÁªìÊûú‰∏∫: 123456789101112ÂÆûÂèÇÁöÑÂú∞ÂùÄ: 0x7ffeefbff5ac(ÂÄº‰º†ÈÄí) ÂΩ¢ÂèÇÂú∞ÂùÄ: 0x7ffeefbff54c(ÂÄº‰º†ÈÄí) ÊîπÂèòÂâç , num = 1(ÂÄº‰º†ÈÄí) ÊîπÂèòÂêé, num = 1(ÂºïÁî®‰º†ÈÄí) ÂΩ¢ÂèÇÂú∞ÂùÄ: 0x7ffeefbff5ac(ÂºïÁî®‰º†ÈÄí) ÊîπÂèòÂâç, num = 1(ÂºïÁî®‰º†ÈÄí) ÊîπÂèòÂêé, num = 2(ÊåáÈíà‰º†ÈÄí) ÂΩ¢ÂèÇÂú∞ÂùÄ: 0x7ffeefbff5ac(ÊåáÈíà‰º†ÈÄí) ÊîπÂèòÂâç, num = 2(ÊåáÈíà‰º†ÈÄí) ÊîπÂèòÂêé, num = 3 ÈÄöËøáÂØπÊØîÔºåÊàë‰ª¨‰∏çÈöæÂèëÁé∞ÔºåÂºïÁî®‰º†ÈÄíÂíåÊåáÈíà‰º†ÈÄíÊó∂ÂΩ¢ÂèÇÂ≠òÊîæÁöÑÂú∞ÂùÄÊòØÁõ∏ÂêåÁöÑÔºåËÄåÂÄº‰º†ÈÄíÂàôÊòØÂØπÂÆûÂèÇËøõË°å‰∫ÜÊã∑Ë¥ù„ÄÇÈÇ£‰πàÂºïÁî®ÂíåÊåáÈíàÊúâ‰ªÄ‰πàÂå∫Âà´Âë¢ÔºüÊàë‰ª¨Êù•Ëøõ‰∏ÄÊ≠•ËÆ®ËÆ∫„ÄÇ ÂºïÁî®‰º†ÈÄíÂíåÊåáÈíà‰º†ÈÄíÁöÑÂå∫Âà´1. ÊòØÂê¶ÂèØÁ©∫ Êàë‰ª¨ÂÖàÁúãÂáΩÊï∞ÂéüÂûã‰ª•Âèä‰º†ÂÖ•Á©∫Âú∞ÂùÄÁöÑÊÉÖÂÜµ: 12345void change2(int &amp;num); // ÂºïÁî®‰º†ÈÄívoid change3(int *num) // ÊåáÈíà‰º†ÈÄíchange2(NULL); // Êä•ÈîôÔºå‰∏çËÉΩÂºïÁî®Á©∫Âú∞ÂùÄchange3(NULL); // ÈÄöËøáÔºåÂèØ‰ª•‰º†ÂÖ•Á©∫Âú∞ÂùÄ ÂèØ‰ª•ÁúãÂá∫ÔºåÂºïÁî®ÂøÖÈ°ªÂØπÂ∫î‰∏Ä‰∏™ÊúâÊïàÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºåÂõ†‰∏∫ÂÖ∂Êú¨Ë¥®‰∏äÊòØÂÆûÂèÇÁöÑÂà´ÂêçÔºåËÄåÊåáÈíàÂèØ‰ª•ÊåáÂêë‰∏Ä‰∏™Á©∫Âú∞ÂùÄÔºåÂõ†‰∏∫ÂÖ∂Êú¨Ë¥®‰∏äÊòØÂèØ‰ª•ÊåáÂêëÊüêÂú∞ÂùÄÁöÑÊåáÈíà„ÄÇ 2. ÊòØÂê¶‰∏∫ÂÆû‰Ωì Êàë‰ª¨Áü•ÈÅìÔºåÊåáÈíàÂÆûÈôÖ‰∏ä‰πüÊòØ‰∏ÄÁßçÁ±ªÂûãÔºåÂÖ∂ÊåáÂêë‰∏Ä‰∏™ÂÜÖÂ≠òÂú∞ÂùÄÔºåÂÖ∂‰∏éÁõÆÊ†áÂèòÈáè‰πãÈó¥Âπ∂Êó†ÂÖ≥Á≥ª„ÄÇËÄåÂºïÁî®ÂÆûÈôÖ‰∏äÊòØ‰Ωú‰∏∫ÂèòÈáèÂà´ÂêçÊù•Â≠òÂú®ÔºåÂπ∂Èùû‰∏Ä‰∏™Áã¨Á´ãÁöÑÂÆû‰Ωì„ÄÇ Âú®‰ΩøÁî®Êó∂ÔºåÂºïÁî®‰∏çËÉΩÊîπÂèòÂÖ∂ÂºïÁî®Âú∞ÂùÄÔºåÂè™ËÉΩÊîπÂèòÁõÆÊ†áÂèòÈáèÁöÑÂÄºÔºåËÄåÊåáÈíàÂèØ‰ª•ÊîπÂèòÂú∞ÂùÄÂíåË¢´ÊåáÂêëÂèòÈáèÁöÑÂÄºÔºåËøô‰∏ÄÁÇπÊòæÁ§∫‰∫ÜÂêéËÄÖÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÂÆû‰Ωì„ÄÇ 3. sizeof Êàë‰ª¨Áü•ÈÅìsizeofÁî®Êù•ËÆ°ÁÆóÂèòÈáèÂ§ßÂ∞èÔºåÂΩìÊàë‰ª¨ÂØπÂºïÁî®ÂèñsizeofÊó∂ÔºåÂæóÂà∞ÁöÑÊòØÂÖ∂ÂºïÁî®ÂèòÈáèÁöÑÂ§ßÂ∞èÔºåËÄåÂØπÊåáÈíà‰ΩøÁî®sizeofÔºåÂæóÂà∞ÁöÑÂè™ÊòØÊåáÈíàÂèòÈáèÁöÑÂ§ßÂ∞èÔºå‰∏éË¢´ÊåáÂêëÂèòÈáèÊó†ÂÖ≥„ÄÇ 4. ÁºñËØëÊó∂ÁöÑÂå∫Âà´ Âú®ÁºñËØëÊó∂ÔºåÂºïÁî®ÂíåÊåáÈíàÂú®Á¨¶Âè∑Ë°®ÁöÑÂ§ÑÁêÜ‰∏äÂêåÊ†∑ÊúâÂå∫Âà´Ôºå‰ΩìÁé∞Âú®Á¨¶Âè∑Ë°®ÂèòÈáèÂêçÂíåÂèòÈáèÂú∞ÂùÄ‰∏ä„ÄÇ ÂºïÁî®ÁöÑÂú∞ÂùÄÊòØÁõÆÊ†áÂèòÈáèÁöÑÂú∞ÂùÄÔºå‰πüÂ∞±ÊòØËØ¥ÂºïÁî®Âπ∂Èùû‰ª•‰∏Ä‰∏™Áã¨Á´ãÂÆû‰ΩìÊù•Â≠òÂú®„ÄÇËÄåÊåáÈíàÁöÑÂú∞ÂùÄÊòØËøô‰∏™ÊåáÈíàÁ±ªÂûãÂèòÈáèÁöÑÂú∞ÂùÄÔºåÁõÆÊ†áÂèòÈáèÁöÑÂú∞ÂùÄÂè™ÊòØÂ≠òÂú®‰∫éÊåáÈíàÂèòÈáèÂÜÖÈÉ®ÔºåÂπ∂Ê≤°ÊúâÂú®ËØ•ÊåáÈíàÁ¨¶Âè∑Ë°®‰∏≠Â≠òÂú®„ÄÇ Áî±‰∫éÁ¨¶Âè∑Ë°®‰∏çÂèØÂèòÔºåÊâÄ‰ª•‰∏çÈöæÁúãÂá∫ÔºåÂºïÁî®Âπ∂‰∏çËÉΩÊîπÂèòÂÖ∂ÁõÆÊ†áÂèòÈáèÔºåËÄåÊåáÈíàÂèØ‰ª•‰ªªÊÑèÊîπÂèòÂÖ∂ÊåáÂêëÁöÑÂú∞ÂùÄ„ÄÇ]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
        <tag>ÁºñËØëÂéüÁêÜ</tag>
        <tag>ACM</tag>
      </tags>
  </entry>
</search>
